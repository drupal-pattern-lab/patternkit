{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/styles/choices.css","webpack:///./src/styles/starrating.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/class.js","webpack:///./src/core.js","webpack:///./src/defaults.js","webpack:///./src/editor.js","webpack:///./src/editors/ace.js","webpack:///./src/editors/array.js","webpack:///./src/editors/array/choices.js","webpack:///./src/editors/array/select2.js","webpack:///./src/editors/array/selectize.js","webpack:///./src/editors/autocomplete.js","webpack:///./src/editors/base64.js","webpack:///./src/editors/button.js","webpack:///./src/editors/checkbox.js","webpack:///./src/editors/choices.js","webpack:///./src/editors/colorpicker.js","webpack:///./src/editors/datetime.js","webpack:///./src/editors/describedby.js","webpack:///./src/editors/enum.js","webpack:///./src/editors/hidden.js","webpack:///./src/editors/info.js","webpack:///./src/editors/integer.js","webpack:///./src/editors/ip.js","webpack:///./src/editors/jodit.js","webpack:///./src/editors/multiple.js","webpack:///./src/editors/multiselect.js","webpack:///./src/editors/null.js","webpack:///./src/editors/number.js","webpack:///./src/editors/object.js","webpack:///./src/editors/radio.js","webpack:///./src/editors/sceditor.js","webpack:///./src/editors/select.js","webpack:///./src/editors/select2.js","webpack:///./src/editors/selectize.js","webpack:///./src/editors/signature.js","webpack:///./src/editors/simplemde.js","webpack:///./src/editors/starrating.js","webpack:///./src/editors/string.js","webpack:///./src/editors/table.js","webpack:///./src/editors/upload.js","webpack:///./src/editors/uuid.js","webpack:///./src/iconlib.js","webpack:///./src/iconlibs/fontawesome3.js","webpack:///./src/iconlibs/fontawesome4.js","webpack:///./src/iconlibs/fontawesome5.js","webpack:///./src/iconlibs/jqueryui.js","webpack:///./src/iconlibs/spectre.js","webpack:///./src/schemaloader.js","webpack:///./src/styles/choices.css?6ef8","webpack:///./src/styles/starrating.css?c5a6","webpack:///./src/templates/default.js","webpack:///./src/templates/ejs.js","webpack:///./src/templates/handlebars.js","webpack:///./src/templates/hogan.js","webpack:///./src/templates/lodash.js","webpack:///./src/templates/markup.js","webpack:///./src/templates/mustache.js","webpack:///./src/templates/swig.js","webpack:///./src/templates/underscore.js","webpack:///./src/theme.js","webpack:///./src/themes/barebones.js","webpack:///./src/themes/bootstrap4.js","webpack:///./src/themes/html.js","webpack:///./src/themes/jqueryui.js","webpack:///./src/themes/spectre.js","webpack:///./src/themes/tailwind.js","webpack:///./src/utilities.js","webpack:///./src/validator.js","webpack:///./src/validators/ip-validator.js"],"names":["Class","initializing","fnTest","test","window","postMessage","extend","prop","_super","prototype","name","fn","tmp","ret","apply","arguments","init","constructor","assignIconlibs","iconlibs","fontawesome3","fontawesome3Iconlib","fontawesome4","fontawesome4Iconlib","fontawesome5","fontawesome5Iconlib","jqueryui","jqueryuiIconlib","spectre","spectreIconlib","assignThemes","themes","html","htmlTheme","bootstrap4","bootstrap4Theme","jqueryuiTheme","barebones","barebonesTheme","spectreTheme","tailwind","tailwindTheme","assignDefaultEditors","editors","ace","AceEditor","array","ArrayEditor","arrayChoices","ArrayChoicesEditor","arraySelect2","ArraySelect2Editor","arraySelectize","ArraySelectizeEditor","autocomplete","AutocompleteEditor","base64","Base64Editor","button","ButtonEditor","checkbox","CheckboxEditor","choices","ChoicesEditor","datetime","DatetimeEditor","describedBy","DescribedByEditor","EnumEditor","hidden","HiddenEditor","info","InfoEditor","integer","IntegerEditor","ip","IpEditor","jodit","JoditEditor","multiple","MultipleEditor","multiselect","MultiSelectEditor","NullEditor","number","NumberEditor","object","ObjectEditor","radio","RadioEditor","sceditor","ScEditor","select","SelectEditor","select2","Select2Editor","selectize","SelectizeEditor","signature","SignatureEditor","simplemde","SimplemdeEditor","starrating","StarratingEditor","string","StringEditor","table","TableEditor","upload","UploadEditor","uuid","UuidEditor","colorpicker","ColorEditor","assignTemplates","templates","defaultTemplate","ejs","ejsTemplate","handlebars","handlebarsTemplate","hogan","hoganTemplate","lodashTemplate","markup","markupTemplate","mustache","mustacheTemplate","swig","swigTemplate","underscore","underscoreTemplate","JSONEditor","element","options","Element","Error","$extend","defaults","self","ready","copyClipboard","themeName","theme","themeClass","schema","setAttribute","disable_theme_rules","addNewStyleRules","rules","template","__data","iconClass","iconlib","root_container","getContainer","appendChild","translate","fetchUrl","document","location","origin","pathname","toString","loader","SchemaLoader","expandSchema","fileBase","expandRefs","refs","load","validatorOptions","custom_validators","validator","Validator","editorClass","getEditorClass","root","createEditor","jsoneditor","required","container","preBuild","build","postBuild","hasOwnProperty","setValue","startval","validation_results","validate","getValue","showValidationErrors","requestAnimationFrame","trigger","value","length","destroy","destroyed","innerHTML","removeAttribute","on","event","callback","callbacks","push","off","newcallbacks","i","editor","setOption","option","show_errors","onChange","classname","$each","resolvers","resolver","JSON","stringify","firing_change","compileTemplate","engine","compile","_data","el","key","hasAttribute","getAttribute","registerEditor","path","unregisterEditor","getEditor","watch","watchlist","unwatch","newlist","notifyWatchers","isEnabled","enable","disable","setCopyClipboardContents","getCopyClipboardContents","styleTag","querySelector","createElement","createTextNode","head","sheet","styleSheet","qualifier","nodeName","toLowerCase","selector","sel","insertRule","addRule","getDefaults","AbstractEditor","AbstractTheme","AbstractIconLib","languages","prompt_before_delete","type","file","cbs","console","log","variables","lang","language","default_language","replace","RegExp","en","error_notset","error_notempty","error_enum","error_anyOf","error_oneOf","error_not","error_type_union","error_type","error_disallow_union","error_disallow","error_multipleOf","error_maximum_excl","error_maximum_incl","error_minimum_excl","error_minimum_incl","error_maxLength","error_minLength","error_pattern","error_additionalItems","error_maxItems","error_minItems","error_uniqueItems","error_maxProperties","error_minProperties","error_required","error_additional_properties","error_dependency","error_date","error_time","error_datetime_local","error_invalid_epoch","error_ipv4","error_ipv6","error_hostname","button_delete_all","button_delete_all_title","button_delete_last","button_delete_last_title","button_add_row_title","button_move_down_title","button_move_up_title","button_object_properties","button_delete_row_title","button_delete_row_title_short","button_collapse","button_expand","flatpickr_toggle_button","flatpickr_clear_button","choices_placeholder_text","default_array_item_title","unshift","properties","format","media","binaryEncoding","FileReader","Object","enumSource","items","Array","isArray","indexOf","uniqueItems","oneOf","anyOf","links","rel","onChildEditorChange","notify","change","parent","bubble","watch_listener","register","unregister","getNumColumns","isActive","active","activate","optInCheckbox","checked","deactivate","isRequired","template_engine","original_schema","id","formname","form_name_root","undefined","split","slice","join","link_watchers","watchLoop","setContainer","registerDependencies","dependenciesFulfilled","deps","dependencies","keys","forEach","dependency","checkDependency","wrapper","control","previousStatus","some","choice","displayMode","tagName","child","childNodes","style","display","setOptInCheckbox","header","classList","add","addEventListener","show_opt_in","insertBefore","firstChild","setupWatchListeners","addLinks","getDefault","updateHeaderText","onWatchedFieldChange","watched","vars","watched_values","refreshWatchedFieldValues","pathParts","first","adjustedPath","myPath","concat","closest","shift","startsWith","headerTemplate","header_template","no_link_holder","link_holder","getLinksHolder","description","parentNode","addLink","getLink","onMove","getButton","text","icon","title","btnClass","getIcon","btn","setButtonText","link","data","holder","mime","mediaType","href","relTemplate","download","getBlockLinkHolder","image","createImageLink","url","getBlockLink","createMediaLink","textContent","changed","val","getWatchedFieldValues","headerText","getHeaderText","children","nodeType","nodeValue","cleanText","DOMPurify","sanitize","titleOnly","header_text","getTitle","txt","innerText","i0","i1","refreshValue","getChildEditors","removeChild","disabled","required_by_default","getDisplayText","arr","disp","used","descripton","inc","getValidId","setInputAttributes","inputAttribute","inputAttributes","protectedAttributes","input","expandCallbacks","scope","bind","errors","initial","fromTemplate","res","ace_editor_instance","session","getSelection","clearSelection","resize","input_type","afterInputReady","mode","selectionStyle","minLines","maxLines","ace_container","width","position","edit","readOnly","readonly","setReadOnly","is_dirty","always_disabled","alwaysDisabled","askConfirmation","confirm","rows","getItemInfo","tabs_holder","Math","max","min","add_row_button","remove_all_rows_button","delete_last_row_button","copy_button","delete_button","moveup_button","movedown_button","row_cache","hide_delete_buttons","disable_array_delete","hide_delete_all_rows_buttons","disable_array_delete_all_rows","hide_delete_last_row_buttons","disable_array_delete_last_row","hide_move_buttons","disable_array_reorder","hide_add_button","disable_array_add","show_copy_button","enable_array_copy","array_controls_top","compact","getHeader","title_controls","getHeaderButtonHolder","getDescription","error_holder","controls","getTopTabHolder","getItemTitle","row_holder","getTopTabContentHolder","active_tab","getTabHolder","getTabContentHolder","panel","getIndentedPanel","getButtonHolder","addControls","refreshTabs","item_title","getItemSchema","additionalItems","item_info","stringified","child_editors","getElementEditor","itemInfo","getTopTabContent","getTabContent","getChildEditorHolder","array_controls","empty","hard","row","tab","destroyRow","getMax","maxItems","Infinity","refreshHeaders","tab_text","markTabActive","markTabInactive","serialized","minItems","addRow","j","newActiveTab","force","oldi","controlsNeeded","collapsed","getTopTab","addTopTab","getTab","addTab","e","preventDefault","stopPropagation","controlsHolder","newval","toggle_button","margin","rowHolderDisplay","controlsDisplay","$trigger","disable_collapse","pop","tabs","textAlign","marginBottom","myErrors","otherErrors","error","getErrorMessage","message","choices_instance","map","updateValue","removeActiveItems","setChoiceByValue","Choices","removeItems","removeItemButton","addItems","editItems","duplicateItemsAllowed","newEnumAllowed","removeEventListener","multiselectChangeHandler","newValue","select_values","addNewOption","sanitized","option_keys","option_titles","setChoices","label","select2_instance","select2v4","jQuery","tags","selectChangeHandler","optionTag","Option","selectize_instance","plugins","delimiter","createOnBlur","create","addOption","unlock","lock","Autocomplete","autocomplete_wrapper","nextSibling","autocomplete_dropdown","autocomplete_instance","jseditor","baseClass","setFileReaderListener","frMultiple","count","current_item_index","target","result","tempObject","splice","total","arrayEditor","getFormInputLabel","infoText","infoButton","getInfoButton","getFormInputField","uploader","files","parseInt","readAsDataURL","fr","onload","evt","refreshPreview","preview","getFormInputDescription","getFormControl","last_preview","match","floor","substr","img","maxWidth","maxHeight","src","alert","getFormButton","action","getFormButtonHolder","align","changeHandler","validated","getCheckboxLabel","getCheckbox","previous_error_setting","messages","controlgroup","addInputError","removeInputError","typecast","enum_values","enum_options","choicesList","v","enum_display","Picker","picker_instance","domElement","setColor","createPicker","pointerEvents","buttons","querySelectorAll","alpha","color","popup","updateHandler","settings","editorFormat","isAlpha","hex","onDone","flatpickr","enableTime","noCalendar","wrap","showToggleButton","toggleButton","showClearButton","clearButton","buttonContainer","getInputGroup","inline","inlineHideInput","Date","getTime","setDate","dateObj","year","getFullYear","month","zeroPad","getMonth","day","getDate","hour","getHours","getMinutes","sec","getSeconds","date","time","dateValue","currentEditor","switchEditor","ref","buildChildEditor","editor_holder","baseSchema","enum_titles","selected","select_options","html_values","getHTML","switcher","getSwitcher","display_area","hide_display","adjust_height","default_format","cleave","delimiters","blocks","uppercase","numericOnly","jodit_instance","setEditorValue","Jodit","height","events","getEditorValue","destruct","currentValue","keep_values","refreshHeaderText","types","switcher_options","validators","keep_oneof_values","disallow","allowedTypes","display_text","getSwitcherOptions","displayText","prevType","fitTestVal","extra","validVal","fitTestResult","fitTest","finalI","typeChanged","checkPart","check","newErrors","newError","onInputChange","longestText","itemsSchema","t","inputs","getMultiCheckboxHolder","getSelectInput","setSelectOptions","size","removeValue","filter","item","addValue","escapeRegExp","regexPath","minimum","exclusiveMinimum","maximum","exclusiveMaximum","step","maxwidth","editjson_control","addproperty_button","hideEditJSON","layoutEditors","row_container","property_order","sort","a","b","ordera","propertyOrder","orderb","isCategoriesFormat","rowIndex","property_removed","grid_columns","offset","grid_offset","gridBreak","grid_break","offsetHeight","column","layout","getGridRow","setGridColumnSize","found","minh","maxh","biggest","newWidth","containerSimple","newTabsHolder","newTabPanesContainer","aPane","isObjOrArray","gridRow","basicPane","childElementCount","insertBasicTopTab","rowPane","tabPanesContainer","parentTabsHolder","firstTab","getFirstTab","getPropertySchema","matched","patternProperties","regex","allOf","additionalProperties","cached_editors","object_layout","minwidth","table_row","defaultProperties","display_required_only","k","s","isRequiredObject","addObjectProperty","idx","basicCategoryTitle","tabHolder","rowsLen","basicTab","basicTabPresent","basicTabRefreshed","getTableCell","input_width","editjson_holder","getModal","editjson_textarea","getTextareaInput","editjson_save","saveJSON","editjson_copy","copyJSON","editjson_cancel","addproperty_holder","addproperty_list","padding","overflowY","overflowX","paddingLeft","addproperty_add","addproperty_input","previousSibling","spacer","clear","onOutsideModalClick","getGridContainer","getGridColumn","singleRowContainer","row_container_basic","collapse_control","toggleEditJSON","disable_edit_json","toggleAddProperty","refreshAddProperties","deactivateNonRequiredProperties","showEditJSON","hideAddProperty","left","offsetLeft","top","offsetTop","editing_json","ta","body","execCommand","json","parse","insertPropertyControlUsingPropertyOrder","property","addPropertyCheckbox","labelText","paddingBottom","paddingTop","marginTop","removeObjectProperty","addproperty_checkboxes","showAddProperty","adding_property","prebuildOnly","canHaveAdditionalProperties","contains","no_additional_properties","remove_empty_properties","disable_properties","canAdd","numProps","showModal","maxProperties","minProperties","errorcount","addTableRowError","removeTableRowError","radioContainer","radioGroup","radioInputEventhandler","getFormRadio","radioLabel","getFormRadioLabel","htmlFor","getFormRadioControl","radioContainerWrapper","dataset","containerFor","remove","sceditor_instance","emoticonsEnabled","instance","blur","updateOriginal","enumValue","source","newVal","selectOptions","selectTitles","newItems","itemTitles","itemValues","order","prevValue","enum_source_value_auto_select","addItem","refreshOptions","clearOptions","SignaturePad","signatureContainer","canvas","signaturePad","onEnd","isEmpty","toDataURL","strokeEnd","offsetWidth","canvas_height","fromDataURL","simplemde_instance","SimpleMDE","codemirror","autorefresh","startListening","state","autoRefresh","delay","toTextArea","cm","stopListening","lastWrapHeight","clientHeight","refresh","timeout","setTimeout","hurry","clearTimeout","ratingContainer","radioInput","displayValue","displayRating","ratingsContainerWrapper","ceil","maxLength","minLength","num","multipleOf","getRangeInput","pattern","input_height","expand_height","ch","scrollHeight","getRangeControl","getRangeOutput","setupCleave","cleave_instance","Cleave","setupImask","imask","imask_instance","IMask","ajustIMaskOptions","obj","regExMatch","getGlobalPropertyFromString","strValue","arrParts","returnUnmasked","unmaskedValue","itemSchema","item_default","item_has_child_editors","getTable","thead","getTableHead","header_row","getTableRow","getTableBody","ce","th","getTableHeaderCell","controls_header_cell","getItemDefault","ignore","schemaCopy","controls_cell","table_controls","numrowsChanged","refreshRowButtons","needRowButtons","mime_type","upload_handler","enable_drag_drop","hide_input","clickHandler","dispatchEvent","MouseEvent","browseButton","fileDisplay","fileUploadGroup","alt_drop_zone","altDropZone","dropZone","getDropZone","drop_zone_text","uploadHandler","dataTransfer","max_upload_size","isValidMimeType","preview_value","dragHandler","validType","validZone","currentTarget","dropEffect","ev","inputNode","elements","drop_zone_top","onerror","mimeType","formattedSize","parseFloat","pow","toFixed","uploadButton","getProgressBar","progressBar","success","failure","updateProgress","progress","updateProgressBar","updateProgressBarUnknown","getUploadPreview","auto_upload","mimeTypesList","reduce","getUuid","testUuid","d","performance","now","c","r","random","mapping","collapse","expand","cancel","save","moveup","movedown","icon_prefix","getIconClass","iconclass","subtract","moveright","moveleft","copy","calendar","edit_properties","refs_with_info","refs_prefix","refs_counter","_loadExternalRefs","_getDefinitions","_getFileBase","recurseAllOf","_schema","$ref","refObj","_getRef","warn","extendSchemas","entries","_subSchema1","func","call","extended","_subSchema2","_expandSubSchema","not","_extended","decodeURIComponent","subschema","m","definitions","_getExternalRefs","mergeRefs","newrefs","refCounter","values","ajaxBase","_getFileBaseFromFileLocation","fileLocationString","pathItems","_isLocalUrl","done","waiting","callbackFired","ajax","XMLHttpRequest","overrideMimeType","open","ajaxCredentials","withCredentials","onreadystatechange","readyState","status","response","responseText","send","obj1","obj2","isRequiredOrDefaultProperties","merge","p","mergeType","n","matches","l","replacements","getReplacement","trim","cur","EJS","compiled","context","render","Handlebars","Hogan","_","Mark","up","Mustache","view","matchKey","elem","documentElement","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","getFloatRightLinkHolder","cssFloat","marginLeft","backgroundColor","border","boxShadow","zIndex","disableHeader","disableLabel","enableHeader","enableLabel","fontSize","fontWeight","tooltip","visibility","onmouseover","onmouseleave","req","marginRight","getFormCheckboxControl","applyStyles","attributes","fontStyle","getElementsByTagName","setSwitcherOptions","titles","boxSizing","startvalue","output","updateOutput","borderLeft","getTopIndentedPanel","getCheckboxDescription","buttonAlign","remove_button_labels","spanEl","propertyName","pName","styles","span","tabId","borderWidth","lineHeight","borderRadius","borderBottomRightRadius","borderTopRightRadius","cursor","paddingRight","borderBottomLeftRadius","opacity","background","start","errmsg","group","borderColor","input_size","custom_forms","object_indent","object_background","object_text","table_border","table_zebrastyle","ctrl","liel","ael","bar","percentage","inputGroupContainer","inputGroup","queuedInputErrorText","label_bold","align_bottom","object_border","popover","card","cardbody","localName","selectized","single","object_panel_default","table_hdiv","enable_compact","getRadioHolder","$isplainobject","deepcopy","destination","createEvent","initEvent","givenSchema","weight","fit","_getSchema","_validateSchema","_validateV3Required","_validateSubSchema","_validateByValueType","_expandSchemaLink","_validateDateTimeSubSchema","_validateCustomValidator","_removeDuplicateErrors","valid","oneofErrors","o","_checkType","invalid","_validateNumberSubSchema","_validateStringSubSchema","_validateArraySubSchema","validatedProperties","_validateObjectSubSchema","_validateObjectSubSchema2","_validateNumberSubSchemaMultipleDivisible","divisibleBy","math","bignumber","Decimal","divisor","mod","equals","patternmessage","seen","dep","_validateInteger","abs","dateFormat","_validateFlatPicker","compareValue","config","seperator","l10n","rangeSeparator","selectedDates","formatDate","parseDate","err","errorDateFormat","validatorRx","ipValidator","validateIpv4","parts","part","isNaN","validateIpv6","validateHostname"],"mappings":";;;;;;;;;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA,kCAAkC,mBAAO,CAAC,wGAAmD;AAC7F;AACA;AACA,cAAc,QAAS,iBAAiB,2BAA2B,GAAG;AACtE;AACA;;;;;;;;;;;;ACNA;AACA,kCAAkC,mBAAO,CAAC,wGAAmD;AAC7F;AACA;AACA,cAAc,QAAS,gBAAgB,mBAAmB,0BAA0B,uBAAuB,GAAG,uBAAuB,kBAAkB,GAAG,0DAA0D,sBAAsB,iCAAiC,oBAAoB,sBAAsB,oBAAoB,kBAAkB,yBAAyB,0BAA0B,GAAG,uBAAuB,gBAAgB,uDAAuD,cAAc,wBAAwB,GAAG,kDAAkD,sBAAsB,GAAG,0FAA0F,mBAAmB,kDAAkD,wGAAwG,sBAAsB,mFAAmF,GAAG,mCAAmC,uBAAuB,mBAAmB,4BAA4B,oBAAoB,qBAAqB,GAAG;AAC3mC;AACA;;;;;;;;;;;;;ACNa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;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","file":"jsoneditor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/core.js\");\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".choices > * {\\n  box-sizing: border-box;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".starrating {\\n  direction: rtl;\\n  display: inline-block;\\n  white-space:nowrap;\\n}\\n.starrating > input {\\n  display: none;\\n}  /* Remove radio buttons */\\n.starrating > label:before {\\n  content: '\\\\2606'; /* Empty Star */\\n  margin: 1px;\\n  font-size: 18px;\\n  font-style:normal;\\n  font-weight:400;\\n  line-height:1;\\n  font-family: 'Arial';\\n  display: inline-block;\\n}\\n.starrating > label {\\n  color: #888; /* Start color when not clicked */\\n  cursor: pointer;\\n  margin: 0;\\n  margin: 8px 0 2px 0;\\n}\\n.starrating > label.starrating-display-enabled {\\n  margin: 1px 0 0 0;\\n}\\n.starrating > input:checked ~ label,\\n.starrating:not(.readonly) > input:hover ~ label {\\n  color: #ffca08; /* Set yellow color when star checked/hover */\\n}\\n.starrating > input:checked ~ label:before,\\n.starrating:not(.readonly) > input:hover ~ label:before {\\n  content: '\\\\2605'; /* Filled Star when star checked/hover */\\n  text-shadow: 0 0 1px rgba(0,20,20,1);\\n}\\n.starrating .starrating-display {\\n  position: relative;\\n  direction: rtl;     \\n  text-align: center;\\n  font-size: 10px;\\n  line-height: 0px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","/* jshint loopfunc: true */\n/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nexport var Class =\n(function () {\n  var initializing = false; var fnTest = /xyz/.test(function () { window.postMessage('xyz') }) ? /\\b_super\\b/ : /.*/\n\n  // The base Class implementation (does nothing)\n  Class = function () {}\n\n  // Create a new Class that inherits from this class\n  Class.extend = function extend (prop) {\n    var _super = this.prototype\n\n    // Instantiate a base class (but only create the instance,\n    // don't run the init constructor)\n    initializing = true\n    var prototype = new this()\n    initializing = false\n\n    // Copy the properties over onto the new prototype\n    for (var name in prop) {\n      // Check if we're overwriting an existing function\n      prototype[name] = typeof prop[name] === 'function' &&\n        typeof _super[name] === 'function' && fnTest.test(prop[name])\n        ? (function (name, fn) {\n          return function () {\n            var tmp = this._super\n\n            // Add a new ._super() method that is the same method\n            // but on the super-class\n            this._super = _super[name]\n\n            // The method only need to be bound temporarily, so we\n            // remove it when we're done executing\n            var ret = fn.apply(this, arguments)\n            this._super = tmp\n\n            return ret\n          }\n        })(name, prop[name])\n        : prop[name]\n    }\n\n    // The dummy class constructor\n    function Class () {\n      // All construction is actually done in the init method\n      if (!initializing && this.init) { this.init.apply(this, arguments) }\n    }\n\n    // Populate our constructed prototype object\n    Class.prototype = prototype\n\n    // Enforce the constructor to be what we expect\n    Class.prototype.constructor = Class\n\n    // And make this class extendable\n    Class.extend = extend\n\n    return Class\n  }\n\n  return Class\n})()\n","import './styles/choices.css'\nimport './styles/starrating.css'\n\nimport { getDefaults } from './defaults'\nimport { Validator } from './validator'\nimport { SchemaLoader } from './schemaloader'\nimport { $extend, $each } from './utilities'\n\nimport { AbstractTheme } from './theme'\nimport { AbstractIconLib } from './iconlib'\nimport { htmlTheme } from './themes/html'\n// import { bootstrap2Theme } from './themes/bootstrap2'\n// import { bootstrap3Theme } from './themes/bootstrap3'\nimport { bootstrap4Theme } from './themes/bootstrap4'\n// import { foundationTheme, foundation3Theme, foundation4Theme, foundation5Theme, foundation6Theme } from './themes/foundation'\nimport { jqueryuiTheme } from './themes/jqueryui'\nimport { barebonesTheme } from './themes/barebones'\n// import { materializeTheme } from './themes/materialize'\nimport { spectreTheme } from './themes/spectre'\nimport { tailwindTheme } from './themes/tailwind'\n\nimport { AbstractEditor } from './editor'\nimport { AceEditor } from './editors/ace'\nimport { ArrayEditor } from './editors/array'\nimport { ArrayChoicesEditor } from './editors/array/choices'\nimport { ArraySelect2Editor } from './editors/array/select2'\nimport { ArraySelectizeEditor } from './editors/array/selectize'\nimport { AutocompleteEditor } from './editors/autocomplete'\nimport { Base64Editor } from './editors/base64'\nimport { ButtonEditor } from './editors/button'\nimport { CheckboxEditor } from './editors/checkbox'\nimport { ChoicesEditor } from './editors/choices'\nimport { DatetimeEditor } from './editors/datetime'\nimport { DescribedByEditor } from './editors/describedby'\nimport { EnumEditor } from './editors/enum'\nimport { HiddenEditor } from './editors/hidden'\nimport { InfoEditor } from './editors/info'\nimport { IntegerEditor } from './editors/integer'\nimport { IpEditor } from './editors/ip'\nimport { JoditEditor } from './editors/jodit'\nimport { MultipleEditor } from './editors/multiple'\nimport { MultiSelectEditor } from './editors/multiselect'\nimport { NullEditor } from './editors/null'\nimport { NumberEditor } from './editors/number'\nimport { ObjectEditor } from './editors/object'\nimport { RadioEditor } from './editors/radio'\nimport { ScEditor } from './editors/sceditor'\nimport { SelectEditor } from './editors/select'\nimport { Select2Editor } from './editors/select2'\nimport { SelectizeEditor } from './editors/selectize'\nimport { SignatureEditor } from './editors/signature'\nimport { SimplemdeEditor } from './editors/simplemde'\nimport { StarratingEditor } from './editors/starrating'\nimport { StringEditor } from './editors/string'\nimport { TableEditor } from './editors/table'\nimport { UploadEditor } from './editors/upload'\nimport { UuidEditor } from './editors/uuid'\nimport { ColorEditor } from './editors/colorpicker'\n\nimport { defaultTemplate } from './templates/default'\nimport { ejsTemplate } from './templates/ejs'\nimport { handlebarsTemplate } from './templates/handlebars'\nimport { hoganTemplate } from './templates/hogan'\nimport { lodashTemplate } from './templates/lodash'\nimport { markupTemplate } from './templates/markup'\nimport { mustacheTemplate } from './templates/mustache'\nimport { swigTemplate } from './templates/swig'\nimport { underscoreTemplate } from './templates/underscore'\n\n// import { bootstrap2Iconlib } from './iconlibs/bootstrap2'\n// import { bootstrap3Iconlib } from './iconlibs/bootstrap3'\nimport { fontawesome3Iconlib } from './iconlibs/fontawesome3'\nimport { fontawesome4Iconlib } from './iconlibs/fontawesome4'\nimport { fontawesome5Iconlib } from './iconlibs/fontawesome5'\n// import { foundation2Iconlib } from './iconlibs/foundation2'\n// import { foundation3Iconlib } from './iconlibs/foundation3'\nimport { jqueryuiIconlib } from './iconlibs/jqueryui'\n// import { materialiconsIconlib } from './iconlibs/materialicons'\nimport { spectreIconlib } from './iconlibs/spectre'\n\nvar assignIconlibs = function (iconlibs) {\n  // iconlibs.bootstrap2 = bootstrap2Iconlib\n  // iconlibs.bootstrap3 = bootstrap3Iconlib\n  iconlibs.fontawesome3 = fontawesome3Iconlib\n  iconlibs.fontawesome4 = fontawesome4Iconlib\n  iconlibs.fontawesome5 = fontawesome5Iconlib\n  // iconlibs.foundation2 = foundation2Iconlib\n  // iconlibs.foundation3 = foundation3Iconlib\n  iconlibs.jqueryui = jqueryuiIconlib\n  // iconlibs.materialicons = materialiconsIconlib\n  iconlibs.spectre = spectreIconlib\n}\n\nvar assignThemes = function (themes) {\n  themes.html = htmlTheme\n  // themes.bootstrap2 = bootstrap2Theme\n  // themes.bootstrap3 = bootstrap3Theme\n  themes.bootstrap4 = bootstrap4Theme\n  // themes.foundation = foundationTheme\n  // themes.foundation3 = foundation3Theme\n  // themes.foundation4 = foundation4Theme\n  // themes.foundation5 = foundation5Theme\n  // themes.foundation6 = foundation6Theme\n  themes.jqueryui = jqueryuiTheme\n  themes.barebones = barebonesTheme\n  // themes.materialize = materializeTheme\n  themes.spectre = spectreTheme\n  themes.tailwind = tailwindTheme\n}\n\n// Internal helper function called only here so we won't export as part of class\n// Previously the assignment to the JSONEditor.defaults.editors was done in each of the editor\n// files but doing it this way removes each of the editors' dependency on JSONEditor\nvar assignDefaultEditors = function (editors) {\n  editors.ace = AceEditor\n  editors.array = ArrayEditor\n  editors.arrayChoices = ArrayChoicesEditor\n  editors.arraySelect2 = ArraySelect2Editor\n  editors.arraySelectize = ArraySelectizeEditor\n  editors.autocomplete = AutocompleteEditor\n  editors.base64 = Base64Editor\n  editors.button = ButtonEditor\n  editors.checkbox = CheckboxEditor\n  editors.choices = ChoicesEditor\n  editors.datetime = DatetimeEditor\n  editors.describedBy = DescribedByEditor\n  editors.enum = EnumEditor\n  editors.hidden = HiddenEditor\n  editors.info = InfoEditor\n  editors.integer = IntegerEditor\n  editors.ip = IpEditor\n  editors.jodit = JoditEditor\n  editors.multiple = MultipleEditor\n  editors.multiselect = MultiSelectEditor\n  editors.null = NullEditor\n  editors.number = NumberEditor\n  editors.object = ObjectEditor\n  editors.radio = RadioEditor\n  editors.sceditor = ScEditor\n  editors.select = SelectEditor\n  editors.select2 = Select2Editor\n  editors.selectize = SelectizeEditor\n  editors.signature = SignatureEditor\n  editors.simplemde = SimplemdeEditor\n  editors.starrating = StarratingEditor\n  editors.string = StringEditor\n  editors.table = TableEditor\n  editors.upload = UploadEditor\n  editors.uuid = UuidEditor\n  editors.colorpicker = ColorEditor\n}\n\nvar assignTemplates = function (templates) {\n  templates.default = defaultTemplate\n  templates.ejs = ejsTemplate\n  templates.handlebars = handlebarsTemplate\n  templates.hogan = hoganTemplate\n  templates.hogan = lodashTemplate\n  templates.markup = markupTemplate\n  templates.mustache = mustacheTemplate\n  templates.swig = swigTemplate\n  templates.underscore = underscoreTemplate\n}\n\nexport var JSONEditor = function (element, options) {\n  // eslint-disable-next-line no-undef\n  if (!(element instanceof Element)) {\n    throw new Error('element should be an instance of Element')\n  }\n  options = $extend({}, JSONEditor.defaults.options, options || {})\n  this.element = element\n  this.options = options\n  this.init()\n}\nJSONEditor.prototype = {\n  // necessary since we remove the ctor property by doing a literal assignment. Without this\n  // the $isplainobject function will think that this is a plain object.\n  constructor: JSONEditor,\n  init: function () {\n    var self = this\n\n    this.ready = false\n    this.copyClipboard = null\n\n    var themeName = this.options.theme || JSONEditor.defaults.theme\n    var themeClass = JSONEditor.defaults.themes[themeName]\n    if (!themeClass) throw new Error('Unknown theme ' + themeName)\n\n    this.schema = this.options.schema\n    // eslint-disable-next-line new-cap\n    this.theme = new themeClass(this)\n\n    this.element.setAttribute('data-theme', themeName)\n    if (!this.theme.options.disable_theme_rules) this.addNewStyleRules(themeName, this.theme.rules)\n\n    this.template = this.options.template\n    this.uuid = 0\n    this.__data = {}\n\n    var iconClass = JSONEditor.defaults.iconlibs[this.options.iconlib || JSONEditor.defaults.iconlib]\n    // eslint-disable-next-line new-cap\n    if (iconClass) this.iconlib = new iconClass()\n\n    this.root_container = this.theme.getContainer()\n\n    this.element.appendChild(this.root_container)\n\n    this.translate = this.options.translate || JSONEditor.defaults.translate\n\n    // Fetch all external refs via ajax\n    var fetchUrl = document.location.origin + document.location.pathname.toString()\n    var loader = new SchemaLoader(self.options)\n    var location = document.location.toString()\n\n    this.expandSchema = function (schema, fileBase) { return loader.expandSchema(schema, fileBase) }\n    this.expandRefs = function (schema, fileBase) { return loader.expandRefs(schema, fileBase) }\n    this.refs = loader.refs\n\n    loader.load(self.options.schema, function (schema) {\n      // Validator options\n      var validatorOptions = {}\n      if (self.options.custom_validators) {\n        validatorOptions.custom_validators = self.options.custom_validators\n      }\n      self.validator = new Validator(self, null, validatorOptions, JSONEditor.defaults)\n\n      var editorClass = self.getEditorClass(schema)\n      self.root = self.createEditor(editorClass, {\n        jsoneditor: self,\n        schema: schema,\n        required: true,\n        container: self.root_container\n      })\n\n      self.root.preBuild()\n      self.root.build()\n      self.root.postBuild()\n\n      // Starting data\n      if (self.options.hasOwnProperty('startval')) self.root.setValue(self.options.startval)\n\n      self.validation_results = self.validator.validate(self.root.getValue())\n      self.root.showValidationErrors(self.validation_results)\n      self.ready = true\n\n      // Fire ready event asynchronously\n      window.requestAnimationFrame(function () {\n        if (!self.ready) return\n        self.validation_results = self.validator.validate(self.root.getValue())\n        self.root.showValidationErrors(self.validation_results)\n        self.trigger('ready')\n        self.trigger('change')\n      })\n    }, fetchUrl, location)\n  },\n\n  getValue: function () {\n    if (!this.ready) throw new Error(\"JSON Editor not ready yet.  Listen for 'ready' event before getting the value\")\n\n    return this.root.getValue()\n  },\n  setValue: function (value) {\n    if (!this.ready) throw new Error(\"JSON Editor not ready yet.  Listen for 'ready' event before setting the value\")\n\n    this.root.setValue(value)\n    return this\n  },\n  validate: function (value) {\n    if (!this.ready) throw new Error(\"JSON Editor not ready yet.  Listen for 'ready' event before validating\")\n\n    // Custom value\n    if (arguments.length === 1) {\n      return this.validator.validate(value)\n    // Current value (use cached result)\n    } else {\n      return this.validation_results\n    }\n  },\n  destroy: function () {\n    if (this.destroyed) return\n    if (!this.ready) return\n\n    this.schema = null\n    this.options = null\n    this.root.destroy()\n    this.root = null\n    this.root_container = null\n    this.validator = null\n    this.validation_results = null\n    this.theme = null\n    this.iconlib = null\n    this.template = null\n    this.__data = null\n    this.ready = false\n    this.element.innerHTML = ''\n    this.element.removeAttribute('data-theme')\n\n    this.destroyed = true\n  },\n  on: function (event, callback) {\n    this.callbacks = this.callbacks || {}\n    this.callbacks[event] = this.callbacks[event] || []\n    this.callbacks[event].push(callback)\n\n    return this\n  },\n  off: function (event, callback) {\n    // Specific callback\n    if (event && callback) {\n      this.callbacks = this.callbacks || {}\n      this.callbacks[event] = this.callbacks[event] || []\n      var newcallbacks = []\n      for (var i = 0; i < this.callbacks[event].length; i++) {\n        if (this.callbacks[event][i] === callback) continue\n        newcallbacks.push(this.callbacks[event][i])\n      }\n      this.callbacks[event] = newcallbacks\n    } else if (event) {\n    // All callbacks for a specific event\n      this.callbacks = this.callbacks || {}\n      this.callbacks[event] = []\n    } else {\n    // All callbacks for all events\n      this.callbacks = {}\n    }\n\n    return this\n  },\n  trigger: function (event, editor) {\n    if (this.callbacks && this.callbacks[event] && this.callbacks[event].length) {\n      for (var i = 0; i < this.callbacks[event].length; i++) {\n        this.callbacks[event][i].apply(this, [editor])\n      }\n    }\n\n    return this\n  },\n  setOption: function (option, value) {\n    if (option === 'show_errors') {\n      this.options.show_errors = value\n      this.onChange()\n    } else {\n    // Only the `show_errors` option is supported for now\n      throw new Error('Option ' + option + ' must be set during instantiation and cannot be changed later')\n    }\n\n    return this\n  },\n  getEditorClass: function (schema) {\n    var classname\n\n    schema = this.expandSchema(schema)\n\n    $each(JSONEditor.defaults.resolvers, function (i, resolver) {\n      var tmp = resolver(schema)\n      if (tmp) {\n        if (JSONEditor.defaults.editors[tmp]) {\n          classname = tmp\n          return false\n        }\n      }\n    })\n\n    if (!classname) throw new Error('Unknown editor for schema ' + JSON.stringify(schema))\n    if (!JSONEditor.defaults.editors[classname]) throw new Error('Unknown editor ' + classname)\n\n    return JSONEditor.defaults.editors[classname]\n  },\n  createEditor: function (editorClass, options) {\n    options = $extend({}, editorClass.options || {}, options)\n    // eslint-disable-next-line new-cap\n    return new editorClass(options, JSONEditor.defaults)\n  },\n  onChange: function () {\n    if (!this.ready) return\n\n    if (this.firing_change) return\n    this.firing_change = true\n\n    var self = this\n\n    window.requestAnimationFrame(function () {\n      self.firing_change = false\n      if (!self.ready) return\n\n      // Validate and cache results\n      self.validation_results = self.validator.validate(self.root.getValue())\n\n      if (self.options.show_errors !== 'never') {\n        self.root.showValidationErrors(self.validation_results)\n      } else {\n        self.root.showValidationErrors([])\n      }\n\n      // Fire change event\n      self.trigger('change')\n    })\n\n    return this\n  },\n  compileTemplate: function (template, name) {\n    name = name || JSONEditor.defaults.template\n\n    var engine\n\n    // Specifying a preset engine\n    if (typeof name === 'string') {\n      if (!JSONEditor.defaults.templates[name]) throw new Error('Unknown template engine ' + name)\n      engine = JSONEditor.defaults.templates[name]()\n\n      if (!engine) throw new Error('Template engine ' + name + ' missing required library.')\n    } else {\n    // Specifying a custom engine\n      engine = name\n    }\n\n    if (!engine) throw new Error('No template engine set')\n    if (!engine.compile) throw new Error('Invalid template engine set')\n\n    return engine.compile(template)\n  },\n  _data: function (el, key, value) {\n    // Setting data\n    if (arguments.length === 3) {\n      var uuid\n      if (el.hasAttribute('data-jsoneditor-' + key)) {\n        uuid = el.getAttribute('data-jsoneditor-' + key)\n      } else {\n        uuid = this.uuid++\n        el.setAttribute('data-jsoneditor-' + key, uuid)\n      }\n\n      this.__data[uuid] = value\n    } else {\n    // Getting data\n      // No data stored\n      if (!el.hasAttribute('data-jsoneditor-' + key)) return null\n\n      return this.__data[el.getAttribute('data-jsoneditor-' + key)]\n    }\n  },\n  registerEditor: function (editor) {\n    this.editors = this.editors || {}\n    this.editors[editor.path] = editor\n    return this\n  },\n  unregisterEditor: function (editor) {\n    this.editors = this.editors || {}\n    this.editors[editor.path] = null\n    return this\n  },\n  getEditor: function (path) {\n    if (!this.editors) return\n    return this.editors[path]\n  },\n  watch: function (path, callback) {\n    this.watchlist = this.watchlist || {}\n    this.watchlist[path] = this.watchlist[path] || []\n    this.watchlist[path].push(callback)\n\n    return this\n  },\n  unwatch: function (path, callback) {\n    if (!this.watchlist || !this.watchlist[path]) return this\n    // If removing all callbacks for a path\n    if (!callback) {\n      this.watchlist[path] = null\n      return this\n    }\n\n    var newlist = []\n    for (var i = 0; i < this.watchlist[path].length; i++) {\n      if (this.watchlist[path][i] === callback) continue\n      else newlist.push(this.watchlist[path][i])\n    }\n    this.watchlist[path] = newlist.length ? newlist : null\n    return this\n  },\n  notifyWatchers: function (path) {\n    if (!this.watchlist || !this.watchlist[path]) return this\n    for (var i = 0; i < this.watchlist[path].length; i++) {\n      this.watchlist[path][i]()\n    }\n  },\n  isEnabled: function () {\n    return !this.root || this.root.isEnabled()\n  },\n  enable: function () {\n    this.root.enable()\n  },\n  disable: function () {\n    this.root.disable()\n  },\n  setCopyClipboardContents: function (value) {\n    this.copyClipboard = value\n  },\n  getCopyClipboardContents: function () {\n    return this.copyClipboard\n  },\n  addNewStyleRules: function (themeName, rules) {\n    var styleTag = document.querySelector('#theme-' + themeName)\n    if (!styleTag) {\n      styleTag = document.createElement('style')\n      styleTag.setAttribute('id', 'theme-' + themeName)\n      styleTag.appendChild(document.createTextNode(''))\n      document.head.appendChild(styleTag)\n    }\n\n    var sheet = styleTag.sheet ? styleTag.sheet : styleTag.styleSheet\n    var qualifier = this.element.nodeName.toLowerCase()\n\n    for (var selector in rules) {\n      if (!rules.hasOwnProperty(selector)) continue\n      var sel = qualifier + '[data-theme=\"' + themeName + '\"] ' + selector\n      // all browsers, except IE before version 9\n      if (sheet.insertRule) sheet.insertRule(sel + ' {' + rules[selector] + '}', 0)\n      // Internet Explorer before version 9\n      else if (sheet.addRule) sheet.addRule(sel, rules[selector], 0)\n    }\n  }\n}\n\nJSONEditor.defaults = getDefaults()\nassignThemes(JSONEditor.defaults.themes)\nJSONEditor.AbstractEditor = AbstractEditor\nJSONEditor.AbstractTheme = AbstractTheme\nJSONEditor.AbstractIconLib = AbstractIconLib\nassignDefaultEditors(JSONEditor.defaults.editors)\nassignTemplates(JSONEditor.defaults.templates)\nassignIconlibs(JSONEditor.defaults.iconlibs)\n\nwindow.JSONEditor = JSONEditor\n","import { $each } from './utilities'\n\nexport function getDefaults () {\n// To aid modularity and avoicd circular references, We are now returning defaults to the JSONEditor object in core\n  // raher than editing it here but\n  // I've created this local object (and will return the defaults property) to make it easier to merge the PR\n  // Once the merge has been carried out, I recommend changing `JSONEditor.defaults` to `retval`\n  var JSONEditor = {}\n\n  // This assignment was previously in core.js but makes more sense here\n  JSONEditor.defaults = {\n    themes: {},\n    templates: {},\n    iconlibs: {},\n    editors: {},\n    languages: {},\n    resolvers: [],\n    custom_validators: []\n  }\n\n  // Set the default theme\n  JSONEditor.defaults.theme = 'html'\n\n  // Set the default template engine\n  JSONEditor.defaults.template = 'default'\n\n  // Default options when initializing JSON Editor\n  JSONEditor.defaults.options = {}\n\n  JSONEditor.defaults.options.prompt_before_delete = true\n\n  JSONEditor.defaults.options.upload = function (type, file, cbs) {\n    console.log('Upload handler required for upload editor')\n  }\n\n  // String translate function\n  JSONEditor.defaults.translate = function (key, variables) {\n    var lang = JSONEditor.defaults.languages[JSONEditor.defaults.language]\n    if (!lang) throw new Error('Unknown language ' + JSONEditor.defaults.language)\n\n    var string = lang[key] || JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key]\n\n    if (typeof string === 'undefined') throw new Error('Unknown translate string ' + key)\n\n    if (variables) {\n      for (var i = 0; i < variables.length; i++) {\n        string = string.replace(new RegExp('\\\\{\\\\{' + i + '}}', 'g'), variables[i])\n      }\n    }\n\n    return string\n  }\n\n  // Translation strings and default languages\n  JSONEditor.defaults.default_language = 'en'\n  JSONEditor.defaults.language = JSONEditor.defaults.default_language\n  JSONEditor.defaults.languages.en = {\n  /**\n   * When a property is not set\n   */\n    error_notset: 'Property must be set',\n    /**\n   * When a string must not be empty\n   */\n    error_notempty: 'Value required',\n    /**\n   * When a value is not one of the enumerated values\n   */\n    error_enum: 'Value must be one of the enumerated values',\n    /**\n   * When a value doesn't validate any schema of a 'anyOf' combination\n   */\n    error_anyOf: 'Value must validate against at least one of the provided schemas',\n    /**\n   * When a value doesn't validate\n   * @variables This key takes one variable: The number of schemas the value does not validate\n   */\n    error_oneOf: 'Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.',\n    /**\n   * When a value does not validate a 'not' schema\n   */\n    error_not: 'Value must not validate against the provided schema',\n    /**\n   * When a value does not match any of the provided types\n   */\n    error_type_union: 'Value must be one of the provided types',\n    /**\n   * When a value does not match the given type\n   * @variables This key takes one variable: The type the value should be of\n   */\n    error_type: 'Value must be of type {{0}}',\n    /**\n   *  When the value validates one of the disallowed types\n   */\n    error_disallow_union: 'Value must not be one of the provided disallowed types',\n    /**\n   *  When the value validates a disallowed type\n   * @variables This key takes one variable: The type the value should not be of\n   */\n    error_disallow: 'Value must not be of type {{0}}',\n    /**\n   * When a value is not a multiple of or divisible by a given number\n   * @variables This key takes one variable: The number mentioned above\n   */\n    error_multipleOf: 'Value must be a multiple of {{0}}',\n    /**\n   * When a value is greater than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The maximum\n   */\n    error_maximum_excl: 'Value must be less than {{0}}',\n    /**\n   * When a value is greater than it's supposed to be (inclusive\n   * @variables This key takes one variable: The maximum\n   */\n    error_maximum_incl: 'Value must be at most {{0}}',\n    /**\n   * When a value is lesser than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The minimum\n   */\n    error_minimum_excl: 'Value must be greater than {{0}}',\n    /**\n   * When a value is lesser than it's supposed to be (inclusive)\n   * @variables This key takes one variable: The minimum\n   */\n    error_minimum_incl: 'Value must be at least {{0}}',\n    /**\n   * When a value have too many characters\n   * @variables This key takes one variable: The maximum character count\n   */\n    error_maxLength: 'Value must be at most {{0}} characters long',\n    /**\n   * When a value does not have enough characters\n   * @variables This key takes one variable: The minimum character count\n   */\n    error_minLength: 'Value must be at least {{0}} characters long',\n    /**\n   * When a value does not match a given pattern\n   */\n    error_pattern: 'Value must match the pattern {{0}}',\n    /**\n   * When an array has additional items whereas it is not supposed to\n   */\n    error_additionalItems: 'No additional items allowed in this array',\n    /**\n   * When there are to many items in an array\n   * @variables This key takes one variable: The maximum item count\n   */\n    error_maxItems: 'Value must have at most {{0}} items',\n    /**\n   * When there are not enough items in an array\n   * @variables This key takes one variable: The minimum item count\n   */\n    error_minItems: 'Value must have at least {{0}} items',\n    /**\n   * When an array is supposed to have unique items but has duplicates\n   */\n    error_uniqueItems: 'Array must have unique items',\n    /**\n   * When there are too many properties in an object\n   * @variables This key takes one variable: The maximum property count\n   */\n    error_maxProperties: 'Object must have at most {{0}} properties',\n    /**\n   * When there are not enough properties in an object\n   * @variables This key takes one variable: The minimum property count\n   */\n    error_minProperties: 'Object must have at least {{0}} properties',\n    /**\n   * When a required property is not defined\n   * @variables This key takes one variable: The name of the missing property\n   */\n    error_required: \"Object is missing the required property '{{0}}'\",\n    /**\n   * When there is an additional property is set whereas there should be none\n   * @variables This key takes one variable: The name of the additional property\n   */\n    error_additional_properties: 'No additional properties allowed, but property {{0}} is set',\n    /**\n   * When a dependency is not resolved\n   * @variables This key takes one variable: The name of the missing property for the dependency\n   */\n    error_dependency: 'Must have property {{0}}',\n    /**\n   * When a date is in incorrect format\n   * @variables This key takes one variable: The valid format\n   */\n    error_date: 'Date must be in the format {{0}}',\n    /**\n   * When a time is in incorrect format\n   * @variables This key takes one variable: The valid format\n   */\n    error_time: 'Time must be in the format {{0}}',\n    /**\n   * When a datetime-local is in incorrect format\n   * @variables This key takes one variable: The valid format\n   */\n    error_datetime_local: 'Datetime must be in the format {{0}}',\n    /**\n   * When a integer date is less than 1 January 1970\n   */\n    error_invalid_epoch: 'Date must be greater than 1 January 1970',\n    /**\n   * When an IPv4 is in incorrect format\n   */\n    error_ipv4: 'Value must be a valid IPv4 address in the form of 4 numbers between 0 and 255, separated by dots',\n    /**\n   * When an IPv6 is in incorrect format\n   */\n    error_ipv6: 'Value must be a valid IPv6 address',\n    /**\n   * When a hostname is in incorrect format\n   */\n    error_hostname: 'The hostname has the wrong format',\n    /**\n   * Text on Delete All buttons\n   */\n    button_delete_all: 'All',\n    /**\n   * Title on Delete All buttons\n   */\n    button_delete_all_title: 'Delete All',\n    /**\n    * Text on Delete Last buttons\n    * @variable This key takes one variable: The title of object to delete\n    */\n    button_delete_last: 'Last {{0}}',\n    /**\n    * Title on Delete Last buttons\n    * @variable This key takes one variable: The title of object to delete\n    */\n    button_delete_last_title: 'Delete Last {{0}}',\n    /**\n    * Title on Add Row buttons\n    * @variable This key takes one variable: The title of object to add\n    */\n    button_add_row_title: 'Add {{0}}',\n    /**\n    * Title on Move Down buttons\n    */\n    button_move_down_title: 'Move down',\n    /**\n    * Title on Move Up buttons\n    */\n    button_move_up_title: 'Move up',\n    /**\n    * Title on Object Properties buttons\n    */\n    button_object_properties: 'Object Properties',\n    /**\n    * Title on Delete Row buttons\n    * @variable This key takes one variable: The title of object to delete\n    */\n    button_delete_row_title: 'Delete {{0}}',\n    /**\n    * Title on Delete Row buttons, short version (no parameter with the object title)\n    */\n    button_delete_row_title_short: 'Delete',\n    /**\n    * Title on Collapse buttons\n    */\n    button_collapse: 'Collapse',\n    /**\n    * Title on Expand buttons\n    */\n    button_expand: 'Expand',\n    /**\n    * Title on Flatpickr toggle buttons\n    */\n    flatpickr_toggle_button: 'Toggle',\n    /**\n    * Title on Flatpickr clear buttons\n    */\n    flatpickr_clear_button: 'Clear',\n    /**\n    * Choices input field placeholder text\n    */\n    choices_placeholder_text: 'Start typing to add value',\n    /**\n    * Default title for array items\n    */\n    default_array_item_title: 'item'\n  }\n\n  // Global callback list\n  JSONEditor.defaults.callbacks = {\n\n  }\n\n  // Default per-editor options\n  $each(JSONEditor.defaults.editors, function (i, editor) {\n    JSONEditor.defaults.editors[i].options = editor.options || {}\n  })\n\n  // Set the default resolvers\n  // Use \"multiple\" as a fall back for everything\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (typeof schema.type !== 'string') return 'multiple'\n  })\n  // If the type is not set but properties are defined, we can infer the type is actually object\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n  // If the schema is a simple type\n    if (!schema.type && schema.properties) return 'object'\n  })\n  // If the type is set and it's a basic type, use the primitive editor\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n  // If the schema is a simple type\n    if (typeof schema.type === 'string') return schema.type\n  })\n  // Use specialized editor for signatures\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'signature') return 'signature'\n  })\n  // Use the select editor for all boolean values\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'boolean') {\n    // If explicitly set to 'checkbox', use that\n      if (schema.format === 'checkbox' || (schema.options && schema.options.checkbox)) {\n        return 'checkbox'\n      }\n      // Otherwise, default to select menu\n      if (schema.format === 'select2') {\n        return 'select2'\n      }\n      if (schema.format === 'selectize') {\n        return 'selectize'\n      }\n      if (schema.format === 'choices') {\n        return 'choices'\n      }\n      return 'select'\n    }\n  })\n  // Use the multiple editor for schemas where the `type` is set to \"any\"\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n  // If the schema can be of any type\n    if (schema.type === 'any') return 'multiple'\n  })\n  // Editor for base64 encoded files\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n  // If the schema can be of any type\n    if (schema.type === 'string' && schema.media && schema.media.binaryEncoding === 'base64') {\n      return 'base64'\n    }\n  })\n  // Editor for uploading files\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'url' && window.FileReader && schema.options && schema.options.upload === Object(schema.options.upload)) {\n      return 'upload'\n    }\n  })\n  // Use the table editor for arrays with the format set to `table`\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n  // Type `array` with format set to `table`\n    if (schema.type === 'array' && schema.format === 'table') {\n      return 'table'\n    }\n  })\n  // Use the `select` editor for dynamic enumSource enums\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.enumSource) {\n      if (schema.format === 'radio') {\n        return 'radio'\n      }\n      if (schema.format === 'select2') {\n        return 'select2'\n      }\n\n      if (schema.format === 'selectize') {\n        return 'selectize'\n      }\n      if (schema.format === 'choices') {\n        return 'choices'\n      }\n      return 'select'\n    }\n  })\n  // Use the `enum` or `select` editors for schemas with enumerated properties\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema['enum']) {\n      if (schema.type === 'array' || schema.type === 'object') {\n        return 'enum'\n      } else if (schema.type === 'number' || schema.type === 'integer' || schema.type === 'string') {\n        if (schema.format === 'radio') {\n          return 'radio'\n        }\n\n        if (schema.format === 'select2') {\n          return 'select2'\n        }\n\n        if (schema.format === 'selectize') {\n          return 'selectize'\n        }\n\n        if (schema.format === 'choices') {\n          return 'choices'\n        }\n        return 'select'\n      }\n    }\n  })\n  // Specialized editors for arrays of strings\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'array' && schema.items && !(Array.isArray(schema.items)) && ['string', 'number', 'integer'].indexOf(schema.items.type) >= 0) {\n      if (schema.format === 'choices') {\n        return 'arrayChoices'\n      }\n      if (schema.uniqueItems) {\n      // if 'selectize' enabled it is expected to be selectized control\n        if (schema.format === 'selectize') return 'arraySelectize'\n        else if (schema.format === 'select2') return 'arraySelect2'\n        else if (schema.format !== 'table') return 'multiselect' // otherwise it is select\n      }\n    }\n  })\n  // Use the multiple editor for schemas with `oneOf` set\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n  // If this schema uses `oneOf` or `anyOf`\n    if (schema.oneOf || schema.anyOf) return 'multiple'\n  })\n  // Specialized editor for date, time and datetime-local formats\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (['string', 'integer'].indexOf(schema.type) !== -1 && ['date', 'time', 'datetime-local'].indexOf(schema.format) !== -1) {\n      return 'datetime'\n    }\n  })\n  // Use a specialized editor for starratings\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (['string', 'integer'].indexOf(schema.type) !== -1 && ['starrating', 'rating'].indexOf(schema.format) !== -1) return 'starrating'\n  })\n\n  // hyper-link describeBy Resolver\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.links) {\n      for (var i = 0; i < schema.links.length; i++) {\n        if (schema.links[i].rel && schema.links[i].rel.toLowerCase() === 'describedby') {\n          return 'describedBy'\n        }\n      }\n    }\n  })\n  // Enable custom editor type\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.format === 'button') return 'button'\n  })\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.format === 'info') return 'info'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'uuid') return 'uuid'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'autocomplete') return 'autocomplete'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'jodit') return 'jodit'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'markdown') return 'simplemde'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && ['xhtml', 'bbcode'].indexOf(schema.format) !== -1) return 'sceditor'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && ['actionscript',\n      'batchfile',\n      'c',\n      'c++',\n      'cpp',\n      'coffee',\n      'csharp',\n      'css',\n      'dart',\n      'django',\n      'ejs',\n      'erlang',\n      'golang',\n      'groovy',\n      'handlebars',\n      'haskell',\n      'haxe',\n      'html',\n      'ini',\n      'jade',\n      'java',\n      'javascript',\n      'json',\n      'less',\n      'lisp',\n      'lua',\n      'makefile',\n      'matlab',\n      'mysql',\n      'objectivec',\n      'pascal',\n      'perl',\n      'pgsql',\n      'php',\n      'python',\n      'r',\n      'ruby',\n      'sass',\n      'scala',\n      'scss',\n      'smarty',\n      'sql',\n      'sqlserver',\n      'stylus',\n      'svg',\n      'twig',\n      'vbscript',\n      'xml',\n      'yaml'\n    ].indexOf(schema.format) !== -1) return 'ace'\n  })\n\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && ['ip', 'ipv4', 'ipv6', 'hostname'].indexOf(schema.format) !== -1) return 'ip'\n  })\n  JSONEditor.defaults.resolvers.unshift(function (schema) {\n    if (schema.type === 'string' && schema.format === 'color') {\n      return 'colorpicker'\n    }\n  })\n\n  return JSONEditor.defaults\n};\n","/**\n * All editors should extend from this class\n */\nimport { Class } from './class'\nimport { $extend, $each } from './utilities'\n\nexport var AbstractEditor = Class.extend({\n  onChildEditorChange: function (editor) {\n    this.onChange(true)\n  },\n  notify: function () {\n    if (this.path) this.jsoneditor.notifyWatchers(this.path)\n  },\n  change: function () {\n    if (this.parent) this.parent.onChildEditorChange(this)\n    else if (this.jsoneditor) this.jsoneditor.onChange()\n  },\n  onChange: function (bubble) {\n    this.notify()\n    if (this.watch_listener) this.watch_listener()\n    if (bubble) this.change()\n  },\n  register: function () {\n    this.jsoneditor.registerEditor(this)\n    this.onChange()\n  },\n  unregister: function () {\n    if (!this.jsoneditor) return\n    this.jsoneditor.unregisterEditor(this)\n  },\n  getNumColumns: function () {\n    return 12\n  },\n  isActive: function () {\n    return this.active\n  },\n  activate: function () {\n    this.active = true\n    this.optInCheckbox.checked = true\n    this.enable()\n    this.change()\n  },\n  deactivate: function () {\n    // only non required properties can be deactivated.\n    if (!this.isRequired()) {\n      this.active = false\n      this.optInCheckbox.checked = false\n      this.disable()\n      this.change()\n    }\n  },\n  init: function (options, defaults) {\n    this.defaults = defaults\n\n    this.jsoneditor = options.jsoneditor\n\n    this.theme = this.jsoneditor.theme\n    this.template_engine = this.jsoneditor.template\n    this.iconlib = this.jsoneditor.iconlib\n\n    this.translate = this.jsoneditor.translate || this.defaults.translate\n\n    this.original_schema = options.schema\n    this.schema = this.jsoneditor.expandSchema(this.original_schema)\n\n    this.active = true\n\n    this.options = $extend({}, (this.options || {}), (this.schema.options || {}), (options.schema.options || {}), options)\n\n    if (!options.path && !this.schema.id) this.schema.id = 'root'\n    this.path = options.path || 'root'\n    this.formname = options.formname || this.path.replace(/\\.([^.]+)/g, '[$1]')\n    if (this.jsoneditor.options.form_name_root) this.formname = this.formname.replace(/^root\\[/, this.jsoneditor.options.form_name_root + '[')\n    this.parent = options.parent\n    this.key = this.parent !== undefined ? this.path.split('.').slice(this.parent.path.split('.').length).join('.') : this.path\n\n    this.link_watchers = []\n    this.watchLoop = false\n\n    if (options.container) this.setContainer(options.container)\n    this.registerDependencies()\n  },\n  registerDependencies: function () {\n    this.dependenciesFulfilled = true\n    var deps = this.options.dependencies\n    if (!deps) {\n      return\n    }\n\n    var self = this\n    Object.keys(deps).forEach(function (dependency) {\n      var path = self.path.split('.')\n      path[path.length - 1] = dependency\n      path = path.join('.')\n      var choices = deps[dependency]\n      self.jsoneditor.watch(path, function () {\n        self.checkDependency(path, choices)\n      })\n    })\n  },\n  checkDependency: function (path, choices) {\n    var wrapper = this.container || this.control\n    if (this.path === path || !wrapper || this.jsoneditor === null) {\n      return\n    }\n\n    var self = this\n    var editor = this.jsoneditor.getEditor(path)\n    var value = editor ? editor.getValue() : undefined\n    var previousStatus = this.dependenciesFulfilled\n    this.dependenciesFulfilled = false\n\n    if (!editor || !editor.dependenciesFulfilled) {\n      this.dependenciesFulfilled = false\n    } else if (Array.isArray(choices)) {\n      choices.some(function (choice) {\n        if (value === choice) {\n          self.dependenciesFulfilled = true\n          return true\n        }\n      })\n    } else if (typeof choices === 'object') {\n      if (typeof value !== 'object') {\n        this.dependenciesFulfilled = choices === value\n      } else {\n        Object.keys(choices).some(function (key) {\n          if (!choices.hasOwnProperty(key)) {\n            return false\n          }\n          if (!value.hasOwnProperty(key) || choices[key] !== value[key]) {\n            self.dependenciesFulfilled = false\n            return true\n          }\n          self.dependenciesFulfilled = true\n        })\n      }\n    } else if (typeof choices === 'string' || typeof choices === 'number') {\n      this.dependenciesFulfilled = value === choices\n    } else if (typeof choices === 'boolean') {\n      if (choices) {\n        this.dependenciesFulfilled = value || value.length > 0\n      } else {\n        this.dependenciesFulfilled = !value || value.length === 0\n      }\n    }\n\n    if (this.dependenciesFulfilled !== previousStatus) {\n      this.notify()\n    }\n\n    var displayMode = this.dependenciesFulfilled ? 'block' : 'none'\n    if (wrapper.tagName === 'TD') {\n      for (var child in wrapper.childNodes) {\n        if (wrapper.childNodes.hasOwnProperty(child)) wrapper.childNodes[child].style.display = displayMode\n      }\n    } else wrapper.style.display = displayMode\n  },\n  setContainer: function (container) {\n    this.container = container\n    if (this.schema.id) this.container.setAttribute('data-schemaid', this.schema.id)\n    if (this.schema.type && typeof this.schema.type === 'string') this.container.setAttribute('data-schematype', this.schema.type)\n    this.container.setAttribute('data-schemapath', this.path)\n  },\n  setOptInCheckbox: function (header) {\n    // the active/deactive checbox control.\n    var self = this\n    this.optInCheckbox = document.createElement('input')\n    this.optInCheckbox.setAttribute('type', 'checkbox')\n    this.optInCheckbox.setAttribute('style', 'margin: 0 10px 0 0;')\n    this.optInCheckbox.classList.add('json-editor-opt-in')\n\n    this.optInCheckbox.addEventListener('click', function () {\n      if (self.isActive()) {\n        self.deactivate()\n      } else {\n        self.activate()\n      }\n    })\n\n    // append active/deactive checkbox if show_opt_in is true\n    if (this.jsoneditor.options.show_opt_in || this.options.show_opt_in) {\n      // and control to type object editors if they are not required\n      if (this.parent && this.parent.schema.type === 'object' && !this.isRequired() && this.header) {\n        this.header.appendChild(this.optInCheckbox)\n        this.header.insertBefore(this.optInCheckbox, this.header.firstChild)\n      }\n    }\n  },\n  preBuild: function () {\n\n  },\n  build: function () {\n\n  },\n  postBuild: function () {\n    this.setupWatchListeners()\n    this.addLinks()\n    this.setValue(this.getDefault(), true)\n    this.updateHeaderText()\n    this.register()\n    this.onWatchedFieldChange()\n  },\n  setupWatchListeners: function () {\n    var self = this\n\n    // Watched fields\n    this.watched = {}\n    if (this.schema.vars) this.schema.watch = this.schema.vars\n    this.watched_values = {}\n    this.watch_listener = function () {\n      if (self.refreshWatchedFieldValues()) {\n        self.onWatchedFieldChange()\n      }\n    }\n\n    if (this.schema.hasOwnProperty('watch')) {\n      var path; var pathParts; var first; var root; var adjustedPath\n      var myPath = self.container.getAttribute('data-schemapath')\n\n      for (var name in this.schema.watch) {\n        if (!this.schema.watch.hasOwnProperty(name)) continue\n        path = this.schema.watch[name]\n\n        if (Array.isArray(path)) {\n          if (path.length < 2) continue\n          pathParts = [path[0]].concat(path[1].split('.'))\n        } else {\n          pathParts = path.split('.')\n          if (!self.theme.closest(self.container, '[data-schemaid=\"' + pathParts[0] + '\"]')) pathParts.unshift('#')\n        }\n        first = pathParts.shift()\n\n        if (first === '#') first = self.jsoneditor.schema.id || 'root'\n\n        // Find the root node for this template variable\n        root = self.theme.closest(self.container, '[data-schemaid=\"' + first + '\"]')\n        if (!root) throw new Error('Could not find ancestor node with id ' + first)\n\n        // Keep track of the root node and path for use when rendering the template\n        adjustedPath = root.getAttribute('data-schemapath') + '.' + pathParts.join('.')\n\n        if (myPath.startsWith(adjustedPath)) self.watchLoop = true\n        self.jsoneditor.watch(adjustedPath, self.watch_listener)\n\n        self.watched[name] = adjustedPath\n      }\n    }\n\n    // Dynamic header\n    if (this.schema.headerTemplate) {\n      this.header_template = this.jsoneditor.compileTemplate(this.schema.headerTemplate, this.template_engine)\n    }\n  },\n\n  addLinks: function () {\n    // Add links\n    if (!this.no_link_holder) {\n      this.link_holder = this.theme.getLinksHolder()\n      // if description element exists, insert the link before\n      if (typeof this.description !== 'undefined') this.description.parentNode.insertBefore(this.link_holder, this.description)\n      // otherwise just insert link at bottom of container\n      else this.container.appendChild(this.link_holder)\n      if (this.schema.links) {\n        for (var i = 0; i < this.schema.links.length; i++) {\n          this.addLink(this.getLink(this.schema.links[i]))\n        }\n      }\n    }\n  },\n  onMove: function () {},\n  getButton: function (text, icon, title) {\n    var btnClass = 'json-editor-btn-' + icon\n    if (!this.iconlib) icon = null\n    else icon = this.iconlib.getIcon(icon)\n\n    if (!icon && title) {\n      text = title\n      title = null\n    }\n\n    var btn = this.theme.getButton(text, icon, title)\n    btn.classList.add(btnClass)\n    return btn\n  },\n  setButtonText: function (button, text, icon, title) {\n    if (!this.iconlib) icon = null\n    else icon = this.iconlib.getIcon(icon)\n\n    if (!icon && title) {\n      text = title\n      title = null\n    }\n\n    return this.theme.setButtonText(button, text, icon, title)\n  },\n  addLink: function (link) {\n    if (this.link_holder) this.link_holder.appendChild(link)\n  },\n  getLink: function (data) {\n    var holder, link\n\n    // Get mime type of the link\n    var mime = data.mediaType || 'application/javascript'\n    var type = mime.split('/')[0]\n\n    // Template to generate the link href\n    var href = this.jsoneditor.compileTemplate(data.href, this.template_engine)\n    var relTemplate = this.jsoneditor.compileTemplate(data.rel ? data.rel : data.href, this.template_engine)\n\n    // Template to generate the link's download attribute\n    var download = null\n    if (data.download) download = data.download\n\n    if (download && download !== true) {\n      download = this.jsoneditor.compileTemplate(download, this.template_engine)\n    }\n\n    // Image links\n    if (type === 'image') {\n      holder = this.theme.getBlockLinkHolder()\n      link = document.createElement('a')\n      link.setAttribute('target', '_blank')\n      var image = document.createElement('img')\n\n      this.theme.createImageLink(holder, link, image)\n\n      // When a watched field changes, update the url\n      this.link_watchers.push(function (vars) {\n        var url = href(vars)\n        var rel = relTemplate(vars)\n        link.setAttribute('href', url)\n        link.setAttribute('title', rel || url)\n        image.setAttribute('src', url)\n      })\n    // Audio/Video links\n    } else if (['audio', 'video'].indexOf(type) >= 0) {\n      holder = this.theme.getBlockLinkHolder()\n\n      link = this.theme.getBlockLink()\n      link.setAttribute('target', '_blank')\n\n      var media = document.createElement(type)\n      media.setAttribute('controls', 'controls')\n\n      this.theme.createMediaLink(holder, link, media)\n\n      // When a watched field changes, update the url\n      this.link_watchers.push(function (vars) {\n        var url = href(vars)\n        var rel = relTemplate(vars)\n        link.setAttribute('href', url)\n        link.textContent = rel || url\n        media.setAttribute('src', url)\n      })\n    // Text links or blank link\n    } else {\n      link = holder = this.theme.getBlockLink()\n      holder.setAttribute('target', '_blank')\n      holder.textContent = data.rel\n      holder.style.display = 'none' // Prevent blank links from showing up when using custom view\n\n      // When a watched field changes, update the url\n      this.link_watchers.push(function (vars) {\n        var url = href(vars)\n        var rel = relTemplate(vars)\n        if (url) holder.style.display = ''\n        holder.setAttribute('href', url)\n        holder.textContent = rel || url\n      })\n    }\n\n    if (download && link) {\n      if (download === true) {\n        link.setAttribute('download', '')\n      } else {\n        this.link_watchers.push(function (vars) {\n          link.setAttribute('download', download(vars))\n        })\n      }\n    }\n\n    if (data.class) link.classList.add(data.class)\n\n    return holder\n  },\n  refreshWatchedFieldValues: function () {\n    if (!this.watched_values) return\n    var watched = {}\n    var changed = false\n    var self = this\n\n    if (this.watched) {\n      var val, editor\n      for (var name in this.watched) {\n        if (!this.watched.hasOwnProperty(name)) continue\n        editor = self.jsoneditor.getEditor(this.watched[name])\n        val = editor ? editor.getValue() : null\n        if (self.watched_values[name] !== val) changed = true\n        watched[name] = val\n      }\n    }\n\n    watched.self = this.getValue()\n    if (this.watched_values.self !== watched.self) changed = true\n\n    this.watched_values = watched\n\n    return changed\n  },\n  getWatchedFieldValues: function () {\n    return this.watched_values\n  },\n  updateHeaderText: function () {\n    if (this.header) {\n      var headerText = this.getHeaderText()\n      // If the header has children, only update the text node's value\n      if (this.header.children.length) {\n        for (var i = 0; i < this.header.childNodes.length; i++) {\n          if (this.header.childNodes[i].nodeType === 3) {\n            this.header.childNodes[i].nodeValue = this.cleanText(headerText)\n            break\n          }\n        }\n      // Otherwise, just update the entire node\n      } else {\n        if (window.DOMPurify) this.header.innerHTML = window.DOMPurify.sanitize(headerText)\n        else this.header.textContent = this.cleanText(headerText)\n      }\n    }\n  },\n  getHeaderText: function (titleOnly) {\n    if (this.header_text) return this.header_text\n    else if (titleOnly) return this.schema.title\n    else return this.getTitle()\n  },\n  cleanText: function (txt) {\n    // Clean out HTML tags from txt\n    var tmp = document.createElement('div')\n    tmp.innerHTML = txt\n    return (tmp.textContent || tmp.innerText)\n  },\n  onWatchedFieldChange: function () {\n    var vars\n    if (this.header_template) {\n      vars = $extend(this.getWatchedFieldValues(), {\n        key: this.key,\n        i: this.key,\n        i0: (this.key * 1),\n        i1: (this.key * 1 + 1),\n        title: this.getTitle()\n      })\n      var headerText = this.header_template(vars)\n\n      if (headerText !== this.header_text) {\n        this.header_text = headerText\n        this.updateHeaderText()\n        this.notify()\n        // this.fireChangeHeaderEvent();\n      }\n    }\n    if (this.link_watchers.length) {\n      vars = this.getWatchedFieldValues()\n      for (var i = 0; i < this.link_watchers.length; i++) {\n        this.link_watchers[i](vars)\n      }\n    }\n  },\n  setValue: function (value) {\n    this.value = value\n  },\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    return this.value\n  },\n  refreshValue: function () {\n\n  },\n  getChildEditors: function () {\n    return false\n  },\n  destroy: function () {\n    var self = this\n    this.unregister(this)\n    $each(this.watched, function (name, adjustedPath) {\n      self.jsoneditor.unwatch(adjustedPath, self.watch_listener)\n    })\n\n    this.watched = null\n    this.watched_values = null\n    this.watch_listener = null\n    this.header_text = null\n    this.header_template = null\n    this.value = null\n    if (this.container && this.container.parentNode) this.container.parentNode.removeChild(this.container)\n    this.container = null\n    this.jsoneditor = null\n    this.schema = null\n    this.path = null\n    this.key = null\n    this.parent = null\n  },\n  getDefault: function () {\n    if (typeof this.schema['default'] !== 'undefined') {\n      return this.schema['default']\n    }\n\n    if (typeof this.schema['enum'] !== 'undefined') {\n      return this.schema['enum'][0]\n    }\n\n    var type = this.schema.type || this.schema.oneOf\n    if (type && Array.isArray(type)) type = type[0]\n    if (type && typeof type === 'object') type = type.type\n    if (type && Array.isArray(type)) type = type[0]\n\n    if (typeof type === 'string') {\n      if (type === 'number') return 0.0\n      if (type === 'boolean') return false\n      if (type === 'integer') return 0\n      if (type === 'string') return ''\n      if (type === 'object') return {}\n      if (type === 'array') return []\n    }\n\n    return null\n  },\n  getTitle: function () {\n    return this.schema.title || this.key\n  },\n  enable: function () {\n    this.disabled = false\n  },\n  disable: function () {\n    this.disabled = true\n  },\n  isEnabled: function () {\n    return !this.disabled\n  },\n  isRequired: function () {\n    if (typeof this.schema.required === 'boolean') return this.schema.required\n    else if (this.parent && this.parent.schema && Array.isArray(this.parent.schema.required)) return this.parent.schema.required.indexOf(this.key) > -1\n    else if (this.jsoneditor.options.required_by_default) return true\n    else return false\n  },\n  getDisplayText: function (arr) {\n    var disp = []\n    var used = {}\n\n    // Determine how many times each attribute name is used.\n    // This helps us pick the most distinct display text for the schemas.\n    $each(arr, function (i, el) {\n      if (el.title) {\n        used[el.title] = used[el.title] || 0\n        used[el.title]++\n      }\n      if (el.description) {\n        used[el.description] = used[el.description] || 0\n        used[el.description]++\n      }\n      if (el.format) {\n        used[el.format] = used[el.format] || 0\n        used[el.format]++\n      }\n      if (el.type) {\n        used[el.type] = used[el.type] || 0\n        used[el.type]++\n      }\n    })\n\n    // Determine display text for each element of the array\n    $each(arr, function (i, el) {\n      var name\n\n      // If it's a simple string\n      if (typeof el === 'string') name = el\n      // Object\n      else if (el.title && used[el.title] <= 1) name = el.title\n      else if (el.format && used[el.format] <= 1) name = el.format\n      else if (el.type && used[el.type] <= 1) name = el.type\n      else if (el.description && used[el.description] <= 1) name = el.descripton\n      else if (el.title) name = el.title\n      else if (el.format) name = el.format\n      else if (el.type) name = el.type\n      else if (el.description) name = el.description\n      else if (JSON.stringify(el).length < 500) name = JSON.stringify(el)\n      else name = 'type'\n\n      disp.push(name)\n    })\n\n    // Replace identical display text with \"text 1\", \"text 2\", etc.\n    var inc = {}\n    $each(disp, function (i, name) {\n      inc[name] = inc[name] || 0\n      inc[name]++\n\n      if (used[name] > 1) disp[i] = name + ' ' + inc[name]\n    })\n\n    return disp\n  },\n\n  // Replace space(s) with \"-\" to create valid id value\n  getValidId: function (id) {\n    id = id === undefined ? '' : id.toString()\n    return id.replace(/\\s+/g, '-')\n  },\n  setInputAttributes: function (inputAttribute) {\n    if (this.schema.options && this.schema.options.inputAttributes) {\n      var inputAttributes = this.schema.options.inputAttributes\n      var protectedAttributes = ['name', 'type'].concat(inputAttribute)\n      for (var key in inputAttributes) {\n        if (inputAttributes.hasOwnProperty(key) && protectedAttributes.indexOf(key.toLowerCase()) === -1) {\n          this.input.setAttribute(key, inputAttributes[key])\n        }\n      }\n    }\n  },\n  expandCallbacks: function (scope, options) {\n    for (var i in options) {\n      if (options.hasOwnProperty(i) && options[i] === Object(options[i])) {\n        options[i] = this.expandCallbacks(scope, options[i])\n      } else if (options.hasOwnProperty(i) && typeof options[i] === 'string' && typeof this.defaults.callbacks[scope] === 'object' && typeof this.defaults.callbacks[scope][options[i]] === 'function') {\n        options[i] = this.defaults.callbacks[scope][options[i]].bind(null, this)// .bind(this);\n      }\n    }\n    return options\n  },\n  showValidationErrors: function (errors) {\n\n  }\n})\n","import { StringEditor } from './string'\nimport { $extend } from '../utilities'\nexport var AceEditor = StringEditor.extend({\n\n  setValue: function (value, initial, fromTemplate) {\n    var res = this._super(value, initial, fromTemplate)\n    if (res !== undefined && res.changed && this.ace_editor_instance) {\n      this.ace_editor_instance.setValue(res.value)\n      this.ace_editor_instance.session.getSelection().clearSelection()\n      this.ace_editor_instance.resize()\n    }\n  },\n  build: function () {\n    this.options.format = 'textarea' // Force format into \"textarea\"\n    this._super()\n    this.input_type = this.schema.format // Restore original format\n    this.input.setAttribute('data-schemaformat', this.input_type)\n  },\n  afterInputReady: function () {\n    var self = this; var options\n\n    if (window.ace) {\n      var mode = this.input_type\n      // aliases for c/cpp\n      if (mode === 'cpp' || mode === 'c++' || mode === 'c') mode = 'c_cpp'\n\n      // Get options, either global options from \"this.defaults.options.ace\" or\n      // single property options from schema \"options.ace\"\n      options = this.expandCallbacks('ace', $extend({}, {\n        selectionStyle: 'text',\n        minLines: 30,\n        maxLines: 30\n      }, this.defaults.options.ace || {}, this.options.ace || {}, {\n        mode: 'ace/mode/' + mode\n      }))\n\n      this.ace_container = document.createElement('div')\n      this.ace_container.style.width = '100%'\n      this.ace_container.style.position = 'relative'\n      // this.ace_container.style.height = '400px';\n      this.input.parentNode.insertBefore(this.ace_container, this.input)\n      this.input.style.display = 'none'\n\n      this.ace_editor_instance = window.ace.edit(this.ace_container, options)\n\n      this.ace_editor_instance.setValue(this.getValue())\n      this.ace_editor_instance.session.getSelection().clearSelection()\n      this.ace_editor_instance.resize()\n\n      if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n        this.ace_editor_instance.setReadOnly(true)\n      }\n\n      // Listen for changes\n      this.ace_editor_instance.on('change', function () {\n        self.input.value = self.ace_editor_instance.getValue()\n        self.refreshValue()\n        self.is_dirty = true\n        self.onChange(true)\n      })\n\n      this.theme.afterInputReady(self.input)\n    } else this._super() // Library not loaded, so just treat this as a string\n  },\n  getNumColumns: function () {\n    return 6\n  },\n  enable: function () {\n    if (!this.always_disabled && this.ace_editor_instance) this.ace_editor_instance.setReadOnly(false)\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.ace_editor_instance) this.ace_editor_instance.setReadOnly(true)\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.ace_editor_instance) {\n      this.ace_editor_instance.destroy()\n      this.ace_editor_instance = null\n    }\n    this._super()\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $extend, $each, $trigger } from '../utilities'\nexport var ArrayEditor = AbstractEditor.extend({\n  askConfirmation: function () {\n    if (this.jsoneditor.options.prompt_before_delete === true) {\n      if (window.confirm('Are you sure you want to remove this node?') === false) {\n        return false\n      }\n    }\n    return true\n  },\n  getDefault: function () {\n    return this.schema['default'] || []\n  },\n  register: function () {\n    this._super()\n    if (this.rows) {\n      for (var i = 0; i < this.rows.length; i++) {\n        this.rows[i].register()\n      }\n    }\n  },\n  unregister: function () {\n    this._super()\n    if (this.rows) {\n      for (var i = 0; i < this.rows.length; i++) {\n        this.rows[i].unregister()\n      }\n    }\n  },\n  getNumColumns: function () {\n    var info = this.getItemInfo(0)\n    // Tabs require extra horizontal space\n    if (this.tabs_holder && this.schema.format !== 'tabs-top') {\n      return Math.max(Math.min(12, info.width + 2), 4)\n    } else {\n      return info.width\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.add_row_button) this.add_row_button.disabled = false\n      if (this.remove_all_rows_button) this.remove_all_rows_button.disabled = false\n      if (this.delete_last_row_button) this.delete_last_row_button.disabled = false\n      if (this.copy_button) this.copy_button.disabled = false\n      // if(this.toggle_button) this.toggle_button.disabled = false;\n      if (this.delete_button) this.delete_button.disabled = false\n      if (this.moveup_button) this.moveup_button.disabled = false\n      if (this.movedown_button) this.movedown_button.disabled = false\n\n      if (this.rows) {\n        for (var i = 0; i < this.rows.length; i++) {\n          this.rows[i].enable()\n\n          if (this.rows[i].add_row_button) this.rows[i].add_row_button.disabled = false\n          if (this.rows[i].remove_all_rows_button) this.rows[i].remove_all_rows_button.disabled = false\n          if (this.rows[i].delete_last_row_button) this.rows[i].delete_last_row_button.disabled = false\n          if (this.rows[i].copy_button) this.rows[i].copy_button.disabled = false\n          // if(this.rows[i].toggle_button) this.rows[i].toggle_button.disabled = false;\n          if (this.rows[i].delete_button) this.rows[i].delete_button.disabled = false\n          if (this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = false\n          if (this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = false\n        }\n      }\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    if (this.add_row_button) this.add_row_button.disabled = true\n    if (this.remove_all_rows_button) this.remove_all_rows_button.disabled = true\n    if (this.delete_last_row_button) this.delete_last_row_button.disabled = true\n    if (this.copy_button) this.copy_button.disabled = true\n    // if(this.toggle_button) this.toggle_button.disabled = true;\n    if (this.delete_button) this.delete_button.disabled = true\n    if (this.moveup_button) this.moveup_button.disabled = true\n    if (this.movedown_button) this.movedown_button.disabled = true\n\n    if (this.rows) {\n      for (var i = 0; i < this.rows.length; i++) {\n        this.rows[i].disable(alwaysDisabled)\n\n        if (this.rows[i].add_row_button) this.rows[i].add_row_button.disabled = true\n        if (this.rows[i].remove_all_rows_button) this.rows[i].remove_all_rows_button.disabled = true\n        if (this.rows[i].delete_last_row_button) this.rows[i].delete_last_row_button.disabled = true\n        if (this.rows[i].copy_button) this.rows[i].copy_button.disabled = true\n        // if(this.rows[i].toggle_button) this.rows[i].toggle_button.disabled = true;\n        if (this.rows[i].delete_button) this.rows[i].delete_button.disabled = true\n        if (this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = true\n        if (this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = true\n      }\n    }\n    this._super()\n  },\n  preBuild: function () {\n    this._super()\n\n    this.rows = []\n    this.row_cache = []\n\n    this.hide_delete_buttons = this.options.disable_array_delete || this.jsoneditor.options.disable_array_delete\n    this.hide_delete_all_rows_buttons = this.hide_delete_buttons || this.options.disable_array_delete_all_rows || this.jsoneditor.options.disable_array_delete_all_rows\n    this.hide_delete_last_row_buttons = this.hide_delete_buttons || this.options.disable_array_delete_last_row || this.jsoneditor.options.disable_array_delete_last_row\n    this.hide_move_buttons = this.options.disable_array_reorder || this.jsoneditor.options.disable_array_reorder\n    this.hide_add_button = this.options.disable_array_add || this.jsoneditor.options.disable_array_add\n    this.show_copy_button = this.options.enable_array_copy || this.jsoneditor.options.enable_array_copy\n    this.array_controls_top = this.options.array_controls_top || this.jsoneditor.options.array_controls_top\n  },\n  build: function () {\n    if (!this.options.compact) {\n      this.header = document.createElement('label')\n      this.header.textContent = this.getTitle()\n      this.title = this.theme.getHeader(this.header)\n      this.container.appendChild(this.title)\n      this.title_controls = this.theme.getHeaderButtonHolder()\n      this.title.appendChild(this.title_controls)\n      if (this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description)\n        this.container.appendChild(this.description)\n      }\n      this.error_holder = document.createElement('div')\n      this.container.appendChild(this.error_holder)\n\n      if (this.schema.format === 'tabs-top') {\n        this.controls = this.theme.getHeaderButtonHolder()\n        this.title.appendChild(this.controls)\n        this.tabs_holder = this.theme.getTopTabHolder(this.getValidId(this.getItemTitle()))\n        this.container.appendChild(this.tabs_holder)\n        this.row_holder = this.theme.getTopTabContentHolder(this.tabs_holder)\n\n        this.active_tab = null\n      } else if (this.schema.format === 'tabs') {\n        this.controls = this.theme.getHeaderButtonHolder()\n        this.title.appendChild(this.controls)\n        this.tabs_holder = this.theme.getTabHolder(this.getValidId(this.getItemTitle()))\n        this.container.appendChild(this.tabs_holder)\n        this.row_holder = this.theme.getTabContentHolder(this.tabs_holder)\n\n        this.active_tab = null\n      } else {\n        this.panel = this.theme.getIndentedPanel()\n        this.container.appendChild(this.panel)\n        this.row_holder = document.createElement('div')\n        this.panel.appendChild(this.row_holder)\n        this.controls = this.theme.getButtonHolder()\n        if (this.array_controls_top) {\n          this.title.appendChild(this.controls)\n        } else {\n          this.panel.appendChild(this.controls)\n        }\n      }\n    } else {\n      // compact mode\n      this.title = this.theme.getHeader('')\n      this.container.appendChild(this.title)\n      this.panel = this.theme.getIndentedPanel()\n      this.container.appendChild(this.panel)\n      this.title_controls = this.theme.getHeaderButtonHolder()\n      this.title.appendChild(this.title_controls)\n      this.controls = this.theme.getHeaderButtonHolder()\n      this.title.appendChild(this.controls)\n      this.row_holder = document.createElement('div')\n      this.panel.appendChild(this.row_holder)\n    }\n\n    // Add controls\n    this.addControls()\n  },\n  onChildEditorChange: function (editor) {\n    this.refreshValue()\n    this.refreshTabs(true)\n    this._super(editor)\n  },\n  getItemTitle: function () {\n    if (!this.item_title) {\n      if (this.schema.items && !Array.isArray(this.schema.items)) {\n        var tmp = this.jsoneditor.expandRefs(this.schema.items)\n        this.item_title = tmp.title || this.translate('default_array_item_title')\n      } else {\n        this.item_title = this.translate('default_array_item_title')\n      }\n    }\n    return this.cleanText(this.item_title)\n  },\n  getItemSchema: function (i) {\n    if (Array.isArray(this.schema.items)) {\n      if (i >= this.schema.items.length) {\n        if (this.schema.additionalItems === true) {\n          return {}\n        } else if (this.schema.additionalItems) {\n          return $extend({}, this.schema.additionalItems)\n        }\n      } else {\n        return $extend({}, this.schema.items[i])\n      }\n    } else if (this.schema.items) {\n      return $extend({}, this.schema.items)\n    } else {\n      return {}\n    }\n  },\n  getItemInfo: function (i) {\n    var schema = this.getItemSchema(i)\n\n    // Check if it's cached\n    this.item_info = this.item_info || {}\n    var stringified = JSON.stringify(schema)\n    if (typeof this.item_info[stringified] !== 'undefined') return this.item_info[stringified]\n\n    // Get the schema for this item\n    schema = this.jsoneditor.expandRefs(schema)\n\n    this.item_info[stringified] = {\n      title: schema.title || this.translate('default_array_item_title'),\n      'default': schema['default'],\n      width: 12,\n      child_editors: schema.properties || schema.items\n    }\n\n    return this.item_info[stringified]\n  },\n  getElementEditor: function (i) {\n    var itemInfo = this.getItemInfo(i)\n    var schema = this.getItemSchema(i)\n    schema = this.jsoneditor.expandRefs(schema)\n    schema.title = itemInfo.title + ' ' + (i + 1)\n\n    var editor = this.jsoneditor.getEditorClass(schema)\n\n    var holder\n    if (this.tabs_holder) {\n      if (this.schema.format === 'tabs-top') {\n        holder = this.theme.getTopTabContent()\n      } else {\n        holder = this.theme.getTabContent()\n      }\n      holder.id = this.path + '.' + i\n    } else if (itemInfo.child_editors) {\n      holder = this.theme.getChildEditorHolder()\n    } else {\n      holder = this.theme.getIndentedPanel()\n    }\n\n    this.row_holder.appendChild(holder)\n\n    var ret = this.jsoneditor.createEditor(editor, {\n      jsoneditor: this.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: this.path + '.' + i,\n      parent: this,\n      required: true\n    })\n    ret.preBuild()\n    ret.build()\n    ret.postBuild()\n\n    if (!ret.title_controls) {\n      ret.array_controls = this.theme.getButtonHolder()\n      holder.appendChild(ret.array_controls)\n    }\n\n    return ret\n  },\n  destroy: function () {\n    this.empty(true)\n    if (this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n    if (this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder)\n    if (this.controls && this.controls.parentNode) this.controls.parentNode.removeChild(this.controls)\n    if (this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel)\n\n    this.rows = this.row_cache = this.title = this.description = this.row_holder = this.panel = this.controls = null\n\n    this._super()\n  },\n  empty: function (hard) {\n    if (!this.rows) return\n    var self = this\n    $each(this.rows, function (i, row) {\n      if (hard) {\n        if (row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab)\n        self.destroyRow(row, true)\n        self.row_cache[i] = null\n      }\n      self.rows[i] = null\n    })\n    self.rows = []\n    if (hard) self.row_cache = []\n  },\n  destroyRow: function (row, hard) {\n    var holder = row.container\n    if (hard) {\n      row.destroy()\n      if (holder.parentNode) holder.parentNode.removeChild(holder)\n      if (row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab)\n    } else {\n      if (row.tab) row.tab.style.display = 'none'\n      holder.style.display = 'none'\n      row.unregister()\n    }\n  },\n  getMax: function () {\n    if ((Array.isArray(this.schema.items)) && this.schema.additionalItems === false) {\n      return Math.min(this.schema.items.length, this.schema.maxItems || Infinity)\n    } else {\n      return this.schema.maxItems || Infinity\n    }\n  },\n  refreshTabs: function (refreshHeaders) {\n    var self = this\n    $each(this.rows, function (i, row) {\n      if (!row.tab) return\n\n      if (refreshHeaders) {\n        row.tab_text.textContent = row.getHeaderText()\n      } else {\n        if (row.tab === self.active_tab) {\n          self.theme.markTabActive(row)\n        } else {\n          self.theme.markTabInactive(row)\n        }\n      }\n    })\n  },\n  setValue: function (value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || []\n\n    if (!(Array.isArray(value))) value = [value]\n\n    var serialized = JSON.stringify(value)\n    if (serialized === this.serialized) return\n\n    // Make sure value has between minItems and maxItems items in it\n    if (this.schema.minItems) {\n      while (value.length < this.schema.minItems) {\n        value.push(this.getItemInfo(value.length)['default'])\n      }\n    }\n    if (this.getMax() && value.length > this.getMax()) {\n      value = value.slice(0, this.getMax())\n    }\n\n    var self = this\n    $each(value, function (i, val) {\n      if (self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val, initial)\n      } else if (self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i]\n        self.rows[i].setValue(val, initial)\n        self.rows[i].container.style.display = ''\n        if (self.rows[i].tab) self.rows[i].tab.style.display = ''\n        self.rows[i].register()\n        self.jsoneditor.trigger('addRow', self.rows[i])\n      } else {\n        var editor = self.addRow(val, initial)\n        self.jsoneditor.trigger('addRow', editor)\n      }\n    })\n\n    for (var j = value.length; j < self.rows.length; j++) {\n      self.destroyRow(self.rows[j])\n      self.rows[j] = null\n    }\n    self.rows = self.rows.slice(0, value.length)\n\n    // Set the active tab\n    var newActiveTab = null\n    $each(self.rows, function (i, row) {\n      if (row.tab === self.active_tab) {\n        newActiveTab = row.tab\n        return false\n      }\n    })\n    if (!newActiveTab && self.rows.length) newActiveTab = self.rows[0].tab\n\n    self.active_tab = newActiveTab\n\n    self.refreshValue(initial)\n    self.refreshTabs(true)\n    self.refreshTabs()\n\n    self.onChange()\n\n    // TODO: sortable\n  },\n  refreshValue: function (force) {\n    var self = this\n    var oldi = this.value ? this.value.length : 0\n    this.value = []\n\n    $each(this.rows, function (i, editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue()\n    })\n\n    if (oldi !== this.value.length || force) {\n      // If we currently have minItems items in the array\n      var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length\n\n      $each(this.rows, function (i, editor) {\n        // Hide the move down button for the last row\n        if (editor.movedown_button) {\n          if (i === self.rows.length - 1) {\n            editor.movedown_button.style.display = 'none'\n          } else {\n            editor.movedown_button.style.display = ''\n          }\n        }\n\n        // Hide the delete button if we have minItems items\n        if (editor.delete_button) {\n          if (minItems) {\n            editor.delete_button.style.display = 'none'\n          } else {\n            editor.delete_button.style.display = ''\n          }\n        }\n\n        // Get the value for this editor\n        self.value[i] = editor.getValue()\n      })\n\n      var controlsNeeded = false\n\n      if (!this.value.length) {\n        this.delete_last_row_button.style.display = 'none'\n        this.remove_all_rows_button.style.display = 'none'\n      } else if (this.value.length === 1) {\n        this.remove_all_rows_button.style.display = 'none'\n\n        // If there are minItems items in the array, or configured to hide the delete_last_row button, hide the delete button beneath the rows\n        if (minItems || this.hide_delete_last_row_buttons) {\n          this.delete_last_row_button.style.display = 'none'\n        } else {\n          this.delete_last_row_button.style.display = ''\n          controlsNeeded = true\n        }\n      } else {\n        if (minItems || this.hide_delete_last_row_buttons) {\n          this.delete_last_row_button.style.display = 'none'\n        } else {\n          this.delete_last_row_button.style.display = ''\n          controlsNeeded = true\n        }\n\n        if (minItems || this.hide_delete_all_rows_buttons) {\n          this.remove_all_rows_button.style.display = 'none'\n        } else {\n          this.remove_all_rows_button.style.display = ''\n          controlsNeeded = true\n        }\n      }\n\n      // If there are maxItems in the array, hide the add button beneath the rows\n      if ((this.getMax() && this.getMax() <= this.rows.length) || this.hide_add_button) {\n        this.add_row_button.style.display = 'none'\n      } else {\n        this.add_row_button.style.display = ''\n        controlsNeeded = true\n      }\n\n      if (!this.collapsed && controlsNeeded) {\n        this.controls.style.display = 'inline-block'\n      } else {\n        this.controls.style.display = 'none'\n      }\n    }\n  },\n  addRow: function (value, initial) {\n    var self = this\n    var i = this.rows.length\n\n    self.rows[i] = this.getElementEditor(i)\n    self.row_cache[i] = self.rows[i]\n\n    if (self.tabs_holder) {\n      self.rows[i].tab_text = document.createElement('span')\n      self.rows[i].tab_text.textContent = self.rows[i].getHeaderText()\n      if (self.schema.format === 'tabs-top') {\n        self.rows[i].tab = self.theme.getTopTab(self.rows[i].tab_text, this.getValidId(self.rows[i].path))\n        self.theme.addTopTab(self.tabs_holder, self.rows[i].tab)\n      } else {\n        self.rows[i].tab = self.theme.getTab(self.rows[i].tab_text, this.getValidId(self.rows[i].path))\n        self.theme.addTab(self.tabs_holder, self.rows[i].tab)\n      }\n      self.rows[i].tab.addEventListener('click', function (e) {\n        self.active_tab = self.rows[i].tab\n        self.refreshTabs()\n        e.preventDefault()\n        e.stopPropagation()\n      })\n    }\n\n    var controlsHolder = self.rows[i].title_controls || self.rows[i].array_controls\n\n    // Buttons to delete row, move row up, and move row down\n    if (!self.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton(self.getItemTitle(), 'delete', this.translate('button_delete_row_title', [self.getItemTitle()]))\n      self.rows[i].delete_button.classList.add('delete', 'json-editor-btntype-delete')\n      self.rows[i].delete_button.setAttribute('data-i', i)\n      self.rows[i].delete_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        if (!self.askConfirmation()) {\n          return false\n        }\n\n        var i = this.getAttribute('data-i') * 1\n        var value = self.getValue()\n        var newval = []\n        var newActiveTab = null\n\n        $each(value, function (j, row) {\n          if (j !== i) {\n            newval.push(row)\n          }\n        })\n\n        var editor = self.rows[i]\n\n        self.setValue(newval)\n\n        if (self.rows[i]) {\n          newActiveTab = self.rows[i].tab\n        } else if (self.rows[i - 1]) {\n          newActiveTab = self.rows[i - 1].tab\n        }\n\n        if (newActiveTab) {\n          self.active_tab = newActiveTab\n          self.refreshTabs()\n        }\n\n        self.onChange(true)\n        self.jsoneditor.trigger('deleteRow', editor)\n      })\n\n      if (controlsHolder) {\n        controlsHolder.appendChild(self.rows[i].delete_button)\n      }\n    }\n\n    // Button to copy an array element and add it as last element\n    if (self.show_copy_button) {\n      self.rows[i].copy_button = this.getButton(self.getItemTitle(), 'copy', 'Copy ' + self.getItemTitle())\n      self.rows[i].copy_button.classList.add('copy', 'json-editor-btntype-copy')\n      self.rows[i].copy_button.setAttribute('data-i', i)\n      self.rows[i].copy_button.addEventListener('click', function (e) {\n        var value = self.getValue()\n        e.preventDefault()\n        e.stopPropagation()\n        var i = this.getAttribute('data-i') * 1\n\n        $each(value, function (j, row) {\n          if (j === i) {\n            value.push(row)\n          }\n        })\n\n        self.setValue(value)\n        self.refreshValue(true)\n        self.onChange(true)\n      })\n\n      controlsHolder.appendChild(self.rows[i].copy_button)\n    }\n\n    if (i && !self.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('', (this.schema.format === 'tabs-top' ? 'moveleft' : 'moveup'), this.translate('button_move_up_title'))\n      self.rows[i].moveup_button.classList.add('moveup', 'json-editor-btntype-move')\n      self.rows[i].moveup_button.setAttribute('data-i', i)\n      self.rows[i].moveup_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        var i = this.getAttribute('data-i') * 1\n\n        if (i <= 0) return\n        var rows = self.getValue()\n        var tmp = rows[i - 1]\n        rows[i - 1] = rows[i]\n        rows[i] = tmp\n\n        self.setValue(rows)\n        self.active_tab = self.rows[i - 1].tab\n        self.refreshTabs()\n\n        self.onChange(true)\n\n        self.jsoneditor.trigger('moveRow', self.rows[i - 1])\n      })\n\n      if (controlsHolder) {\n        controlsHolder.appendChild(self.rows[i].moveup_button)\n      }\n    }\n\n    if (!self.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('', (this.schema.format === 'tabs-top' ? 'moveright' : 'movedown'), this.translate('button_move_down_title'))\n      self.rows[i].movedown_button.classList.add('movedown', 'json-editor-btntype-move')\n      self.rows[i].movedown_button.setAttribute('data-i', i)\n      self.rows[i].movedown_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        var i = this.getAttribute('data-i') * 1\n\n        var rows = self.getValue()\n        if (i >= rows.length - 1) return\n        var tmp = rows[i + 1]\n        rows[i + 1] = rows[i]\n        rows[i] = tmp\n\n        self.setValue(rows)\n        self.active_tab = self.rows[i + 1].tab\n        self.refreshTabs()\n        self.onChange(true)\n\n        self.jsoneditor.trigger('moveRow', self.rows[i + 1])\n      })\n\n      if (controlsHolder) {\n        controlsHolder.appendChild(self.rows[i].movedown_button)\n      }\n    }\n\n    if (value) self.rows[i].setValue(value, initial)\n    self.refreshTabs()\n\n    return self.rows[i]\n  },\n  addControls: function () {\n    var self = this\n\n    this.collapsed = false\n    this.toggle_button = this.getButton('', 'collapse', this.translate('button_collapse'))\n    this.toggle_button.classList.add('json-editor-btntype-toggle')\n    this.toggle_button.style.margin = '0 10px 0 0'\n    this.title.insertBefore(this.toggle_button, this.title.childNodes[0])\n\n    var rowHolderDisplay = self.row_holder.style.display\n    var controlsDisplay = self.controls.style.display\n    this.toggle_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      if (self.collapsed) {\n        self.collapsed = false\n        if (self.panel) self.panel.style.display = ''\n        self.row_holder.style.display = rowHolderDisplay\n        if (self.tabs_holder) self.tabs_holder.style.display = ''\n        self.controls.style.display = controlsDisplay\n        self.setButtonText(this, '', 'collapse', self.translate('button_collapse'))\n      } else {\n        self.collapsed = true\n        self.row_holder.style.display = 'none'\n        if (self.tabs_holder) self.tabs_holder.style.display = 'none'\n        self.controls.style.display = 'none'\n        if (self.panel) self.panel.style.display = 'none'\n        self.setButtonText(this, '', 'expand', self.translate('button_expand'))\n      }\n    })\n\n    // If it should start collapsed\n    if (this.options.collapsed) {\n      $trigger(this.toggle_button, 'click')\n    }\n\n    // Collapse button disabled\n    if (this.schema.options && typeof this.schema.options.disable_collapse !== 'undefined') {\n      if (this.schema.options.disable_collapse) this.toggle_button.style.display = 'none'\n    } else if (this.jsoneditor.options.disable_collapse) {\n      this.toggle_button.style.display = 'none'\n    }\n\n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(), 'add', this.translate('button_add_row_title', [this.getItemTitle()]))\n    this.add_row_button.classList.add('json-editor-btntype-add')\n    this.add_row_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      var i = self.rows.length\n      var editor\n      if (self.row_cache[i]) {\n        editor = self.rows[i] = self.row_cache[i]\n        self.rows[i].setValue(self.rows[i].getDefault(), true)\n        self.rows[i].container.style.display = ''\n        if (self.rows[i].tab) self.rows[i].tab.style.display = ''\n        self.rows[i].register()\n      } else {\n        editor = self.addRow()\n      }\n      self.active_tab = self.rows[i].tab\n      self.refreshTabs()\n      self.refreshValue()\n      self.onChange(true)\n      self.jsoneditor.trigger('addRow', editor)\n    })\n    self.controls.appendChild(this.add_row_button)\n\n    this.delete_last_row_button = this.getButton(this.translate('button_delete_last', [this.getItemTitle()]), 'subtract', this.translate('button_delete_last_title', [this.getItemTitle()]))\n    this.delete_last_row_button.classList.add('json-editor-btntype-deletelast')\n    this.delete_last_row_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      if (!self.askConfirmation()) {\n        return false\n      }\n\n      var rows = self.getValue()\n      var newActiveTab = null\n\n      var editor = rows.pop()\n\n      self.setValue(rows)\n\n      if (self.rows[self.rows.length - 1]) {\n        newActiveTab = self.rows[self.rows.length - 1].tab\n      }\n\n      if (newActiveTab) {\n        self.active_tab = newActiveTab\n        self.refreshTabs()\n      }\n\n      self.onChange(true)\n      self.jsoneditor.trigger('deleteRow', editor)\n    })\n    self.controls.appendChild(this.delete_last_row_button)\n\n    this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'), 'delete', this.translate('button_delete_all_title'))\n    this.remove_all_rows_button.classList.add('json-editor-btntype-deleteall')\n    this.remove_all_rows_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      if (!self.askConfirmation()) {\n        return false\n      }\n\n      self.empty(true)\n      self.setValue([])\n      self.onChange(true)\n      self.jsoneditor.trigger('deleteAllRows')\n    })\n    self.controls.appendChild(this.remove_all_rows_button)\n\n    if (self.tabs) {\n      this.add_row_button.style.width = '100%'\n      this.add_row_button.style.textAlign = 'left'\n      this.add_row_button.style.marginBottom = '3px'\n\n      this.delete_last_row_button.style.width = '100%'\n      this.delete_last_row_button.style.textAlign = 'left'\n      this.delete_last_row_button.style.marginBottom = '3px'\n\n      this.remove_all_rows_button.style.width = '100%'\n      this.remove_all_rows_button.style.textAlign = 'left'\n      this.remove_all_rows_button.style.marginBottom = '3px'\n    }\n  },\n  showValidationErrors: function (errors) {\n    var self = this\n\n    // Get all the errors that pertain to this editor\n    var myErrors = []\n    var otherErrors = []\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        myErrors.push(error)\n      } else {\n        otherErrors.push(error)\n      }\n    })\n\n    // Show errors for this editor\n    if (this.error_holder) {\n      if (myErrors.length) {\n        this.error_holder.innerHTML = ''\n        this.error_holder.style.display = ''\n        $each(myErrors, function (i, error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message))\n        })\n      // Hide error area\n      } else {\n        this.error_holder.style.display = 'none'\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.rows, function (i, row) {\n      row.showValidationErrors(otherErrors)\n    })\n  }\n})\n","import { MultiSelectEditor } from '../multiselect'\nimport { $extend } from '../../utilities'\nexport var ArrayChoicesEditor = MultiSelectEditor.extend({\n  setValue: function (value, initial) {\n    if (this.choices_instance) {\n      // Make sure we are dealing with an array of strings so we can check for strict equality\n      value = [].concat(value).map(function (e) { return e + '' })\n\n      this.updateValue(value) // Sets this.value to sanitized value\n\n      this.choices_instance.removeActiveItems() // Remove existing selection\n      this.choices_instance.setChoiceByValue(this.value) // Set new selection\n\n      this.onChange(true)\n    } else this._super(value, initial)\n  },\n  afterInputReady: function () {\n    if (window.Choices && !this.choices_instance) {\n      var options; var self = this\n      // Get options, either global options from \"this.defaults.options.choices\" or\n      // single property options from schema \"options.choices\"\n      options = this.expandCallbacks('choices', $extend({}, {\n        removeItems: true,\n        removeItemButton: true\n      }, this.defaults.options.choices || {}, this.options.choices || {}, {\n        addItems: true,\n        editItems: false,\n        duplicateItemsAllowed: false\n      }))\n\n      // New items are allowed if option \"addItems\" is true and items type is \"string\"\n      // this.newEnumAllowed = options.addItems = !!options.addItems && this.schema.items && this.schema.items.type == 'string';\n\n      // Choices doesn't support adding new items to select type input\n      this.newEnumAllowed = false\n\n      this.choices_instance = new window.Choices(this.input, options)\n\n      // Remove change handler set in parent class (src/multiselect.js)\n      this.control.removeEventListener('change', this.multiselectChangeHandler)\n\n      // Create a new change handler\n      this.multiselectChangeHandler = function (e) {\n        var value = self.choices_instance.getValue(true)\n        self.updateValue(value)\n        self.onChange(true)\n      }\n      this.control.addEventListener('change', this.multiselectChangeHandler, false)\n    }\n    this._super()\n  },\n  updateValue: function (value) {\n    value = [].concat(value)\n    var changed = false; var newValue = []\n    for (var i = 0; i < value.length; i++) {\n      if (!this.select_values[value[i] + '']) {\n        changed = true\n        if (this.newEnumAllowed) {\n          if (!this.addNewOption(value[i])) continue\n        } else continue\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]])\n      newValue.push(sanitized)\n      if (sanitized !== value[i]) changed = true\n    }\n    this.value = newValue\n\n    return changed\n  },\n  addNewOption: function (value) {\n    // Add new value and label\n    this.option_keys.push(value + '')\n    this.option_titles.push(value + '')\n    this.select_values[value + ''] = value\n    // Update Schema enum to prevent triggering \"Value must be one of the enumerated values\"\n    this.schema.items.enum.push(value)\n    // Add new value and label to choices\n    this.choices_instance.setChoices([{ value: value + '', label: value + '' }], 'value', 'label', false)\n\n    return true\n  },\n  enable: function () {\n    if (!this.always_disabled && this.choices_instance) this.choices_instance.enable()\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.choices_instance) this.choices_instance.disable()\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.choices_instance) {\n      this.choices_instance.destroy()\n      this.choices_instance = null\n    }\n    this._super()\n  }\n})\n","import { MultiSelectEditor } from '../multiselect'\nimport { $extend } from '../../utilities'\nexport var ArraySelect2Editor = MultiSelectEditor.extend({\n\n  setValue: function (value, initial) {\n    if (this.select2_instance) {\n      // Make sure we are dealing with an array of strings so we can check for strict equality\n      value = [].concat(value).map(function (e) { return e + '' })\n\n      this.updateValue(value) // Sets this.value to sanitized value\n\n      if (this.select2v4) this.select2_instance.val(this.value).change()\n      else this.select2_instance.select2('val', this.value)\n\n      this.onChange(true)\n    } else this._super(value, initial)\n  },\n  afterInputReady: function () {\n    var options; var self = this\n\n    if (window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && !this.select2_instance) {\n      // Get options, either global options from \"this.defaults.options.select2\" or\n      // single property options from schema \"options.select2\"\n      options = this.expandCallbacks('select2', $extend({}, {\n        tags: true,\n        width: '100%'\n      }, this.defaults.options.select2 || {}, this.options.select2 || {}))\n\n      // New items are allowed if option \"tags\" is true and items type is \"string\"\n      this.newEnumAllowed = options.tags = !!options.tags && this.schema.items && this.schema.items.type === 'string'\n\n      this.select2_instance = window.jQuery(this.input).select2(options)\n      this.select2v4 = this.select2_instance.select2.hasOwnProperty('amd')\n\n      this.selectChangeHandler = function () {\n        var value = self.select2v4 ? self.select2_instance.val() : self.select2_instance.select2('val')\n        self.updateValue(value)\n        self.onChange(true)\n      }\n\n      // Add event handler.\n      // Note: Must use the \"on()\" method and not addEventListener()\n      this.select2_instance.on('select2-blur', this.selectChangeHandler)\n      this.select2_instance.on('change', this.selectChangeHandler)\n    }\n    this._super()\n  },\n  updateValue: function (value) {\n    value = [].concat(value)\n    var changed = false; var newValue = []\n    for (var i = 0; i < value.length; i++) {\n      //      if (!this.select_options[value[i]+'']) {\n      if (!this.select_values[value[i] + '']) {\n        changed = true\n        if (this.newEnumAllowed) {\n          if (!this.addNewOption(value[i])) continue\n        } else continue\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]])\n      newValue.push(sanitized)\n      if (sanitized !== value[i]) changed = true\n    }\n    this.value = newValue\n\n    return changed\n  },\n  addNewOption: function (value) {\n    // Add new value and label\n    this.option_keys.push(value + '')\n    this.option_titles.push(value + '')\n    this.select_values[value + ''] = value\n    // Update Schema enum to prevent triggering \"Value must be one of the enumerated values\"\n    this.schema.items.enum.push(value)\n\n    var optionTag = this.input.querySelector('option[value=\"' + value + '\"]')\n    // Remove data attribute to make option tag permanent. (user input)\n    if (optionTag) optionTag.removeAttribute('data-select2-tag')\n    // Create new option tag (setValue)\n    // eslint-disable-next-line no-undef\n    else this.input.appendChild(new Option(value, value, false, false)).trigger('change')\n\n    return true\n  },\n  enable: function () {\n    if (!this.always_disabled && this.select2_instance) {\n      if (this.select2v4) this.select2_instance.prop('disabled', false)\n      else this.select2_instance.select2('enable', true)\n    }\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.select2_instance) {\n      if (this.select2v4) this.select2_instance.prop('disabled', true)\n      else this.select2_instance.select2('enable', false)\n    }\n    this._super()\n  },\n  destroy: function () {\n    if (this.select2_instance) {\n      this.select2_instance.select2('destroy')\n      this.select2_instance = null\n    }\n    this._super()\n  }\n})\n","import { MultiSelectEditor } from '../multiselect'\nimport { $extend } from '../../utilities'\nexport var ArraySelectizeEditor = MultiSelectEditor.extend({\n\n  setValue: function (value, initial) {\n    if (this.selectize_instance) {\n      // Make sure we are dealing with an array of strings so we can check for strict equality\n      value = [].concat(value).map(function (e) { return e + '' })\n\n      this.updateValue(value) // Sets this.value to sanitized value\n\n      this.selectize_instance.setValue(this.value)\n\n      this.onChange(true)\n    } else this._super(value, initial)\n  },\n  afterInputReady: function () {\n    var options; var self = this\n\n    if (window.jQuery && window.jQuery.fn && window.jQuery.fn.selectize && !this.selectize_instance) {\n      // Get options, either global options from \"this.defaults.options.selectize\" or\n      // single property options from schema \"options.selectize\"\n      options = this.expandCallbacks('selectize', $extend({}, {\n        plugins: ['remove_button'],\n        delimiter: false,\n        createOnBlur: true,\n        create: true\n      }, this.defaults.options.selectize || {}, this.options.selectize || {}))\n\n      // New items are allowed if option \"create\" is true and items type is \"string\"\n      this.newEnumAllowed = options.create = !!options.create && this.schema.items && this.schema.items.type === 'string'\n\n      this.selectize_instance = (window.jQuery(this.input).selectize(options))[0].selectize\n\n      // Remove change handler set in parent class (src/multiselect.js)\n      this.control.removeEventListener('change', this.multiselectChangeHandler)\n\n      // Create a new change handler\n      this.multiselectChangeHandler = function (e) {\n        var value = self.selectize_instance.getValue()\n        self.updateValue(value)\n        self.onChange(true)\n      }\n\n      // Add new event handler.\n      // Note: Must use the \"on()\" method and not addEventListener()\n      this.selectize_instance.on('change', this.multiselectChangeHandler)\n    }\n    this._super()\n  },\n  updateValue: function (value) {\n    value = [].concat(value)\n    var changed = false; var newValue = []\n    for (var i = 0; i < value.length; i++) {\n      //      if (!this.select_options[value[i]+'']) {\n      if (!this.select_values[value[i] + '']) {\n        changed = true\n        if (this.newEnumAllowed) {\n          if (!this.addNewOption(value[i])) continue\n        } else continue\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]])\n      newValue.push(sanitized)\n      if (sanitized !== value[i]) changed = true\n    }\n    this.value = newValue\n\n    return changed\n  },\n  addNewOption: function (value) {\n    // Add new value and label\n    this.option_keys.push(value + '')\n    this.option_titles.push(value + '')\n    this.select_values[value + ''] = value\n    // Update Schema enum to prevent triggering \"Value must be one of the enumerated values\"\n    this.schema.items.enum.push(value)\n    // Add new value and label to selectize\n    this.selectize_instance.addOption({ text: value, value: value })\n\n    return true\n  },\n  enable: function () {\n    if (!this.always_disabled && this.selectize_instance) this.selectize_instance.unlock()\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.selectize_instance) this.selectize_instance.lock()\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.selectize_instance) {\n      this.selectize_instance.destroy()\n      this.selectize_instance = null\n    }\n    this._super()\n  }\n})\n","import { StringEditor } from './string'\nimport { $extend } from '../utilities'\nexport var AutocompleteEditor = StringEditor.extend({\n  postBuild: function () {\n    if (window.Autocomplete) {\n      // create wrapper container\n      this.autocomplete_wrapper = document.createElement('div')\n\n      // insert wrapper after this.input in the DOM tree\n      this.input.parentNode.insertBefore(this.autocomplete_wrapper, this.input.nextSibling)\n\n      // move this.input into wrapper\n      this.autocomplete_wrapper.appendChild(this.input)\n\n      // create dropdown container\n      this.autocomplete_dropdown = document.createElement('ul')\n\n      // insert dropdown after this.input in the DOM tree\n      this.input.parentNode.insertBefore(this.autocomplete_dropdown, this.input.nextSibling)\n    }\n    this._super()\n  },\n  afterInputReady: function () {\n    var options\n\n    if (window.Autocomplete && !this.autocomplete_instance) {\n      // Get options, either global options from \"this.defaults.options.autocomplete\" or\n      // single property options from schema \"options.autocomplete\"\n      options = this.expandCallbacks('autocomplete', $extend({}, {\n        'search': function (jseditor, input) {\n          console.log('No \"search\" callback defined for autocomplete in property \"' + jseditor.key + '\"')\n          return []\n        }.bind(null, this),\n        'baseClass': 'autocomplete'\n      }, this.defaults.options.autocomplete || {}, this.options.autocomplete || {}))\n\n      this.autocomplete_wrapper.classList.add(options.baseClass)\n      this.autocomplete_dropdown.classList.add(options.baseClass + '-result-list')\n      // this.input.classList.add(options.baseClass + '-input');\n\n      this.autocomplete_instance = new window.Autocomplete(this.autocomplete_wrapper, options)\n    }\n    this._super()\n  },\n  destroy: function () {\n    if (this.autocomplete_instance) {\n      if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n      if (this.autocomplete_dropdown && this.autocomplete_dropdown.parentNode) this.autocomplete_dropdown.parentNode.removeChild(this.autocomplete_dropdown)\n      if (this.autocomplete_wrapper && this.autocomplete_wrapper.parentNode) this.autocomplete_wrapper.parentNode.removeChild(this.autocomplete_wrapper)\n      this.autocomplete_instance = null\n    }\n    this._super()\n  }\n\n})\n","import { AbstractEditor } from '../editor'\n\nexport var Base64Editor = AbstractEditor.extend({\n\n  getNumColumns: function () {\n    return 4\n  },\n  setFileReaderListener: function (frMultiple) {\n    var self = this\n    frMultiple.addEventListener('load', function (event) {\n      if (self.count === self.current_item_index) {\n        // Overwrite existing file by default, leave other properties unchanged\n        self.value[self.count][self.key] = event.target.result\n      } else {\n        var tempObject = {}\n        // Create empty object\n        for (var key in self.parent.schema.properties) {\n          tempObject[key] = ''\n        }\n        // Set object media file\n        tempObject[self.key] = event.target.result\n        self.value.splice(self.count, 0, tempObject) // insert new file object\n      }\n\n      // Increment using the listener and not the 'for' loop as the listener will be processed asynchronously\n      self.count += 1\n      // When all files have been processed, update the value of the editor\n      if (self.count === (self.total + self.current_item_index)) {\n        self.arrayEditor.setValue(self.value)\n      }\n    })\n  },\n  build: function () {\n    var self = this\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden')\n    this.container.appendChild(this.input)\n\n    // Don't show uploader if this is readonly\n    if (!this.schema.readOnly && !this.schema.readonly) {\n      if (!window.FileReader) throw new Error('FileReader required for base64 editor')\n\n      // File uploader\n      this.uploader = this.theme.getFormInputField('file')\n\n      // Set attribute of file input field to 'multiple' if:\n      // 'multiple' key has been set to 'true' in the schema\n      // and the parent object is of type 'object'\n      // and the parent of the parent type has been set to 'array'\n      if (self.schema.options && self.schema.options.multiple && self.schema.options.multiple === true && self.parent && self.parent.schema.type === 'object' && self.parent.parent && self.parent.parent.schema.type === 'array') {\n        this.uploader.setAttribute('multiple', '')\n      }\n\n      this.uploader.addEventListener('change', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        if (this.files && this.files.length) {\n          // Check the amount of files uploaded.\n          // If 1, use the regular upload, otherwise use the multiple upload method\n          if (this.files.length > 1 && self.schema.options && self.schema.options.multiple && self.schema.options.multiple === true && self.parent && self.parent.schema.type === 'object' && self.parent.parent && self.parent.parent.schema.type === 'array') {\n            // Load editor of parent.parent to get the array\n            self.arrayEditor = self.jsoneditor.getEditor(self.parent.parent.path)\n            // Check the current value of this editor\n            self.value = self.arrayEditor.getValue()\n            // Set variables for amount of files, index of current array item and\n            // count value containing current status of processed files\n            self.total = this.files.length\n            self.current_item_index = parseInt(self.parent.key)\n            self.count = self.current_item_index\n\n            for (var i = 0; i < self.total; i++) {\n              // eslint-disable-next-line no-undef\n              var frMultiple = new FileReader()\n              self.setFileReaderListener(frMultiple)\n              frMultiple.readAsDataURL(this.files[i])\n            }\n          } else {\n            // eslint-disable-next-line no-undef\n            var fr = new FileReader()\n            fr.onload = function (evt) {\n              self.value = evt.target.result\n              self.refreshPreview()\n              self.onChange(true)\n              fr = null\n            }\n            fr.readAsDataURL(this.files[0])\n          }\n        }\n      })\n    }\n\n    this.preview = this.theme.getFormInputDescription(this.schema.description)\n    this.container.appendChild(this.preview)\n\n    this.control = this.theme.getFormControl(this.label, this.uploader || this.input, this.preview, this.infoButton)\n    this.container.appendChild(this.control)\n  },\n  refreshPreview: function () {\n    if (this.last_preview === this.value) return\n    this.last_preview = this.value\n\n    this.preview.innerHTML = ''\n\n    if (!this.value) return\n\n    var mime = this.value.match(/^data:([^;,]+)[;,]/)\n    if (mime) mime = mime[1]\n\n    if (!mime) {\n      this.preview.innerHTML = '<em>Invalid data URI</em>'\n    } else {\n      this.preview.innerHTML = '<strong>Type:</strong> ' + mime + ', <strong>Size:</strong> ' + Math.floor((this.value.length - this.value.split(',')[0].length - 1) / 1.33333) + ' bytes'\n      if (mime.substr(0, 5) === 'image') {\n        this.preview.innerHTML += '<br>'\n        var img = document.createElement('img')\n        img.style.maxWidth = '100%'\n        img.style.maxHeight = '100px'\n        img.src = this.value\n        this.preview.appendChild(img)\n      }\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.uploader) this.uploader.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    if (this.uploader) this.uploader.disabled = true\n    this._super()\n  },\n  setValue: function (val) {\n    if (this.value !== val) {\n      this.value = val\n      this.input.value = this.value\n      this.refreshPreview()\n      this.onChange()\n    }\n  },\n  destroy: function () {\n    if (this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview)\n    if (this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title)\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n    if (this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader)\n\n    this._super()\n  }\n})\n","// Non-Active editor for displaying buttons in form\nimport { AbstractEditor } from '../editor'\nimport { $extend } from '../utilities'\nexport var ButtonEditor = AbstractEditor.extend({\n  init: function (options, defaults) {\n    this._super(options, defaults)\n    this.active = false\n\n    // Set field to required in schema otherwise it will not be displayed\n    if (this.parent && this.parent.schema) {\n      if (Array.isArray(this.parent.schema.required)) {\n        if (this.parent.schema.required.indexOf(this.key) === -1) {\n          this.parent.schema.required.push(this.key)\n        }\n      } else {\n        this.parent.schema.required = [this.key]\n      }\n    }\n  },\n  build: function () {\n    this.options.compact = true\n\n    // Get options, either global options from \"this.defaults.options.button\" or\n    // single property options from schema \"options.button\"\n    var title = this.schema.title || this.key\n    var options = this.expandCallbacks('button', $extend({}, {\n      'icon': '',\n      'validated': false,\n      'align': 'left',\n      'action': function (jseditor, e) {\n        window.alert('No button action defined for \"' + jseditor.path + '\"')\n      }.bind(null, this)\n    }, this.defaults.options.button || {}, this.options.button || {}))\n\n    this.input = this.theme.getFormButton(title, options.icon, title)\n    this.input.addEventListener('click', options.action, false)\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true\n      this.input.setAttribute('readonly', 'true')\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes(['readonly'])\n\n    this.control = this.theme.getFormButtonHolder(options.align)\n    this.control.appendChild(this.input)\n\n    this.container.appendChild(this.control)\n\n    var self = this\n    this.changeHandler = function () {\n      if (self.jsoneditor.validate(self.jsoneditor.getValue()).length > 0) self.disable()\n      else self.enable()\n    }\n\n    // Enable/disable the button depending on form validation\n    if (options.validated) this.jsoneditor.on('change', this.changeHandler)\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    this.input.disabled = true\n    this._super()\n  },\n  getNumColumns: function () {\n    return 2\n  },\n  activate: function () {\n    this.active = false\n    this.enable()\n  },\n  deactivate: function () {\n    // only non required properties can be deactivated.\n    if (!this.isRequired()) {\n      this.active = false\n      this.disable()\n    }\n  },\n  destroy: function () {\n    this.jsoneditor.off('change', this.changeHandler)\n    this.changeHandler = null\n    this._super()\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $each } from '../utilities'\n\nexport var CheckboxEditor = AbstractEditor.extend({\n\n  setValue: function (value, initial) {\n    value = !!value\n    var changed = this.getValue() !== value\n    this.value = value\n    this.input.checked = this.value\n    this.onChange(changed)\n  },\n  register: function () {\n    this._super()\n    if (!this.input) return\n    this.input.setAttribute('name', this.formname)\n  },\n  unregister: function () {\n    this._super()\n    if (!this.input) return\n    this.input.removeAttribute('name')\n  },\n  getNumColumns: function () {\n    return Math.min(12, Math.max(this.getTitle().length / 7, 2))\n  },\n  build: function () {\n    var self = this\n    this.label = this.header = this.theme.getCheckboxLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText && !this.options.compact) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n    if (this.options.compact) this.container.classList.add('compact')\n\n    this.input = this.theme.getCheckbox()\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton)\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true\n      this.input.disabled = true\n    }\n\n    this.input.addEventListener('change', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      self.value = this.checked\n      self.onChange(true)\n    })\n\n    this.container.appendChild(this.control)\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    this.input.disabled = true\n    this._super()\n  },\n  destroy: function () {\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n    this._super()\n  },\n  showValidationErrors: function (errors) {\n    var self = this\n\n    if (this.jsoneditor.options.show_errors === 'always') {} else if (!this.is_dirty && this.previous_error_setting === this.jsoneditor.options.show_errors) {\n      return\n    }\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors\n\n    var messages = []\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message)\n      }\n    })\n\n    this.input.controlgroup = this.control\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.')\n    } else {\n      this.theme.removeInputError(this.input)\n    }\n  }\n})\n","import { SelectEditor } from './select'\nimport { $extend } from '../utilities'\nexport var ChoicesEditor = SelectEditor.extend({\n\n  setValue: function (value, initial) {\n    if (this.choices_instance) {\n      // Sanitize value before setting it\n      var sanitized = this.typecast(value || '')\n\n      if (this.enum_values.indexOf(sanitized) < 0) sanitized = this.enum_values[0]\n\n      if (this.value === sanitized) return\n\n      if (initial) this.is_dirty = false\n      else if (this.jsoneditor.options.show_errors === 'change') this.is_dirty = true\n\n      this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)]\n\n      this.choices_instance.setChoiceByValue(this.input.value)\n\n      this.value = sanitized\n      this.onChange()\n    } else this._super(value, initial)\n  },\n  afterInputReady: function () {\n    if (window.Choices && !this.choices_instance) {\n      var options\n      // Get options, either global options from \"this.defaults.options.choices\" or\n      // single property options from schema \"options.choices\"\n      options = this.expandCallbacks('choices', $extend({}, this.defaults.options.choices || {}, this.options.choices || {}))\n\n      this.choices_instance = new window.Choices(this.input, options)\n    }\n    this._super()\n  },\n  onWatchedFieldChange: function () {\n    this._super()\n    if (this.choices_instance) {\n      var self = this; var choicesList = this.enum_options.map(function (v, i) { return { value: v, label: self.enum_display[i] } })\n      this.choices_instance.setChoices(choicesList, 'value', 'label', true)\n      this.choices_instance.setChoiceByValue(this.value + '') // Set new selection\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled && this.choices_instance) this.choices_instance.enable()\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.choices_instance) this.choices_instance.disable()\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.choices_instance) {\n      this.choices_instance.destroy()\n      this.choices_instance = null\n    }\n    this._super()\n  }\n})\n","/*\n\nEdtended handling of  oolor type fields.\n\nHas optional support for using https://github.com/Sphinxxxx/vanilla-picker.\n\n*/\nimport { StringEditor } from './string'\nimport { $extend } from '../utilities'\n\nexport var ColorEditor = StringEditor.extend({\n  postBuild: function () {\n    if (window.Picker) this.input.type = 'text'\n  },\n  setValue: function (value, initial, fromTemplate) {\n    var res = this._super(value, initial, fromTemplate)\n    if (this.picker_instance && this.picker_instance.domElement && res && res.changed) {\n      this.picker_instance.setColor(res.value, true)\n    }\n    return res\n  },\n  getNumColumns: function () {\n    return 2\n  },\n  afterInputReady: function () {\n    this._super()\n    this.createPicker(true)\n  },\n  disable: function () {\n    this._super()\n    if (this.picker_instance && this.picker_instance.domElement) {\n      // Disable picker cursor dragging\n      this.picker_instance.domElement.style.pointerEvents = 'none'\n      // Disable picker buttons\n      var buttons = this.picker_instance.domElement.querySelectorAll('button')\n      for (var i = 0; i < buttons.length; i++) {\n        buttons[i].disabled = true\n      }\n    }\n  },\n  enable: function () {\n    this._super()\n    if (this.picker_instance && this.picker_instance.domElement) {\n      // Enable picker cursor dragging\n      this.picker_instance.domElement.style.pointerEvents = 'auto'\n      // Enable picker buttons\n      var buttons = this.picker_instance.domElement.querySelectorAll('button')\n      for (var i = 0; i < buttons.length; i++) {\n        buttons[i].disabled = false\n      }\n    }\n  },\n  destroy: function () {\n    this.createPicker(false)\n    this._super()\n  },\n  // helper functions\n  createPicker: function (create) {\n    if (create) { // create vanilla-picker\n      if (window.Picker && !this.picker_instance) { // do when vanilla-picker loaded\n        const self = this\n        var options = this.expandCallbacks('colorpicker', $extend({}, {\n          editor: false, // default no editor\n          alpha: false, // default no alpha\n          color: this.value,\n          popup: 'bottom' // show in the bottom\n        }, this.defaults.options.colorpicker || {}, this.options.colorpicker || {}, {\n          parent: this.container\n        }))\n\n        var updateHandler = function (color) {\n          const format = this.settings.editorFormat\n          const isAlpha = this.settings.alpha\n          self.setValue(format === 'hex' ? (isAlpha ? color.hex : color.hex.slice(0, 7)) : color[format + (isAlpha ? 'a' : '') + 'String'])\n        }\n        if (!options.popup && typeof options.onChange !== 'function') options.onChange = updateHandler\n        else if (options.popup && typeof options.onDone !== 'function') options.onDone = updateHandler\n\n        this.picker_instance = new window.Picker(options)\n        // this.picker_instance.openHandler()\n        if (!options.popup) { // use inline colorPicker\n          this.input.style.display = 'none'\n          this.theme.afterInputReady(this.picker_instance.domElement)\n        }\n      }\n    } else { // destroy vanilla-picker\n      if (this.picker_instance) {\n        this.picker_instance.destroy()\n        this.picker_instance = null\n        this.input.style.display = ''\n      }\n    }\n  }\n})\n","/*\n\nEdtended handling of date, time and datetime-local type fields.\n\nWorks with both string and integer data types. (default only support string type)\n\nHas optional support for using flatpickr datepicker.\nAll flatpickr options is supported with a few minor differences.\n- \"enableTime\" and \"noCalendar\" are set automatically, based on the data type.\n- Extra config option \"errorDateFormat\". If this is set, it will replace the format displayed in error messages.\n- It is not possible to use \"inline\" and \"wrap\" options together.\n- When using the \"wrap\" option, \"toggle\" and \"clear\" buttons are automatically added to markup. 2 extra boolean options (\"showToggleButton\" and \"showClearButton\") are available to control which buttons to display. Note: not all frameworks supports this. (Works in: Bootstrap and Foundation)\n- When using the \"inline\" option, an extra boolean option (\"inlineHideInput\") is available to hide the original input field.\n- If \"mode\" is set to either \"multiple\" or \"range\", only string data type is supported. Also the result from these is returned as a string not an array.\n\nToDo:\n - Improve Handling of flatpicker \"multiple\" and \"range\" modes. (Currently the values are just added as string values, but the optimal scenario would be to save those as array if possible)\n\n*/\nimport { StringEditor } from './string'\n\nexport var DatetimeEditor = StringEditor.extend({\n\n  build: function () {\n    this._super()\n    if (!this.input) return\n\n    if (window.flatpickr && typeof this.options.flatpickr === 'object') {\n      // Make sure that flatpickr settings matches the input type\n      this.options.flatpickr.enableTime = this.schema.format !== 'date'\n      this.options.flatpickr.noCalendar = this.schema.format === 'time'\n\n      // Curently only string can contain range or multiple values\n      if (this.schema.type === 'integer') this.options.flatpickr.mode = 'single'\n\n      // Attribute for flatpicker\n      this.input.setAttribute('data-input', '')\n\n      var input = this.input\n\n      if (this.options.flatpickr.wrap === true) {\n        // Create buttons for input group\n        var buttons = []\n        if (this.options.flatpickr.showToggleButton !== false) {\n          var toggleButton = this.getButton('', this.schema.format === 'time' ? 'time' : 'calendar', this.translate('flatpickr_toggle_button'))\n          // Attribute for flatpicker\n          toggleButton.setAttribute('data-toggle', '')\n          buttons.push(toggleButton)\n        }\n        if (this.options.flatpickr.showClearButton !== false) {\n          var clearButton = this.getButton('', 'clear', this.translate('flatpickr_clear_button'))\n          // Attribute for flatpicker\n          clearButton.setAttribute('data-clear', '')\n          buttons.push(clearButton)\n        }\n\n        // Save position of input field\n        var parentNode = this.input.parentNode; var nextSibling = this.input.nextSibling\n\n        var buttonContainer = this.theme.getInputGroup(this.input, buttons)\n        if (buttonContainer !== undefined) {\n          // Make sure \"inline\" option is turned off\n          this.options.flatpickr.inline = false\n\n          // Insert container at same position as input field\n          parentNode.insertBefore(buttonContainer, nextSibling)\n\n          input = buttonContainer\n        } else {\n          this.options.flatpickr.wrap = false\n        }\n      }\n\n      this.flatpickr = window.flatpickr(input, this.options.flatpickr)\n\n      if (this.options.flatpickr.inline === true && this.options.flatpickr.inlineHideInput === true) {\n        this.input.setAttribute('type', 'hidden')\n      }\n    }\n  },\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    if (this.schema.type === 'string') {\n      return this.value\n    }\n    if (this.value === '' || this.value === undefined) {\n      return undefined\n    }\n\n    var value = this.schema.format === 'time' ? '1970-01-01 ' + this.value : this.value\n    return parseInt(new Date(value).getTime() / 1000)\n  },\n  setValue: function (value, initial, fromTemplate) {\n    if (this.schema.type === 'string') {\n      this._super(value, initial, fromTemplate)\n      if (this.flatpickr) this.flatpickr.setDate(value)\n    } else if (value > 0) {\n      var dateObj = new Date(value * 1000)\n      var year = dateObj.getFullYear()\n      var month = this.zeroPad(dateObj.getMonth() + 1)\n      var day = this.zeroPad(dateObj.getDate())\n      var hour = this.zeroPad(dateObj.getHours())\n      var min = this.zeroPad(dateObj.getMinutes())\n      var sec = this.zeroPad(dateObj.getSeconds())\n      var date = [year, month, day].join('-')\n      var time = [hour, min, sec].join(':')\n      var dateValue = date + 'T' + time\n\n      if (this.schema.format === 'date') dateValue = date\n      else if (this.schema.format === 'time') dateValue = time\n\n      this.input.value = dateValue\n      this.refreshValue()\n      if (this.flatpickr) this.flatpickr.setDate(dateValue)\n    }\n  },\n  destroy: function () {\n    if (this.flatpickr) this.flatpickr.destroy()\n    this.flatpickr = null\n    this._super()\n  },\n  // helper function\n  zeroPad: function (value) {\n    return ('0' + value).slice(-2)\n  }\n})\n","// hyper-link describeBy Editor\nimport { AbstractEditor } from '../editor'\nimport { $extend, $each } from '../utilities'\nexport var DescribedByEditor = AbstractEditor.extend({\n\n  register: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].unregister()\n      }\n\n      if (this.editors[this.currentEditor]) this.editors[this.currentEditor].register()\n    }\n\n    this._super()\n  },\n  unregister: function () {\n    this._super()\n\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].unregister()\n      }\n    }\n  },\n  getNumColumns: function () {\n    if (!this.editors[this.currentEditor]) return 4\n    return Math.max(this.editors[this.currentEditor].getNumColumns(), 4)\n  },\n  enable: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].enable()\n      }\n    }\n\n    this._super()\n  },\n  disable: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].disable()\n      }\n    }\n\n    this._super()\n  },\n  switchEditor: function () {\n    var self = this\n    var vars = this.getWatchedFieldValues()\n\n    if (!vars) return\n\n    // var ref = this.template.fillFromObject(vars);\n    // var ref = this.template(vars);\n    var ref = document.location.origin + document.location.pathname + this.template(vars)\n\n    if (!this.editors[this.refs[ref]]) {\n      this.buildChildEditor(ref)\n    }\n\n    this.currentEditor = this.refs[ref]\n\n    this.register()\n\n    $each(this.editors, function (ref, editor) {\n      if (!editor) return\n      if (self.currentEditor === ref) {\n        editor.container.style.display = ''\n      } else {\n        editor.container.style.display = 'none'\n      }\n    })\n\n    this.refreshValue()\n    this.onChange(true)\n  },\n  buildChildEditor: function (ref) {\n    this.refs[ref] = this.editors.length\n\n    var holder = this.theme.getChildEditorHolder()\n    this.editor_holder.appendChild(holder)\n\n    var schema = $extend({}, this.schema, this.jsoneditor.refs[ref])\n\n    var editorClass = this.jsoneditor.getEditorClass(schema, this.jsoneditor)\n\n    var editor = this.jsoneditor.createEditor(editorClass, {\n      jsoneditor: this.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: this.path,\n      parent: this,\n      required: true\n    }\n    )\n\n    this.editors.push(editor)\n\n    editor.preBuild()\n    editor.build()\n    editor.postBuild()\n  },\n  preBuild: function () {\n    this.refs = {}\n    this.editors = []\n    this.currentEditor = ''\n    var i\n    for (i = 0; i < this.schema.links.length; i++) {\n      if (this.schema.links[i].rel.toLowerCase() === 'describedby') {\n        // this.template = new UriTemplate(this.schema.links[i].href);\n        this.template = this.jsoneditor.compileTemplate(this.schema.links[i].href, this.template_engine)\n        break\n      }\n    }\n\n    /* this.template.fill(function(varName) {\n      self.schema.watch = self.schema.watch || {};\n      self.schema.watch[varName] = varName;\n      return '';\n    }); */\n\n    this.schema.links = this.schema.links.slice(0, i).concat(this.schema.links.slice(i + 1))\n    if (this.schema.links.length === 0) delete this.schema.links\n    this.baseSchema = $extend({}, this.schema)\n  },\n  build: function () {\n    this.editor_holder = document.createElement('div')\n    this.container.appendChild(this.editor_holder)\n    this.switchEditor()\n  },\n  onWatchedFieldChange: function () {\n    this.switchEditor()\n  },\n  onChildEditorChange: function (editor) {\n    if (this.editors[this.currentEditor]) {\n      this.refreshValue()\n    }\n\n    this._super(editor)\n  },\n  refreshValue: function () {\n    if (this.editors[this.currentEditor]) {\n      this.value = this.editors[this.currentEditor].getValue()\n    }\n  },\n  setValue: function (val, initial) {\n    if (this.editors[this.currentEditor]) {\n      this.editors[this.currentEditor].setValue(val, initial)\n      this.refreshValue()\n      this.onChange()\n    }\n  },\n  destroy: function () {\n    $each(this.editors, function (i, editor) {\n      if (editor) editor.destroy()\n    })\n\n    if (this.editor_holder && this.editor_holder.parentNode) {\n      this.editor_holder.parentNode.removeChild(this.editor_holder)\n    }\n\n    this._super()\n  },\n  showValidationErrors: function (errors) {\n    $each(this.editors, function (i, editor) {\n      if (!editor) return\n      editor.showValidationErrors(errors)\n    })\n  }\n})\n","// Enum Editor (used for objects and arrays with enumerated values)\nimport { AbstractEditor } from '../editor'\nimport { $each } from '../utilities'\n\nexport var EnumEditor = AbstractEditor.extend({\n  getNumColumns: function () {\n    return 4\n  },\n  build: function () {\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    this.container.appendChild(this.title)\n\n    this.options.enum_titles = this.options.enum_titles || []\n\n    this['enum'] = this.schema['enum']\n    this.selected = 0\n    this.select_options = []\n    this.html_values = []\n\n    var self = this\n    for (var i = 0; i < this['enum'].length; i++) {\n      this.select_options[i] = this.options.enum_titles[i] || 'Value ' + (i + 1)\n      this.html_values[i] = this.getHTML(this['enum'][i])\n    }\n\n    // Switcher\n    this.switcher = this.theme.getSwitcher(this.select_options)\n    this.container.appendChild(this.switcher)\n\n    // Display area\n    this.display_area = this.theme.getIndentedPanel()\n    this.container.appendChild(this.display_area)\n\n    if (this.options.hide_display) this.display_area.style.display = 'none'\n\n    this.switcher.addEventListener('change', function () {\n      self.selected = self.select_options.indexOf(this.value)\n      self.value = self['enum'][self.selected]\n      self.refreshValue()\n      self.onChange(true)\n    })\n    this.value = this['enum'][0]\n    this.refreshValue()\n\n    if (this['enum'].length === 1) this.switcher.style.display = 'none'\n  },\n  refreshValue: function () {\n    var self = this\n    self.selected = -1\n    var stringified = JSON.stringify(this.value)\n    $each(this['enum'], function (i, el) {\n      if (stringified === JSON.stringify(el)) {\n        self.selected = i\n        return false\n      }\n    })\n\n    if (self.selected < 0) {\n      self.setValue(self['enum'][0])\n      return\n    }\n\n    this.switcher.value = this.select_options[this.selected]\n    this.display_area.innerHTML = this.html_values[this.selected]\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.switcher.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    this.switcher.disabled = true\n    this._super()\n  },\n  getHTML: function (el) {\n    var self = this\n\n    if (el === null) {\n      return '<em>null</em>'\n    // Array or Object\n    } else if (typeof el === 'object') {\n      // TODO: use theme\n      var ret = ''\n\n      $each(el, function (i, child) {\n        var html = self.getHTML(child)\n\n        // Add the keys to object children\n        if (!(Array.isArray(el))) {\n          // TODO: use theme\n          html = '<div><em>' + i + '</em>: ' + html + '</div>'\n        }\n\n        // TODO: use theme\n        ret += '<li>' + html + '</li>'\n      })\n\n      if (Array.isArray(el)) ret = '<ol>' + ret + '</ol>'\n      else ret = \"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>\" + ret + '</ul>'\n\n      return ret\n    // Boolean\n    } else if (typeof el === 'boolean') {\n      return el ? 'true' : 'false'\n    // String\n    } else if (typeof el === 'string') {\n      return el.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;')\n    // Number\n    } else {\n      return el\n    }\n  },\n  setValue: function (val) {\n    if (this.value !== val) {\n      this.value = val\n      this.refreshValue()\n      this.onChange()\n    }\n  },\n  destroy: function () {\n    if (this.display_area && this.display_area.parentNode) this.display_area.parentNode.removeChild(this.display_area)\n    if (this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title)\n    if (this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher)\n\n    this._super()\n  }\n})\n","/**\n * Created by Mehmet Baker on 12.04.2017\n */\nimport { AbstractEditor } from '../editor'\n\nexport var HiddenEditor = AbstractEditor.extend({\n\n  register: function () {\n    this._super()\n    if (!this.input) return\n    this.input.setAttribute('name', this.formname)\n  },\n  unregister: function () {\n    this._super()\n    if (!this.input) return\n    this.input.removeAttribute('name')\n  },\n  setValue: function (value, initial, fromTemplate) {\n    if (this.template && !fromTemplate) {\n      return\n    }\n\n    if (value === null || typeof value === 'undefined') value = ''\n    else if (typeof value === 'object') value = JSON.stringify(value)\n    else if (typeof value !== 'string') value = '' + value\n\n    if (value === this.serialized) return\n\n    // Sanitize value before setting it\n    var sanitized = this.sanitize(value)\n\n    if (this.input.value === sanitized) {\n      return\n    }\n\n    this.input.value = sanitized\n\n    var changed = fromTemplate || this.getValue() !== value\n\n    this.refreshValue()\n\n    if (initial) this.is_dirty = false\n    else if (this.jsoneditor.options.show_errors === 'change') this.is_dirty = true\n\n    if (this.adjust_height) this.adjust_height(this.input)\n\n    // Bubble this setValue to parents if the value changed\n    this.onChange(changed)\n  },\n  getNumColumns: function () {\n    return 2\n  },\n  enable: function () {\n    this._super()\n  },\n  disable: function () {\n    this._super()\n  },\n  refreshValue: function () {\n    this.value = this.input.value\n    if (typeof this.value !== 'string') this.value = ''\n    this.serialized = this.value\n  },\n  destroy: function () {\n    this.template = null\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n\n    this._super()\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var vars\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues()\n      this.setValue(this.template(vars), false, true)\n    }\n\n    this._super()\n  },\n  build: function () {\n    this.format = this.schema.format\n    if (!this.format && this.options.default_format) {\n      this.format = this.options.default_format\n    }\n    if (this.options.format) {\n      this.format = this.options.format\n    }\n\n    this.input_type = 'hidden'\n    this.input = this.theme.getFormInputField(this.input_type)\n\n    if (this.format) this.input.setAttribute('data-schemaformat', this.format)\n\n    this.container.appendChild(this.input)\n\n    // Compile and store the template\n    if (this.schema.template) {\n      var callback = this.expandCallbacks('template', { template: this.schema.template })\n      if (typeof callback.template === 'function') this.template = callback.template\n      else this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine)\n      this.refreshValue()\n    } else {\n      this.refreshValue()\n    }\n  }\n})\n","// Non-Active editor for displaying text blocks in form\nimport { ButtonEditor } from './button'\n\nexport var InfoEditor = ButtonEditor.extend({\n\n  build: function () {\n    this.options.compact = false\n    this.header = this.label = this.theme.getFormInputLabel(this.getTitle())\n    this.description = this.theme.getDescription(this.schema.description || '')\n    this.control = this.theme.getFormControl(this.label, this.description, null)\n    this.container.appendChild(this.control)\n  },\n  getTitle: function () {\n    return this.schema.title\n  },\n  getNumColumns: function () {\n    return 12\n  }\n})\n","import { NumberEditor } from './number'\n\nexport var IntegerEditor = NumberEditor.extend({\n\n  sanitize: function (value) {\n    value = value + ''\n    // eslint-disable-next-line no-useless-escape\n    return value.replace(/[^0-9\\-]/g, '')\n  },\n  getNumColumns: function () {\n    return 2\n  }\n})\n","import { StringEditor } from './string'\nimport { $extend } from '../utilities'\n\nexport var IpEditor = StringEditor.extend({\n\n  preBuild: function () {\n    this._super()\n\n    // Create schema options object if deesn't exist\n    if (!this.schema.options) {\n      this.schema.options = {}\n    }\n\n    // Create cleave options if they don't exist\n    if (!this.schema.options.cleave) {\n      switch (this.format) {\n        case 'ipv6':\n          this.schema.options.cleave = {\n            delimiters: [':'],\n            blocks: [4, 4, 4, 4, 4, 4, 4, 4],\n            uppercase: true\n          }\n          break\n        case 'ipv4':\n          this.schema.options.cleave = {\n            delimiters: ['.'],\n            blocks: [3, 3, 3, 3],\n            numericOnly: true\n          }\n          break\n      }\n    }\n\n    // Update options object\n    this.options = $extend(this.options, this.schema.options || {})\n  }\n})\n","import { StringEditor } from './string'\nimport { $extend } from '../utilities'\nexport var JoditEditor = StringEditor.extend({\n\n  setValue: function (value, initial, fromTemplate) {\n    var res = this._super(value, initial, fromTemplate)\n    if (res !== undefined && res.changed && this.jodit_instance) this.jodit_instance.setEditorValue(res.value)\n  },\n  build: function () {\n    this.options.format = 'textarea' // Force format into \"textarea\"\n    this._super()\n    this.input_type = this.schema.format // Restore original format\n    this.input.setAttribute('data-schemaformat', this.input_type)\n  },\n  afterInputReady: function () {\n    var self = this; var options\n\n    if (window.Jodit) {\n      // Get options, either global options from \"this.defaults.options.jodit\" or\n      // single property options from schema \"options.jodit\"\n      options = this.expandCallbacks('jodit', $extend({}, {\n        height: 300\n      }, this.defaults.options.jodit || {}, this.options.jodit || {}))\n\n      this.jodit_instance = new window.Jodit(this.input, options)\n\n      if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n        this.jodit_instance.setReadOnly(true)\n      }\n\n      this.jodit_instance.events.on('change', function () {\n        self.value = self.jodit_instance.getEditorValue()\n        self.is_dirty = true\n        self.onChange(true)\n      })\n\n      this.theme.afterInputReady(self.input)\n    } else this._super() // Library not loaded, so just treat this as a string\n  },\n  getNumColumns: function () {\n    return 6\n  },\n  enable: function () {\n    if (!this.always_disabled && this.jodit_instance) this.jodit_instance.setReadOnly(false)\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.jodit_instance) this.jodit_instance.setReadOnly(true)\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.jodit_instance) {\n      this.jodit_instance.destruct()\n      this.jodit_instance = null\n    }\n    this._super()\n  }\n})\n","// Multiple Editor (for when `type` is an array, also when `oneOf` is present)\nimport { AbstractEditor } from '../editor'\nimport { Validator } from '../validator'\nimport { $extend, $each } from '../utilities'\nexport var MultipleEditor = AbstractEditor.extend({\n\n  register: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].unregister()\n      }\n      if (this.editors[this.type]) this.editors[this.type].register()\n    }\n    this._super()\n  },\n  unregister: function () {\n    this._super()\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].unregister()\n      }\n    }\n  },\n  getNumColumns: function () {\n    if (!this.editors[this.type]) return 4\n    return Math.max(this.editors[this.type].getNumColumns(), 4)\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.editors) {\n        for (var i = 0; i < this.editors.length; i++) {\n          if (!this.editors[i]) continue\n          this.editors[i].enable()\n        }\n      }\n      this.switcher.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue\n        this.editors[i].disable(alwaysDisabled)\n      }\n    }\n    this.switcher.disabled = true\n    this._super()\n  },\n  switchEditor: function (i) {\n    var self = this\n\n    if (!this.editors[i]) {\n      this.buildChildEditor(i)\n    }\n\n    var currentValue = self.getValue()\n\n    self.type = i\n\n    self.register()\n\n    $each(self.editors, function (type, editor) {\n      if (!editor) return\n      if (self.type === type) {\n        if (self.keep_values) editor.setValue(currentValue, true)\n        editor.container.style.display = ''\n      } else editor.container.style.display = 'none'\n    })\n    self.refreshValue()\n    self.refreshHeaderText()\n  },\n  buildChildEditor: function (i) {\n    var self = this\n    var type = this.types[i]\n    var holder = self.theme.getChildEditorHolder()\n    self.editor_holder.appendChild(holder)\n\n    var schema\n\n    if (typeof type === 'string') {\n      schema = $extend({}, self.schema)\n      schema.type = type\n    } else {\n      schema = $extend({}, self.schema, type)\n      schema = self.jsoneditor.expandRefs(schema)\n\n      // If we need to merge `required` arrays\n      if (type && type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n        schema.required = self.schema.required.concat(type.required)\n      }\n    }\n\n    var editor = self.jsoneditor.getEditorClass(schema)\n\n    self.editors[i] = self.jsoneditor.createEditor(editor, {\n      jsoneditor: self.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: self.path,\n      parent: self,\n      required: true\n    })\n    self.editors[i].preBuild()\n    self.editors[i].build()\n    self.editors[i].postBuild()\n\n    if (self.editors[i].header) self.editors[i].header.style.display = 'none'\n\n    self.editors[i].option = self.switcher_options[i]\n\n    holder.addEventListener('change_header_text', function () {\n      self.refreshHeaderText()\n    })\n\n    if (i !== self.type) holder.style.display = 'none'\n  },\n  preBuild: function () {\n    this.types = []\n    this.type = 0\n    this.editors = []\n    this.validators = []\n\n    this.keep_values = true\n    if (typeof this.jsoneditor.options.keep_oneof_values !== 'undefined') this.keep_values = this.jsoneditor.options.keep_oneof_values\n    if (typeof this.options.keep_oneof_values !== 'undefined') this.keep_values = this.options.keep_oneof_values\n\n    if (this.schema.oneOf) {\n      this.oneOf = true\n      this.types = this.schema.oneOf\n      delete this.schema.oneOf\n    } else if (this.schema.anyOf) {\n      this.anyOf = true\n      this.types = this.schema.anyOf\n      delete this.schema.anyOf\n    } else {\n      if (!this.schema.type || this.schema.type === 'any') {\n        this.types = ['string', 'number', 'integer', 'boolean', 'object', 'array', 'null']\n\n        // If any of these primitive types are disallowed\n        if (this.schema.disallow) {\n          var disallow = this.schema.disallow\n          if (typeof disallow !== 'object' || !(Array.isArray(disallow))) {\n            disallow = [disallow]\n          }\n          var allowedTypes = []\n          $each(this.types, function (i, type) {\n            if (disallow.indexOf(type) === -1) allowedTypes.push(type)\n          })\n          this.types = allowedTypes\n        }\n      } else if (Array.isArray(this.schema.type)) {\n        this.types = this.schema.type\n      } else {\n        this.types = [this.schema.type]\n      }\n      delete this.schema.type\n    }\n\n    this.display_text = this.getDisplayText(this.types)\n  },\n  build: function () {\n    var self = this\n    var container = this.container\n\n    this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    this.container.appendChild(this.header)\n\n    this.switcher = this.theme.getSwitcher(this.display_text)\n    container.appendChild(this.switcher)\n    this.switcher.addEventListener('change', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      self.switchEditor(self.display_text.indexOf(this.value))\n      self.onChange(true)\n    })\n\n    this.editor_holder = document.createElement('div')\n    container.appendChild(this.editor_holder)\n\n    var validatorOptions = {}\n    if (self.jsoneditor.options.custom_validators) {\n      validatorOptions.custom_validators = self.jsoneditor.options.custom_validators\n    }\n\n    this.switcher_options = this.theme.getSwitcherOptions(this.switcher)\n    $each(this.types, function (i, type) {\n      self.editors[i] = false\n\n      var schema\n\n      if (typeof type === 'string') {\n        schema = $extend({}, self.schema)\n        schema.type = type\n      } else {\n        schema = $extend({}, self.schema, type)\n\n        // If we need to merge `required` arrays\n        if (type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n          schema.required = self.schema.required.concat(type.required)\n        }\n      }\n\n      self.validators[i] = new Validator(self.jsoneditor, schema, validatorOptions, self.defaults)\n    })\n\n    this.switchEditor(0)\n  },\n  onChildEditorChange: function (editor) {\n    if (this.editors[this.type]) {\n      this.refreshValue()\n      this.refreshHeaderText()\n    }\n\n    this._super()\n  },\n  refreshHeaderText: function () {\n    var displayText = this.getDisplayText(this.types)\n    $each(this.switcher_options, function (i, option) {\n      option.textContent = displayText[i]\n    })\n  },\n  refreshValue: function () {\n    this.value = this.editors[this.type].getValue()\n  },\n  setValue: function (val, initial) {\n    // Determine type by getting the first one that validates\n    var self = this\n    var prevType = this.type\n    // find the best match one\n    var fitTestVal = {\n      match: 0,\n      extra: 0,\n      i: this.type\n    }\n    var validVal = {\n      match: 0,\n      i: null\n    }\n    $each(this.validators, function (i, validator) {\n      var fitTestResult = null\n      if (typeof self.anyOf !== 'undefined' && self.anyOf) {\n        fitTestResult = validator.fitTest(val)\n        if (fitTestVal.match < fitTestResult.match) {\n          fitTestVal = fitTestResult\n          fitTestVal.i = i\n        } else if (fitTestVal.match === fitTestResult.match) {\n          if (fitTestVal.extra > fitTestResult.extra) {\n            fitTestVal = fitTestResult\n            fitTestVal.i = i\n          }\n        }\n      }\n      if (!validator.validate(val).length && validVal.i === null) {\n        validVal.i = i\n        if (fitTestResult !== null) {\n          validVal.match = fitTestResult.match\n        }\n      }\n    })\n    var finalI = validVal.i\n    // if the best fit schema has more match properties, then use the best fit schema.\n    // usually the value could be\n    if (typeof self.anyOf !== 'undefined' && self.anyOf) {\n      if (validVal.match < fitTestVal.match) {\n        finalI = fitTestVal.i\n      }\n    }\n    if (finalI === null) {\n      finalI = this.type\n    }\n    this.type = finalI\n    this.switcher.value = this.display_text[finalI]\n\n    var typeChanged = this.type !== prevType\n    if (typeChanged) {\n      this.switchEditor(this.type)\n    }\n\n    this.editors[this.type].setValue(val, initial)\n\n    this.refreshValue()\n    self.onChange(typeChanged)\n  },\n  destroy: function () {\n    $each(this.editors, function (type, editor) {\n      if (editor) editor.destroy()\n    })\n    if (this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder)\n    if (this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher)\n    this._super()\n  },\n  showValidationErrors: function (errors) {\n    var self = this\n\n    // oneOf and anyOf error paths need to remove the oneOf[i] part before passing to child editors\n    if (this.oneOf || this.anyOf) {\n      var checkPart = this.oneOf ? 'oneOf' : 'anyOf'\n      $each(this.editors, function (i, editor) {\n        if (!editor) return\n        var check = self.path + '.' + checkPart + '[' + i + ']'\n        var newErrors = []\n        $each(errors, function (j, error) {\n          if (error.path === check.substr(0, error.path.length)) {\n            var newError = $extend({}, error)\n            newError.path = self.path + newError.path.substr(check.length)\n            newErrors.push(newError)\n          }\n        })\n\n        editor.showValidationErrors(newErrors)\n      })\n    } else {\n      $each(this.editors, function (type, editor) {\n        if (!editor) return\n        editor.showValidationErrors(errors)\n      })\n    }\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $each } from '../utilities'\n\nexport var MultiSelectEditor = AbstractEditor.extend({\n  onInputChange: function () {\n    this.value = this.input.value\n    this.onChange(true)\n  },\n  register: function () {\n    this._super()\n    if (!this.input) return\n    this.input.setAttribute('name', this.formname)\n  },\n  unregister: function () {\n    this._super()\n    if (!this.input) return\n    this.input.removeAttribute('name')\n  },\n  getNumColumns: function () {\n    var longestText = this.getTitle().length\n    for (var i in this.select_values) {\n      if (!this.select_values.hasOwnProperty(i)) continue\n      longestText = Math.max(longestText, (this.select_values[i] + '').length + 4)\n    }\n\n    return Math.min(12, Math.max(longestText / 7, 2))\n  },\n  preBuild: function () {\n    this._super()\n\n    this.select_options = {}\n    this.select_values = {}\n    this.option_keys = []\n    this.option_titles = []\n\n    var i\n    var itemsSchema = this.jsoneditor.expandRefs(this.schema.items || {})\n    var e = itemsSchema['enum'] || []\n    var t = itemsSchema.options ? itemsSchema.options.enum_titles || [] : []\n\n    for (i = 0; i < e.length; i++) {\n      // If the sanitized value is different from the enum value, don't include it\n      if (this.sanitize(e[i]) !== e[i]) continue\n\n      this.option_keys.push(e[i] + '')\n      this.option_titles.push((t[i] || e[i]) + '')\n      this.select_values[e[i] + ''] = e[i]\n    }\n  },\n  build: function () {\n    var self = this; var i\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n    if (this.options.compact) this.container.classList.add('compact')\n\n    if ((!this.schema.format && this.option_keys.length < 8) || this.schema.format === 'checkbox') {\n      this.input_type = 'checkboxes'\n\n      this.inputs = {}\n      this.controls = {}\n      for (i = 0; i < this.option_keys.length; i++) {\n        this.inputs[this.option_keys[i]] = this.theme.getCheckbox()\n        this.select_options[this.option_keys[i]] = this.inputs[this.option_keys[i]]\n        var label = this.theme.getCheckboxLabel(this.option_titles[i])\n        this.controls[this.option_keys[i]] = this.theme.getFormControl(label, this.inputs[this.option_keys[i]])\n      }\n\n      this.control = this.theme.getMultiCheckboxHolder(this.controls, this.label, this.description, this.infoButton)\n      this.inputs.controlgroup = this.inputs.controls = this.control // Enable error messages for checkboxes\n    } else {\n      this.input_type = 'select'\n      this.input = this.theme.getSelectInput(this.option_keys, true)\n      this.theme.setSelectOptions(this.input, this.option_keys, this.option_titles)\n      // this.input.multiple = true;\n      this.input.setAttribute('multiple', 'multiple')\n      this.input.size = Math.min(10, this.option_keys.length)\n      for (i = 0; i < this.option_keys.length; i++) {\n        this.select_options[this.option_keys[i]] = this.input.children[i]\n      }\n\n      this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton)\n    }\n\n    if (this.schema.readOnly || this.schema.readonly) this.disable(true)\n\n    this.container.appendChild(this.control)\n\n    this.multiselectChangeHandler = function (e) {\n      var newValue = []\n      for (i = 0; i < self.option_keys.length; i++) {\n        if (self.select_options[self.option_keys[i]] && (self.select_options[self.option_keys[i]].selected || self.select_options[self.option_keys[i]].checked)) newValue.push(self.select_values[self.option_keys[i]])\n      }\n      self.updateValue(newValue)\n      self.onChange(true)\n    }\n\n    this.control.addEventListener('change', this.multiselectChangeHandler, false)\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      self.afterInputReady()\n    })\n  },\n  postBuild: function () {\n    this._super()\n    // this.theme.afterInputReady(this.input || this.inputs);\n  },\n  afterInputReady: function () {\n    var self = this\n    this.theme.afterInputReady(self.input || self.inputs)\n  },\n  setValue: function (value, initial) {\n    var i\n    value = value || []\n    if (!(Array.isArray(value))) value = [value]\n\n    // Make sure we are dealing with an array of strings so we can check for strict equality\n    value = value.map(function (e) { return e + '' })\n\n    // Update selected status of options\n    for (i in this.select_options) {\n      if (!this.select_options.hasOwnProperty(i)) continue\n      this.select_options[i][this.input_type === 'select' ? 'selected' : 'checked'] = (value.indexOf(i) !== -1)\n    }\n\n    this.updateValue(value)\n    this.onChange(true)\n  },\n  removeValue: function (value) {\n    // Remove from existing value(s)\n    value = [].concat(value)\n    this.setValue(this.getValue().filter(function (item) { return value.indexOf(item) === -1 }))\n  },\n  addValue: function (value) {\n    // Add to existing value(s)\n    this.setValue(this.getValue().concat(value))\n  },\n  updateValue: function (value) {\n    var changed = false\n    var newValue = []\n    for (var i = 0; i < value.length; i++) {\n      if (!this.select_options[value[i] + '']) {\n        changed = true\n        continue\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]])\n      newValue.push(sanitized)\n      if (sanitized !== value[i]) changed = true\n    }\n    this.value = newValue\n\n    return changed\n  },\n  sanitize: function (value) {\n    if (this.schema.items.type === 'boolean') return !!value\n    else if (this.schema.items.type === 'number') return 1 * value || 0\n    else if (this.schema.items.type === 'integer') return Math.floor(value * 1 || 0)\n    else return '' + value\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.input) {\n        this.input.disabled = false\n      } else if (this.inputs) {\n        for (var i in this.inputs) {\n          if (!this.inputs.hasOwnProperty(i)) continue\n          this.inputs[i].disabled = false\n        }\n      }\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    if (this.input) {\n      this.input.disabled = true\n    } else if (this.inputs) {\n      for (var i in this.inputs) {\n        if (!this.inputs.hasOwnProperty(i)) continue\n        this.inputs[i].disabled = true\n      }\n    }\n    this._super()\n  },\n  destroy: function () {\n    this._super()\n  },\n  escapeRegExp: function (string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n  },\n  showValidationErrors: function (errors) {\n    var regexPath = new RegExp('^' + this.escapeRegExp(this.path) + '(\\\\.\\\\d+)?$')\n    var messages = []\n\n    $each(errors, function (i, error) {\n      if (error.path.match(regexPath)) {\n        messages.push(error.message)\n      }\n    })\n\n    if (messages.length) {\n      this.theme.addInputError(this.input || this.inputs, messages.join('. ') + '.')\n    } else {\n      this.theme.removeInputError(this.input || this.inputs)\n    }\n  }\n})\n","import { AbstractEditor } from '../editor'\n\nexport var NullEditor = AbstractEditor.extend({\n\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    return null\n  },\n  setValue: function () {\n    this.onChange()\n  },\n  getNumColumns: function () {\n    return 2\n  }\n})\n","import { StringEditor } from './string'\n\nexport var NumberEditor = StringEditor.extend({\n\n  build: function () {\n    this._super()\n\n    if (typeof this.schema.minimum !== 'undefined') {\n      var minimum = this.schema.minimum\n\n      if (typeof this.schema.exclusiveMinimum !== 'undefined') {\n        minimum += 1\n      }\n\n      this.input.setAttribute('min', minimum)\n    }\n\n    if (typeof this.schema.maximum !== 'undefined') {\n      var maximum = this.schema.maximum\n\n      if (typeof this.schema.exclusiveMaximum !== 'undefined') {\n        maximum -= 1\n      }\n\n      this.input.setAttribute('max', maximum)\n    }\n\n    if (typeof this.schema.step !== 'undefined') {\n      var step = this.schema.step || 1\n      this.input.setAttribute('step', step)\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes(['maxlength', 'pattern', 'readonly', 'min', 'max', 'step'])\n  },\n  sanitize: function (value) {\n    // eslint says the first escape is useless but removing it breaks e2e tests\n    // eslint-disable-next-line no-useless-escape\n    return (value + '').replace(/[^0-9\\.\\-eE]/g, '')\n  },\n  getNumColumns: function () {\n    return 2\n  },\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    return this.value === '' ? undefined : this.value * 1\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $extend, $each, $trigger } from '../utilities'\nexport var ObjectEditor = AbstractEditor.extend({\n\n  getDefault: function () {\n    return $extend({}, this.schema['default'] || {})\n  },\n  getChildEditors: function () {\n    return this.editors\n  },\n  register: function () {\n    this._super()\n    if (this.editors) {\n      for (var i in this.editors) {\n        if (!this.editors.hasOwnProperty(i)) continue\n        this.editors[i].register()\n      }\n    }\n  },\n  unregister: function () {\n    this._super()\n    if (this.editors) {\n      for (var i in this.editors) {\n        if (!this.editors.hasOwnProperty(i)) continue\n        this.editors[i].unregister()\n      }\n    }\n  },\n  getNumColumns: function () {\n    return Math.max(Math.min(12, this.maxwidth), 3)\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.editjson_control) this.editjson_control.disabled = false\n      if (this.addproperty_button) this.addproperty_button.disabled = false\n\n      this._super()\n      if (this.editors) {\n        for (var i in this.editors) {\n          if (!this.editors.hasOwnProperty(i)) continue\n          if (this.editors[i].isActive()) {\n            this.editors[i].enable()\n          }\n          this.editors[i].optInCheckbox.disabled = false\n        }\n      }\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    if (this.editjson_control) this.editjson_control.disabled = true\n    if (this.addproperty_button) this.addproperty_button.disabled = true\n    this.hideEditJSON()\n\n    this._super()\n    if (this.editors) {\n      for (var i in this.editors) {\n        if (!this.editors.hasOwnProperty(i)) continue\n        if (this.editors[i].isActive()) {\n          this.editors[i].disable(alwaysDisabled)\n        }\n        this.editors[i].optInCheckbox.disabled = true\n      }\n    }\n  },\n  layoutEditors: function () {\n    var self = this; var i; var j\n\n    if (!this.row_container) return\n\n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors)\n    this.property_order = this.property_order.sort(function (a, b) {\n      var ordera = self.editors[a].schema.propertyOrder\n      var orderb = self.editors[b].schema.propertyOrder\n      if (typeof ordera !== 'number') ordera = 1000\n      if (typeof orderb !== 'number') orderb = 1000\n\n      return ordera - orderb\n    })\n\n    var container\n    var isCategoriesFormat = (this.format === 'categories')\n    var rows = []\n    var key = null\n    var editor = null\n    var row\n\n    if (this.format === 'grid-strict') {\n      var rowIndex = 0\n      row = []\n\n      $each(this.property_order, function (j, key) {\n        var editor = self.editors[key]\n        if (editor.property_removed) {\n          return\n        }\n        var width = editor.options.hidden ? 0 : (editor.options.grid_columns || editor.getNumColumns())\n        var offset = editor.options.hidden ? 0 : (editor.options.grid_offset || 0)\n        var gridBreak = editor.options.hidden ? false : (editor.options.grid_break || false)\n        var height = editor.options.hidden ? 0 : editor.container.offsetHeight\n\n        var column = {\n          key: key,\n          width: width,\n          offset: offset,\n          height: height\n        }\n\n        row.push(column)\n\n        rows[rowIndex] = row\n\n        if (gridBreak) {\n          rowIndex++\n          row = []\n        }\n      })\n\n      // layout hasn't changed\n      if (this.layout === JSON.stringify(rows)) return false\n      this.layout = JSON.stringify(rows)\n\n      // Layout the form\n      container = document.createElement('div')\n      for (i = 0; i < rows.length; i++) {\n        row = this.theme.getGridRow()\n        container.appendChild(row)\n        for (j = 0; j < rows[i].length; j++) {\n          key = rows[i][j].key\n          editor = this.editors[key]\n          if (editor.options.hidden) {\n            editor.container.style.display = 'none'\n          } else {\n            this.theme.setGridColumnSize(editor.container, rows[i][j].width, rows[i][j].offset)\n          }\n          row.appendChild(editor.container)\n        }\n      }\n    } else if (this.format === 'grid') {\n      $each(this.property_order, function (j, key) {\n        var editor = self.editors[key]\n        if (editor.property_removed) return\n        var found = false\n        var width = editor.options.hidden ? 0 : (editor.options.grid_columns || editor.getNumColumns())\n        var height = editor.options.hidden ? 0 : editor.container.offsetHeight\n        // See if the editor will fit in any of the existing rows first\n        for (var i = 0; i < rows.length; i++) {\n          // If the editor will fit in the row horizontally\n          if (rows[i].width + width <= 12) {\n            // If the editor is close to the other elements in height\n            // i.e. Don't put a really tall editor in an otherwise short row or vice versa\n            if (!height || (rows[i].minh * 0.5 < height && rows[i].maxh * 2 > height)) {\n              found = i\n            }\n          }\n        }\n\n        // If there isn't a spot in any of the existing rows, start a new row\n        if (found === false) {\n          rows.push({\n            width: 0,\n            minh: 999999,\n            maxh: 0,\n            editors: []\n          })\n          found = rows.length - 1\n        }\n\n        rows[found].editors.push({\n          key: key,\n          // editor: editor,\n          width: width,\n          height: height\n        })\n        rows[found].width += width\n        rows[found].minh = Math.min(rows[found].minh, height)\n        rows[found].maxh = Math.max(rows[found].maxh, height)\n      })\n\n      // Make almost full rows width 12\n      // Do this by increasing all editors' sizes proprotionately\n      // Any left over space goes to the biggest editor\n      // Don't touch rows with a width of 6 or less\n      for (i = 0; i < rows.length; i++) {\n        if (rows[i].width < 12) {\n          var biggest = false\n          var newWidth = 0\n          for (j = 0; j < rows[i].editors.length; j++) {\n            if (biggest === false) biggest = j\n            else if (rows[i].editors[j].width > rows[i].editors[biggest].width) biggest = j\n            rows[i].editors[j].width *= 12 / rows[i].width\n            rows[i].editors[j].width = Math.floor(rows[i].editors[j].width)\n            newWidth += rows[i].editors[j].width\n          }\n          if (newWidth < 12) rows[i].editors[biggest].width += 12 - newWidth\n          rows[i].width = 12\n        }\n      }\n\n      // layout hasn't changed\n      if (this.layout === JSON.stringify(rows)) return false\n      this.layout = JSON.stringify(rows)\n\n      // Layout the form\n      container = document.createElement('div')\n      for (i = 0; i < rows.length; i++) {\n        row = this.theme.getGridRow()\n        container.appendChild(row)\n        for (j = 0; j < rows[i].editors.length; j++) {\n          key = rows[i].editors[j].key\n          editor = this.editors[key]\n\n          if (editor.options.hidden) editor.container.style.display = 'none'\n          else this.theme.setGridColumnSize(editor.container, rows[i].editors[j].width)\n          row.appendChild(editor.container)\n        }\n      }\n    // Normal layout\n    } else {\n      container = document.createElement('div')\n\n      if (isCategoriesFormat) {\n        // A container for properties not object nor arrays\n        var containerSimple = document.createElement('div')\n        // This will be the place to (re)build tabs and panes\n        // tabs_holder has 2 childs, [0]: ul.nav.nav-tabs and [1]: div.tab-content\n        var newTabsHolder = this.theme.getTopTabHolder(this.schema.title)\n        // child [1] of previous, stores panes\n        var newTabPanesContainer = this.theme.getTopTabContentHolder(newTabsHolder)\n\n        $each(this.property_order, function (i, key) {\n          var editor = self.editors[key]\n          if (editor.property_removed) return\n          var aPane = self.theme.getTabContent()\n          var isObjOrArray = editor.schema && (editor.schema.type === 'object' || editor.schema.type === 'array')\n          // mark the pane\n          aPane.isObjOrArray = isObjOrArray\n          var gridRow = self.theme.getGridRow()\n\n          // this happens with added properties, they don't have a tab\n          if (!editor.tab) {\n            // Pass the pane which holds the editor\n            if (typeof self.basicPane === 'undefined') {\n              // There is no basicPane yet, so aPane will be it\n              self.addRow(editor, newTabsHolder, aPane)\n            } else {\n              self.addRow(editor, newTabsHolder, self.basicPane)\n            }\n          }\n\n          aPane.id = self.getValidId(editor.tab_text.textContent)\n\n          // For simple properties, add them on the same panel (Basic)\n          if (!isObjOrArray) {\n            containerSimple.appendChild(gridRow)\n            // There are already some panes\n            if (newTabPanesContainer.childElementCount > 0) {\n              // If first pane is object or array, insert before a simple pane\n              if (newTabPanesContainer.firstChild.isObjOrArray) {\n                // Append pane for simple properties\n                aPane.appendChild(containerSimple)\n                newTabPanesContainer.insertBefore(aPane, newTabPanesContainer.firstChild)\n                // Add \"Basic\" tab\n                self.theme.insertBasicTopTab(editor.tab, newTabsHolder)\n                // newTabs_holder.firstChild.insertBefore(editor.tab,newTabs_holder.firstChild.firstChild);\n                // Update the basicPane\n                editor.basicPane = aPane\n              } else {\n                // We already have a first \"Basic\" pane, just add the new property to it, so\n                // do nothing;\n              }\n            // There is no pane, so add the first (simple) pane\n            } else {\n              // Append pane for simple properties\n              aPane.appendChild(containerSimple)\n              newTabPanesContainer.appendChild(aPane)\n              // Add \"Basic\" tab\n              // newTabs_holder.firstChild.appendChild(editor.tab);\n              self.theme.addTopTab(newTabsHolder, editor.tab)\n              // Update the basicPane\n              editor.basicPane = aPane\n            }\n          // Objects and arrays earn their own panes\n          } else {\n            aPane.appendChild(gridRow)\n            newTabPanesContainer.appendChild(aPane)\n            // newTabs_holder.firstChild.appendChild(editor.tab);\n            self.theme.addTopTab(newTabsHolder, editor.tab)\n          }\n\n          if (editor.options.hidden) editor.container.style.display = 'none'\n          else self.theme.setGridColumnSize(editor.container, 12)\n          // Now, add the property editor to the row\n          gridRow.appendChild(editor.container)\n          // Update the rowPane (same as self.rows[x].rowPane)\n          editor.rowPane = aPane\n        })\n\n        // Erase old panes\n        while (this.tabPanesContainer.firstChild) {\n          this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild)\n        }\n\n        // Erase old tabs and set the new ones\n        var parentTabsHolder = this.tabs_holder.parentNode\n        parentTabsHolder.removeChild(parentTabsHolder.firstChild)\n        parentTabsHolder.appendChild(newTabsHolder)\n\n        this.tabPanesContainer = newTabPanesContainer\n        this.tabs_holder = newTabsHolder\n\n        // Activate the first tab\n        var firstTab = this.theme.getFirstTab(this.tabs_holder)\n        if (firstTab) {\n          $trigger(firstTab, 'click')\n        }\n        return\n      // Normal layout\n      } else {\n        $each(this.property_order, function (i, key) {\n          var editor = self.editors[key]\n          if (editor.property_removed) return\n          row = self.theme.getGridRow()\n          container.appendChild(row)\n\n          if (editor.options.hidden) editor.container.style.display = 'none'\n          else self.theme.setGridColumnSize(editor.container, 12)\n          row.appendChild(editor.container)\n        })\n      }\n    }\n    // for grid and normal layout\n    while (this.row_container.firstChild) {\n      this.row_container.removeChild(this.row_container.firstChild)\n    }\n    this.row_container.appendChild(container)\n  },\n  getPropertySchema: function (key) {\n    // Schema declared directly in properties\n    var schema = this.schema.properties[key] || {}\n    schema = $extend({}, schema)\n    var matched = !!this.schema.properties[key]\n\n    // Any matching patternProperties should be merged in\n    if (this.schema.patternProperties) {\n      for (var i in this.schema.patternProperties) {\n        if (!this.schema.patternProperties.hasOwnProperty(i)) continue\n        var regex = new RegExp(i)\n        if (regex.test(key)) {\n          schema.allOf = schema.allOf || []\n          schema.allOf.push(this.schema.patternProperties[i])\n          matched = true\n        }\n      }\n    }\n\n    // Hasn't matched other rules, use additionalProperties schema\n    if (!matched && this.schema.additionalProperties && typeof this.schema.additionalProperties === 'object') {\n      schema = $extend({}, this.schema.additionalProperties)\n    }\n\n    return schema\n  },\n  preBuild: function () {\n    this._super()\n\n    this.editors = {}\n    this.cached_editors = {}\n    var self = this\n\n    this.format = this.options.layout || this.options.object_layout || this.schema.format || this.jsoneditor.options.object_layout || 'normal'\n\n    this.schema.properties = this.schema.properties || {}\n\n    this.minwidth = 0\n    this.maxwidth = 0\n\n    // If the object should be rendered as a table row\n    if (this.options.table_row) {\n      $each(this.schema.properties, function (key, schema) {\n        var editor = self.jsoneditor.getEditorClass(schema)\n        self.editors[key] = self.jsoneditor.createEditor(editor, {\n          jsoneditor: self.jsoneditor,\n          schema: schema,\n          path: self.path + '.' + key,\n          parent: self,\n          compact: true,\n          required: true\n        })\n        self.editors[key].preBuild()\n\n        var width = self.editors[key].options.hidden ? 0 : (self.editors[key].options.grid_columns || self.editors[key].getNumColumns())\n\n        self.minwidth += width\n        self.maxwidth += width\n      })\n      this.no_link_holder = true\n    // If the object should be rendered as a table\n    } else if (this.options.table) {\n      // TODO: table display format\n      throw new Error('Not supported yet')\n    // If the object should be rendered as a div\n    } else {\n      if (!this.schema.defaultProperties) {\n        if (this.jsoneditor.options.display_required_only || this.options.display_required_only) {\n          this.schema.defaultProperties = []\n          $each(this.schema.properties, function (k, s) {\n            if (self.isRequiredObject({ key: k, schema: s })) {\n              self.schema.defaultProperties.push(k)\n            }\n          })\n        } else {\n          self.schema.defaultProperties = Object.keys(self.schema.properties)\n        }\n      }\n\n      // Increase the grid width to account for padding\n      self.maxwidth += 1\n\n      $each(this.schema.defaultProperties, function (i, key) {\n        self.addObjectProperty(key, true)\n\n        if (self.editors[key]) {\n          self.minwidth = Math.max(self.minwidth, (self.editors[key].options.grid_columns || self.editors[key].getNumColumns()))\n          self.maxwidth += (self.editors[key].options.grid_columns || self.editors[key].getNumColumns())\n        }\n      })\n    }\n\n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors)\n    this.property_order = this.property_order.sort(function (a, b) {\n      var ordera = self.editors[a].schema.propertyOrder\n      var orderb = self.editors[b].schema.propertyOrder\n      if (typeof ordera !== 'number') ordera = 1000\n      if (typeof orderb !== 'number') orderb = 1000\n\n      return ordera - orderb\n    })\n  },\n  // \"Borrow\" from arrays code\n  addTab: function (idx) {\n    var self = this\n    var isObjOrArray = self.rows[idx].schema && (self.rows[idx].schema.type === 'object' || self.rows[idx].schema.type === 'array')\n    if (self.tabs_holder) {\n      self.rows[idx].tab_text = document.createElement('span')\n\n      if (!isObjOrArray) {\n        self.rows[idx].tab_text.textContent = (typeof self.schema.basicCategoryTitle === 'undefined') ? 'Basic' : self.schema.basicCategoryTitle\n      } else {\n        self.rows[idx].tab_text.textContent = self.rows[idx].getHeaderText()\n      }\n      self.rows[idx].tab = self.theme.getTopTab(self.rows[idx].tab_text, this.getValidId(self.rows[idx].tab_text.textContent))\n      self.rows[idx].tab.addEventListener('click', function (e) {\n        self.active_tab = self.rows[idx].tab\n        self.refreshTabs()\n        e.preventDefault()\n        e.stopPropagation()\n      })\n    }\n  },\n  addRow: function (editor, tabHolder, aPane) {\n    var self = this\n    var rowsLen = this.rows.length\n    var isObjOrArray = editor.schema.type === 'object' || editor.schema.type === 'array'\n\n    // Add a row\n    self.rows[rowsLen] = editor\n    // rowPane stores the editor corresponding pane to set the display style when refreshing Tabs\n    self.rows[rowsLen].rowPane = aPane\n\n    if (!isObjOrArray) {\n      // This is the first simple property to be added,\n      // add a (\"Basic\") tab for it and save it's row number\n      if (typeof self.basicTab === 'undefined') {\n        self.addTab(rowsLen)\n        // Store the index row of the first simple property added\n        self.basicTab = rowsLen\n        self.basicPane = aPane\n        self.theme.addTopTab(tabHolder, self.rows[rowsLen].tab)\n      } else {\n        // Any other simple property gets the same tab (and the same pane) as the first one,\n        // so, when 'click' event is fired from a row, it gets the correct (\"Basic\") tab\n        self.rows[rowsLen].tab = self.rows[self.basicTab].tab\n        self.rows[rowsLen].tab_text = self.rows[self.basicTab].tab_text\n        self.rows[rowsLen].rowPane = self.rows[self.basicTab].rowPane\n      }\n    } else {\n      self.addTab(rowsLen)\n      self.theme.addTopTab(tabHolder, self.rows[rowsLen].tab)\n    }\n  },\n  // Mark the active tab and make visible the corresponding pane, hide others\n  refreshTabs: function (refreshHeaders) {\n    var self = this\n    var basicTabPresent = typeof self.basicTab !== 'undefined'\n    var basicTabRefreshed = false\n\n    $each(this.rows, function (i, row) {\n      // If it's an orphan row (some property which has been deleted), return\n      if (!row.tab || !row.rowPane || !row.rowPane.parentNode) return\n\n      if (basicTabPresent && row.tab === self.rows[self.basicTab].tab && basicTabRefreshed) return\n\n      if (refreshHeaders) {\n        row.tab_text.textContent = row.getHeaderText()\n      } else {\n        // All rows of simple properties point to the same tab, so refresh just once\n        if (basicTabPresent && row.tab === self.rows[self.basicTab].tab) basicTabRefreshed = true\n\n        if (row.tab === self.active_tab) {\n          self.theme.markTabActive(row)\n        } else {\n          self.theme.markTabInactive(row)\n        }\n      }\n    })\n  },\n  build: function () {\n    var self = this\n\n    var isCategoriesFormat = (this.format === 'categories')\n    this.rows = []\n    this.active_tab = null\n\n    // If the object should be rendered as a table row\n    if (this.options.table_row) {\n      this.editor_holder = this.container\n      $each(this.editors, function (key, editor) {\n        var holder = self.theme.getTableCell()\n        self.editor_holder.appendChild(holder)\n\n        editor.setContainer(holder)\n        editor.build()\n        editor.postBuild()\n        editor.setOptInCheckbox(editor.header)\n\n        if (self.editors[key].options.hidden) {\n          holder.style.display = 'none'\n        }\n        if (self.editors[key].options.input_width) {\n          holder.style.width = self.editors[key].options.input_width\n        }\n      })\n    // If the object should be rendered as a table\n    } else if (this.options.table) {\n      // TODO: table display format\n      throw new Error('Not supported yet')\n    // If the object should be rendered as a div\n    } else {\n      this.header = ''\n      if (!this.options.compact) {\n        this.header = document.createElement('label')\n        this.header.textContent = this.getTitle()\n      }\n      this.title = this.theme.getHeader(this.header)\n      this.controls = this.theme.getButtonHolder()\n      this.controls.style.margin = '0 0 0 10px'\n\n      this.container.appendChild(this.title)\n      this.title.appendChild(this.controls)\n      this.container.style.position = 'relative'\n\n      // Edit JSON modal\n      this.editjson_holder = this.theme.getModal()\n      this.editjson_textarea = this.theme.getTextareaInput()\n      this.editjson_textarea.style.height = '170px'\n      this.editjson_textarea.style.width = '300px'\n      this.editjson_textarea.style.display = 'block'\n      this.editjson_save = this.getButton('Save', 'save', 'Save')\n      this.editjson_save.classList.add('json-editor-btntype-save')\n      this.editjson_save.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        self.saveJSON()\n      })\n      this.editjson_copy = this.getButton('Copy', 'copy', 'Copy')\n      this.editjson_copy.classList.add('json-editor-btntype-copy')\n      this.editjson_copy.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        self.copyJSON()\n      })\n      this.editjson_cancel = this.getButton('Cancel', 'cancel', 'Cancel')\n      this.editjson_cancel.classList.add('json-editor-btntype-cancel')\n      this.editjson_cancel.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        self.hideEditJSON()\n      })\n      this.editjson_holder.appendChild(this.editjson_textarea)\n      this.editjson_holder.appendChild(this.editjson_save)\n      this.editjson_holder.appendChild(this.editjson_copy)\n      this.editjson_holder.appendChild(this.editjson_cancel)\n\n      // Manage Properties modal\n      this.addproperty_holder = this.theme.getModal()\n      this.addproperty_list = document.createElement('div')\n      this.addproperty_list.style.width = '295px'\n      this.addproperty_list.style.maxHeight = '160px'\n      this.addproperty_list.style.padding = '5px 0'\n      this.addproperty_list.style.overflowY = 'auto'\n      this.addproperty_list.style.overflowX = 'hidden'\n      this.addproperty_list.style.paddingLeft = '5px'\n      this.addproperty_list.setAttribute('class', 'property-selector')\n      this.addproperty_add = this.getButton('add', 'add', 'add')\n      this.addproperty_add.classList.add('json-editor-btntype-add')\n      this.addproperty_input = this.theme.getFormInputField('text')\n      this.addproperty_input.setAttribute('placeholder', 'Property name...')\n      this.addproperty_input.style.width = '220px'\n      this.addproperty_input.style.marginBottom = '0'\n      this.addproperty_input.style.display = 'inline-block'\n      this.addproperty_add.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        if (self.addproperty_input.value) {\n          if (self.editors[self.addproperty_input.value]) {\n            window.alert('there is already a property with that name')\n            return\n          }\n\n          self.addObjectProperty(self.addproperty_input.value)\n          if (self.editors[self.addproperty_input.value]) {\n            self.editors[self.addproperty_input.value].disable()\n          }\n          self.onChange(true)\n        }\n      })\n      this.addproperty_input.addEventListener('input', function (e) {\n        e.target.previousSibling.childNodes.forEach(function (value) {\n          if (value.innerText.indexOf(e.target.value) >= 0) {\n            value.style.display = ''\n          } else {\n            value.style.display = 'none'\n          }\n        })\n      })\n      this.addproperty_holder.appendChild(this.addproperty_list)\n      this.addproperty_holder.appendChild(this.addproperty_input)\n      this.addproperty_holder.appendChild(this.addproperty_add)\n      var spacer = document.createElement('div')\n      spacer.style.clear = 'both'\n      this.addproperty_holder.appendChild(spacer)\n\n      // Close properties modal if clicked outside modal\n      document.addEventListener('click', this.onOutsideModalClick)\n\n      // Description\n      if (this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description)\n        this.container.appendChild(this.description)\n      }\n\n      // Validation error placeholder area\n      this.error_holder = document.createElement('div')\n      this.container.appendChild(this.error_holder)\n\n      // Container for child editor area\n      this.editor_holder = this.theme.getIndentedPanel()\n      this.container.appendChild(this.editor_holder)\n\n      // Container for rows of child editors\n      this.row_container = this.theme.getGridContainer()\n\n      if (isCategoriesFormat) {\n        this.tabs_holder = this.theme.getTopTabHolder(this.getValidId(this.schema.title))\n        this.tabPanesContainer = this.theme.getTopTabContentHolder(this.tabs_holder)\n        this.editor_holder.appendChild(this.tabs_holder)\n      } else {\n        this.tabs_holder = this.theme.getTabHolder(this.getValidId(this.schema.title))\n        this.tabPanesContainer = this.theme.getTabContentHolder(this.tabs_holder)\n        this.editor_holder.appendChild(this.row_container)\n      }\n\n      $each(this.editors, function (key, editor) {\n        var aPane = self.theme.getTabContent()\n        var holder = self.theme.getGridColumn()\n        var isObjOrArray = !!((editor.schema && (editor.schema.type === 'object' || editor.schema.type === 'array')))\n        aPane.isObjOrArray = isObjOrArray\n\n        if (isCategoriesFormat) {\n          if (isObjOrArray) {\n            var singleRowContainer = self.theme.getGridContainer()\n            singleRowContainer.appendChild(holder)\n            aPane.appendChild(singleRowContainer)\n            self.tabPanesContainer.appendChild(aPane)\n            self.row_container = singleRowContainer\n          } else {\n            if (typeof self.row_container_basic === 'undefined') {\n              self.row_container_basic = self.theme.getGridContainer()\n              aPane.appendChild(self.row_container_basic)\n              if (self.tabPanesContainer.childElementCount === 0) {\n                self.tabPanesContainer.appendChild(aPane)\n              } else {\n                self.tabPanesContainer.insertBefore(aPane, self.tabPanesContainer.childNodes[1])\n              }\n            }\n            self.row_container_basic.appendChild(holder)\n          }\n\n          self.addRow(editor, self.tabs_holder, aPane)\n\n          aPane.id = self.getValidId(editor.schema.title) // editor.schema.path//tab_text.textContent\n        } else {\n          self.row_container.appendChild(holder)\n        }\n\n        editor.setContainer(holder)\n        editor.build()\n        editor.postBuild()\n        editor.setOptInCheckbox(editor.header)\n      })\n\n      if (this.rows[0]) {\n        $trigger(this.rows[0].tab, 'click')\n      }\n\n      // Show/Hide button\n      this.collapsed = false\n      this.collapse_control = this.getButton('', 'collapse', this.translate('button_collapse'))\n      this.collapse_control.style.margin = '0 10px 0 0'\n      this.collapse_control.classList.add('json-editor-btntype-toggle')\n      this.title.insertBefore(this.collapse_control, this.title.childNodes[0])\n\n      this.collapse_control.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        if (self.collapsed) {\n          self.editor_holder.style.display = ''\n          self.collapsed = false\n          self.setButtonText(self.collapse_control, '', 'collapse', self.translate('button_collapse'))\n        } else {\n          self.editor_holder.style.display = 'none'\n          self.collapsed = true\n          self.setButtonText(self.collapse_control, '', 'expand', self.translate('button_expand'))\n        }\n      })\n\n      // If it should start collapsed\n      if (this.options.collapsed) {\n        $trigger(this.collapse_control, 'click')\n      }\n\n      // Collapse button disabled\n      if (this.schema.options && typeof this.schema.options.disable_collapse !== 'undefined') {\n        if (this.schema.options.disable_collapse) this.collapse_control.style.display = 'none'\n      } else if (this.jsoneditor.options.disable_collapse) {\n        this.collapse_control.style.display = 'none'\n      }\n\n      // Edit JSON Button\n      this.editjson_control = this.getButton('JSON', 'edit', 'Edit JSON')\n      this.editjson_control.classList.add('json-editor-btntype-editjson')\n      this.editjson_control.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        self.toggleEditJSON()\n      })\n      this.controls.appendChild(this.editjson_control)\n      this.controls.insertBefore(this.editjson_holder, this.controls.childNodes[1])\n\n      // Edit JSON Buttton disabled\n      if (this.schema.options && typeof this.schema.options.disable_edit_json !== 'undefined') {\n        if (this.schema.options.disable_edit_json) this.editjson_control.style.display = 'none'\n      } else if (this.jsoneditor.options.disable_edit_json) {\n        this.editjson_control.style.display = 'none'\n      }\n\n      // Object Properties Button\n      this.addproperty_button = this.getButton('Properties', 'edit_properties', self.translate('button_object_properties'))\n      this.addproperty_button.classList.add('json-editor-btntype-properties')\n      this.addproperty_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        self.toggleAddProperty()\n      })\n      this.controls.appendChild(this.addproperty_button)\n      this.controls.insertBefore(this.addproperty_holder, this.controls.childNodes[1])\n\n      this.refreshAddProperties()\n\n      // non required properties start deactivated\n      this.deactivateNonRequiredProperties()\n    }\n\n    // Fix table cell ordering\n    if (this.options.table_row) {\n      this.editor_holder = this.container\n      $each(this.property_order, function (i, key) {\n        self.editor_holder.appendChild(self.editors[key].container)\n      })\n    // Layout object editors in grid if needed\n    } else {\n      // Initial layout\n      this.layoutEditors()\n      // Do it again now that we know the approximate heights of elements\n      this.layoutEditors()\n    }\n  },\n  deactivateNonRequiredProperties: function () {\n    var self = this\n    // the show_opt_in editor option is for backward compatibility\n    if (this.jsoneditor.options.show_opt_in || this.options.show_opt_in) {\n      $each(this.editors, function (key, editor) {\n        if (!self.isRequiredObject(editor)) {\n          self.editors[key].deactivate()\n        }\n      })\n    }\n  },\n  showEditJSON: function () {\n    if (!this.editjson_holder) return\n    this.hideAddProperty()\n\n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.editjson_holder.style.left = this.editjson_control.offsetLeft + 'px'\n    this.editjson_holder.style.top = this.editjson_control.offsetTop + this.editjson_control.offsetHeight + 'px'\n\n    // Start the textarea with the current value\n    this.editjson_textarea.value = JSON.stringify(this.getValue(), null, 2)\n\n    // Disable the rest of the form while editing JSON\n    this.disable()\n\n    this.editjson_holder.style.display = ''\n    this.editjson_control.disabled = false\n    this.editing_json = true\n  },\n  hideEditJSON: function () {\n    if (!this.editjson_holder) return\n    if (!this.editing_json) return\n\n    this.editjson_holder.style.display = 'none'\n    this.enable()\n    this.editing_json = false\n  },\n  copyJSON: function () {\n    if (!this.editjson_holder) return\n    var ta = document.createElement('textarea')\n    ta.value = this.editjson_textarea.value\n    ta.setAttribute('readonly', '')\n    ta.style.position = 'absolute'\n    ta.style.left = '-9999px'\n    document.body.appendChild(ta)\n    ta.select()\n    document.execCommand('copy')\n    document.body.removeChild(ta)\n  },\n  saveJSON: function () {\n    if (!this.editjson_holder) return\n\n    try {\n      var json = JSON.parse(this.editjson_textarea.value)\n      this.setValue(json)\n      this.hideEditJSON()\n      this.onChange(true)\n    } catch (e) {\n      window.alert('invalid JSON')\n      throw e\n    }\n  },\n  toggleEditJSON: function () {\n    if (this.editing_json) this.hideEditJSON()\n    else this.showEditJSON()\n  },\n  insertPropertyControlUsingPropertyOrder: function (property, control, container) {\n    var propertyOrder\n    if (this.schema.properties[property]) { propertyOrder = this.schema.properties[property].propertyOrder }\n    if (typeof propertyOrder !== 'number') propertyOrder = 1000\n    control.propertyOrder = propertyOrder\n\n    for (var i = 0; i < container.childNodes.length; i++) {\n      var child = container.childNodes[i]\n      if (control.propertyOrder < child.propertyOrder) {\n        this.addproperty_list.insertBefore(control, child)\n        control = null\n        break\n      }\n    }\n    if (control) {\n      this.addproperty_list.appendChild(control)\n    }\n  },\n  addPropertyCheckbox: function (key) {\n    var self = this\n    var checkbox, label, labelText, control\n\n    checkbox = self.theme.getCheckbox()\n    checkbox.style.width = 'auto'\n\n    if (this.schema.properties[key] && this.schema.properties[key].title) { labelText = this.schema.properties[key].title } else { labelText = key }\n\n    label = self.theme.getCheckboxLabel(labelText)\n\n    control = self.theme.getFormControl(label, checkbox)\n    control.style.paddingBottom = control.style.marginBottom = control.style.paddingTop = control.style.marginTop = 0\n    control.style.height = 'auto'\n    // control.style.overflowY = 'hidden';\n\n    this.insertPropertyControlUsingPropertyOrder(key, control, this.addproperty_list)\n\n    checkbox.checked = key in this.editors\n    checkbox.addEventListener('change', function () {\n      if (checkbox.checked) {\n        self.addObjectProperty(key)\n      } else {\n        self.removeObjectProperty(key)\n      }\n      self.onChange(true)\n    })\n    self.addproperty_checkboxes[key] = checkbox\n\n    return checkbox\n  },\n  showAddProperty: function () {\n    if (!this.addproperty_holder) return\n    this.hideEditJSON()\n\n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.addproperty_holder.style.left = this.addproperty_button.offsetLeft + 'px'\n    this.addproperty_holder.style.top = this.addproperty_button.offsetTop + this.addproperty_button.offsetHeight + 'px'\n\n    // Disable the rest of the form while editing JSON\n    this.disable()\n\n    this.adding_property = true\n    this.addproperty_button.disabled = false\n    this.addproperty_holder.style.display = ''\n    this.refreshAddProperties()\n  },\n  hideAddProperty: function () {\n    if (!this.addproperty_holder) return\n    if (!this.adding_property) return\n\n    this.addproperty_holder.style.display = 'none'\n    this.enable()\n\n    this.adding_property = false\n  },\n  toggleAddProperty: function () {\n    if (this.adding_property) this.hideAddProperty()\n    else this.showAddProperty()\n  },\n  removeObjectProperty: function (property) {\n    if (this.editors[property]) {\n      this.editors[property].unregister()\n      delete this.editors[property]\n\n      this.refreshValue()\n      this.layoutEditors()\n    }\n  },\n  addObjectProperty: function (name, prebuildOnly) {\n    var self = this\n\n    // Property is already added\n    if (this.editors[name]) return\n\n    // Property was added before and is cached\n    if (this.cached_editors[name]) {\n      this.editors[name] = this.cached_editors[name]\n      if (prebuildOnly) return\n      this.editors[name].register()\n    // New property\n    } else {\n      if (!this.canHaveAdditionalProperties() && (!this.schema.properties || !this.schema.properties[name])) {\n        return\n      }\n\n      var schema = self.getPropertySchema(name)\n      if (typeof schema.propertyOrder !== 'number') {\n        // if the propertyOrder undefined, then set a smart default value.\n        schema.propertyOrder = Object.keys(self.editors).length + 1000\n      }\n\n      // Add the property\n      var editor = self.jsoneditor.getEditorClass(schema)\n\n      self.editors[name] = self.jsoneditor.createEditor(editor, {\n        jsoneditor: self.jsoneditor,\n        schema: schema,\n        path: self.path + '.' + name,\n        parent: self\n      })\n      self.editors[name].preBuild()\n\n      if (!prebuildOnly) {\n        var holder = self.theme.getChildEditorHolder()\n        self.editor_holder.appendChild(holder)\n        self.editors[name].setContainer(holder)\n        self.editors[name].build()\n        self.editors[name].postBuild()\n        self.editors[name].setOptInCheckbox(editor.header)\n        self.editors[name].activate()\n      }\n\n      self.cached_editors[name] = self.editors[name]\n    }\n\n    // If we're only prebuilding the editors, don't refresh values\n    if (!prebuildOnly) {\n      self.refreshValue()\n      self.layoutEditors()\n    }\n  },\n  onOutsideModalClick: function (e) {\n    if (this.addproperty_holder && !this.addproperty_holder.contains(e.target) && this.adding_property) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.toggleAddProperty()\n    }\n  },\n  onChildEditorChange: function (editor) {\n    this.refreshValue()\n    this._super(editor)\n  },\n  canHaveAdditionalProperties: function () {\n    if (typeof this.schema.additionalProperties === 'boolean') {\n      return this.schema.additionalProperties\n    }\n    return !this.jsoneditor.options.no_additional_properties\n  },\n  destroy: function () {\n    $each(this.cached_editors, function (i, el) {\n      el.destroy()\n    })\n    if (this.editor_holder) this.editor_holder.innerHTML = ''\n    if (this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title)\n    if (this.error_holder && this.error_holder.parentNode) this.error_holder.parentNode.removeChild(this.error_holder)\n\n    this.editors = null\n    this.cached_editors = null\n    if (this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder)\n    this.editor_holder = null\n    document.removeEventListener('click', this.onOutsideModalClick)\n\n    this._super()\n  },\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    var result = this._super()\n    if (this.jsoneditor.options.remove_empty_properties || this.options.remove_empty_properties) {\n      for (var i in result) {\n        if (result.hasOwnProperty(i)) {\n          if (\n            typeof result[i] === 'undefined' ||\n            result[i] === '' ||\n            (\n              result[i] === Object(result[i]) &&\n              Object.keys(result[i]).length === 0 &&\n              result[i].constructor === Object\n            )) {\n            delete result[i]\n          }\n        }\n      }\n    }\n\n    return result\n  },\n  refreshValue: function () {\n    this.value = {}\n\n    for (var i in this.editors) {\n      if (!this.editors.hasOwnProperty(i)) continue\n      if (this.editors[i].isActive()) {\n        this.value[i] = this.editors[i].getValue()\n      }\n    }\n\n    if (this.adding_property) this.refreshAddProperties()\n  },\n  refreshAddProperties: function () {\n    if (this.options.disable_properties || (this.options.disable_properties !== false && this.jsoneditor.options.disable_properties)) {\n      this.addproperty_button.style.display = 'none'\n      return\n    }\n\n    var canAdd = false; var numProps = 0; var i; var showModal = false\n\n    // Get number of editors\n    for (i in this.editors) {\n      if (!this.editors.hasOwnProperty(i)) continue\n      numProps++\n    }\n\n    // Determine if we can add back removed properties\n    canAdd = this.canHaveAdditionalProperties() && !(typeof this.schema.maxProperties !== 'undefined' && numProps >= this.schema.maxProperties)\n\n    if (this.addproperty_checkboxes) {\n      this.addproperty_list.innerHTML = ''\n    }\n    this.addproperty_checkboxes = {}\n\n    // Check for which editors can't be removed or added back\n    for (i in this.cached_editors) {\n      if (!this.cached_editors.hasOwnProperty(i)) continue\n\n      this.addPropertyCheckbox(i)\n\n      if (this.isRequiredObject(this.cached_editors[i]) && i in this.editors) {\n        this.addproperty_checkboxes[i].disabled = true\n      }\n\n      if (typeof this.schema.minProperties !== 'undefined' && numProps <= this.schema.minProperties) {\n        this.addproperty_checkboxes[i].disabled = this.addproperty_checkboxes[i].checked\n        if (!this.addproperty_checkboxes[i].checked) showModal = true\n      } else if (!(i in this.editors)) {\n        if (!canAdd && !this.schema.properties.hasOwnProperty(i)) {\n          this.addproperty_checkboxes[i].disabled = true\n        } else {\n          this.addproperty_checkboxes[i].disabled = false\n          showModal = true\n        }\n      } else {\n        showModal = true\n      }\n    }\n\n    if (this.canHaveAdditionalProperties()) {\n      showModal = true\n    }\n\n    // Additional addproperty checkboxes not tied to a current editor\n    for (i in this.schema.properties) {\n      if (!this.schema.properties.hasOwnProperty(i)) continue\n      if (this.cached_editors[i]) continue\n      showModal = true\n      this.addPropertyCheckbox(i)\n    }\n\n    // If no editors can be added or removed, hide the modal button\n    if (!showModal) {\n      this.hideAddProperty()\n      this.addproperty_button.style.display = 'none'\n    // If additional properties are disabled\n    } else if (!this.canHaveAdditionalProperties()) {\n      this.addproperty_add.style.display = 'none'\n      this.addproperty_input.style.display = 'none'\n    // If no new properties can be added\n    } else if (!canAdd) {\n      this.addproperty_add.disabled = true\n    // If new properties can be added\n    } else {\n      this.addproperty_add.disabled = false\n    }\n  },\n  isRequiredObject: function (editor) {\n    if (!editor) {\n      return\n    }\n    if (typeof editor.schema.required === 'boolean') return editor.schema.required\n    else if (Array.isArray(this.schema.required)) return this.schema.required.indexOf(editor.key) > -1\n    else if (this.jsoneditor.options.required_by_default) return true\n    else return false\n  },\n  setValue: function (value, initial) {\n    var self = this\n    value = value || {}\n\n    if (typeof value !== 'object' || Array.isArray(value)) value = {}\n\n    // First, set the values for all of the defined properties\n    $each(this.cached_editors, function (i, editor) {\n      // Value explicitly set\n      if (typeof value[i] !== 'undefined') {\n        self.addObjectProperty(i)\n        editor.setValue(value[i], initial)\n      // Otherwise, remove value unless this is the initial set or it's required\n      } else if (!initial && !self.isRequiredObject(editor)) {\n        self.removeObjectProperty(i)\n      // Otherwise, set the value to the default\n      } else {\n        editor.setValue(editor.getDefault(), initial)\n      }\n    })\n\n    $each(value, function (i, val) {\n      if (!self.cached_editors[i]) {\n        self.addObjectProperty(i)\n        if (self.editors[i]) self.editors[i].setValue(val, initial)\n      }\n    })\n\n    this.refreshValue()\n    this.layoutEditors()\n    this.onChange()\n  },\n  showValidationErrors: function (errors) {\n    var self = this\n\n    // Get all the errors that pertain to this editor\n    var myErrors = []\n    var otherErrors = []\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        myErrors.push(error)\n      } else {\n        otherErrors.push(error)\n      }\n    })\n\n    // Show errors for this editor\n    if (this.error_holder) {\n      if (myErrors.length) {\n        this.error_holder.innerHTML = ''\n        this.error_holder.style.display = ''\n        $each(myErrors, function (i, error) {\n          if (error.errorcount && error.errorcount > 1) error.message += ' (' + error.errorcount + ' errors)'\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message))\n        })\n      // Hide error area\n      } else {\n        this.error_holder.style.display = 'none'\n      }\n    }\n\n    // Show error for the table row if this is inside a table\n    if (this.options.table_row) {\n      if (myErrors.length) {\n        this.theme.addTableRowError(this.container)\n      } else {\n        this.theme.removeTableRowError(this.container)\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.editors, function (i, editor) {\n      editor.showValidationErrors(otherErrors)\n    })\n  }\n})\n","import { SelectEditor } from './select'\n\nexport var RadioEditor = SelectEditor.extend({\n\n  preBuild: function () {\n    this.schema.required = true // force editor into required mode to prevent creation of empty radio button\n    this._super()\n  },\n  build: function () {\n    var self = this\n    this.label = ''\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n    if (this.options.compact) this.container.classList.add('compact')\n\n    this.radioContainer = document.createElement('div')\n\n    this.radioGroup = []\n\n    var radioInputEventhandler = function (e) {\n      self.setValue(this.value)\n      self.onChange(true)\n    }\n\n    for (var i = 0; i < this.enum_values.length; i++) {\n      // form radio elements\n      this.input = this.theme.getFormRadio({\n        name: this.formname,\n        id: this.formname + '[' + i + ']',\n        value: this.enum_values[i]\n      })\n\n      // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n      this.setInputAttributes(['id', 'value', 'name'])\n\n      this.input.addEventListener('change', radioInputEventhandler, false)\n      this.radioGroup.push(this.input)\n\n      // form-label for radio elements\n      var radioLabel = this.theme.getFormRadioLabel(this.enum_display[i])\n      radioLabel.htmlFor = this.input.id\n\n      var control = this.theme.getFormRadioControl(radioLabel, this.input, !!(this.options.layout === 'horizontal' || this.options.compact))\n\n      this.radioContainer.appendChild(control)\n    }\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true\n      for (var j = 0; j < this.radioGroup.length; j++) {\n        this.radioGroup[j].disabled = true\n      }\n      this.radioContainer.classList.add('readonly')\n    }\n\n    var radioContainerWrapper = this.theme.getContainer()\n    radioContainerWrapper.appendChild(this.radioContainer)\n    radioContainerWrapper.dataset.containerFor = 'radio'\n\n    this.input = radioContainerWrapper\n\n    this.control = this.theme.getFormControl(this.label, radioContainerWrapper, this.description, this.infoButton)\n    this.container.appendChild(this.control)\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      if (self.input.parentNode) self.afterInputReady()\n    })\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      for (var i = 0; i < this.radioGroup.length; i++) {\n        this.radioGroup[i].disabled = false\n      }\n      this.radioContainer.classList.remove('readonly')\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    for (var i = 0; i < this.radioGroup.length; i++) {\n      this.radioGroup[i].disabled = true\n    }\n    this.radioContainer.classList.add('readonly')\n    this._super()\n  },\n  destroy: function () {\n    if (this.radioContainer.parentNode && this.radioContainer.parentNode.parentNode) this.radioContainer.parentNode.parentNode.removeChild(this.radioContainer.parentNode)\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n    this._super()\n  },\n  getNumColumns: function () {\n    return 2\n  },\n  setValue: function (val) {\n    for (var i = 0; i < this.radioGroup.length; i++) {\n      if (this.radioGroup[i].value === val) {\n        this.radioGroup[i].checked = true\n        this.value = val\n        this.onChange()\n        break\n      }\n    }\n  }\n})\n","import { StringEditor } from './string'\nimport { $extend } from '../utilities'\nexport var ScEditor = StringEditor.extend({\n\n  setValue: function (value, initial, fromTemplate) {\n    var res = this._super(value, initial, fromTemplate)\n    if (res !== undefined && res.changed && this.sceditor_instance) this.sceditor_instance.val(res.value)\n  },\n  build: function () {\n    this.options.format = 'textarea' // Force format into \"textarea\"\n    this._super()\n    this.input_type = this.schema.format // Restore original format\n    this.input.setAttribute('data-schemaformat', this.input_type)\n  },\n  afterInputReady: function () {\n    if (window.sceditor) {\n      // Get options, either global options from \"this.defaults.options.sceditor\" or\n      // single property options from schema \"options.sceditor\"\n      var options = this.expandCallbacks('sceditor', $extend({}, {\n        format: this.input_type,\n        emoticonsEnabled: false,\n        width: '100%',\n        height: 300,\n        readOnly: this.schema.readOnly || this.schema.readonly || this.schema.template\n      }, this.defaults.options.sceditor || {}, this.options.sceditor || {}, {\n        element: this.input\n      }))\n\n      var instance = window.sceditor.instance(this.input)\n\n      if (instance === undefined) {\n        window.sceditor.create(this.input, options) // Create doesn't return instance.\n      }\n\n      this.sceditor_instance = instance || window.sceditor.instance(this.input)\n\n      // Listen for changes\n      this.sceditor_instance.blur(function () {\n        this.value = this.sceditor_instance.val()\n        this.sceditor_instance.updateOriginal()\n        this.is_dirty = true\n        this.onChange(true)\n      }.bind(this))\n\n      this.theme.afterInputReady(this.input)\n    } else this._super() // Library not loaded, so just treat this as a string\n  },\n  getNumColumns: function () {\n    return 6\n  },\n  enable: function () {\n    if (!this.always_disabled && this.sceditor_instance) this.sceditor_instance.readOnly(false)\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.sceditor_instance) this.sceditor_instance.readOnly(true)\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.sceditor_instance) {\n      this.sceditor_instance.destroy()\n      this.sceditor_instance = null\n    }\n    this._super()\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $extend, $each } from '../utilities'\nexport var SelectEditor = AbstractEditor.extend({\n\n  setValue: function (value, initial) {\n    // Sanitize value before setting it\n    var sanitized = this.typecast(value || '')\n\n    if (this.enum_values.indexOf(sanitized) < 0) sanitized = this.enum_values[0]\n\n    if (this.value === sanitized) return\n\n    if (initial) this.is_dirty = false\n    else if (this.jsoneditor.options.show_errors === 'change') this.is_dirty = true\n\n    this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)]\n\n    this.value = sanitized\n    this.onChange()\n    this.change()\n  },\n  register: function () {\n    this._super()\n    if (!this.input) return\n    this.input.setAttribute('name', this.formname)\n  },\n  unregister: function () {\n    this._super()\n    if (!this.input) return\n    this.input.removeAttribute('name')\n  },\n  getNumColumns: function () {\n    if (!this.enum_options) return 3\n    var longestText = this.getTitle().length\n    for (var i = 0; i < this.enum_options.length; i++) {\n      longestText = Math.max(longestText, this.enum_options[i].length + 4)\n    }\n    return Math.min(12, Math.max(longestText / 7, 2))\n  },\n  typecast: function (value) {\n    if (this.schema.type === 'boolean') return value === 'undefined' || value === undefined ? undefined : !!value\n    else if (this.schema.type === 'number') return 1 * value || 0\n    else if (this.schema.type === 'integer') return Math.floor(value * 1 || 0)\n    else return '' + value\n  },\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    return this.typecast(this.value)\n  },\n  preBuild: function () {\n    var self = this\n    this.input_type = 'select'\n    this.enum_options = []\n    this.enum_values = []\n    this.enum_display = []\n    var i\n    var callback\n\n    // Enum options enumerated\n    if (this.schema['enum']) {\n      var display = (this.schema.options && this.schema.options.enum_titles) || []\n\n      $each(this.schema['enum'], function (i, option) {\n        self.enum_options[i] = '' + option\n        self.enum_display[i] = '' + (display[i] || option)\n        self.enum_values[i] = self.typecast(option)\n      })\n\n      if (!this.isRequired()) {\n        self.enum_display.unshift(' ')\n        self.enum_options.unshift('undefined')\n        self.enum_values.unshift(undefined)\n      }\n    // Boolean\n    } else if (this.schema.type === 'boolean') {\n      self.enum_display = (this.schema.options && this.schema.options.enum_titles) || ['true', 'false']\n      self.enum_options = ['1', '']\n      self.enum_values = [true, false]\n\n      if (!this.isRequired()) {\n        self.enum_display.unshift(' ')\n        self.enum_options.unshift('undefined')\n        self.enum_values.unshift(undefined)\n      }\n    // Dynamic Enum\n    } else if (this.schema.enumSource) {\n      this.enumSource = []\n      this.enum_display = []\n      this.enum_options = []\n      this.enum_values = []\n\n      // Shortcut declaration for using a single array\n      if (!(Array.isArray(this.schema.enumSource))) {\n        if (this.schema.enumValue) {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource,\n              value: this.schema.enumValue\n            }\n          ]\n        } else {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource\n            }\n          ]\n        }\n      } else {\n        for (i = 0; i < this.schema.enumSource.length; i++) {\n          // Shorthand for watched variable\n          if (typeof this.schema.enumSource[i] === 'string') {\n            this.enumSource[i] = {\n              source: this.schema.enumSource[i]\n            }\n          // Make a copy of the schema\n          } else if (!(Array.isArray(this.schema.enumSource[i]))) {\n            this.enumSource[i] = $extend({}, this.schema.enumSource[i])\n          } else {\n            this.enumSource[i] = this.schema.enumSource[i]\n          }\n        }\n      }\n      // Now, enumSource is an array of sources\n      // Walk through this array and fix up the values\n      for (i = 0; i < this.enumSource.length; i++) {\n        if (this.enumSource[i].value) {\n          callback = this.expandCallbacks('template', { template: this.enumSource[i].value })\n          if (typeof callback.template === 'function') this.enumSource[i].value = callback.template\n          else this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine)\n        }\n        if (this.enumSource[i].title) {\n          callback = this.expandCallbacks('template', { template: this.enumSource[i].title })\n          if (typeof callback.template === 'function') this.enumSource[i].title = callback.template\n          else this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine)\n        }\n        if (this.enumSource[i].filter && this.enumSource[i].value) {\n          callback = this.expandCallbacks('template', { template: this.enumSource[i].filter })\n          if (typeof callback.template === 'function') this.enumSource[i].filter = callback.template\n          else this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine)\n        }\n      }\n    // Other, not supported\n    } else {\n      throw new Error(\"'select' editor requires the enum property to be set.\")\n    }\n  },\n  build: function () {\n    var self = this\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n    if (this.options.compact) this.container.classList.add('compact')\n\n    this.input = this.theme.getSelectInput(this.enum_options, false)\n    this.theme.setSelectOptions(this.input, this.enum_options, this.enum_display)\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true\n      this.input.disabled = true\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes([])\n\n    this.input.addEventListener('change', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      self.onInputChange()\n    })\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton)\n    this.container.appendChild(this.control)\n\n    this.value = this.enum_values[0]\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      if (self.input.parentNode) self.afterInputReady()\n    })\n  },\n  afterInputReady: function () {\n    var self = this\n    self.theme.afterInputReady(self.input)\n  },\n  onInputChange: function () {\n    var val = this.typecast(this.input.value)\n\n    var newVal\n    // Invalid option, use first option instead\n    if (this.enum_values.indexOf(val) === -1) {\n      newVal = this.enum_values[0]\n    } else {\n      newVal = this.enum_values[this.enum_values.indexOf(val)]\n    }\n\n    // If valid hasn't changed\n    if (newVal === this.value) return\n\n    this.is_dirty = true\n\n    // Store new value and propogate change event\n    this.value = newVal\n    this.onChange(true)\n  },\n  onWatchedFieldChange: function () {\n    var vars; var j\n    var selectOptions = []; var selectTitles = []\n\n    // If this editor uses a dynamic select box\n    if (this.enumSource) {\n      vars = this.getWatchedFieldValues()\n\n      for (var i = 0; i < this.enumSource.length; i++) {\n        // Constant values\n        if (Array.isArray(this.enumSource[i])) {\n          selectOptions = selectOptions.concat(this.enumSource[i])\n          selectTitles = selectTitles.concat(this.enumSource[i])\n        } else {\n          var items = []\n          // Static list of items\n          if (Array.isArray(this.enumSource[i].source)) {\n            items = this.enumSource[i].source\n          // A watched field\n          } else {\n            items = vars[this.enumSource[i].source]\n          }\n\n          if (items) {\n            // Only use a predefined part of the array\n            if (this.enumSource[i].slice) {\n              items = Array.prototype.slice.apply(items, this.enumSource[i].slice)\n            }\n            // Filter the items\n            if (this.enumSource[i].filter) {\n              var newItems = []\n              for (j = 0; j < items.length; j++) {\n                if (this.enumSource[i].filter({ i: j, item: items[j], watched: vars })) newItems.push(items[j])\n              }\n              items = newItems\n            }\n\n            var itemTitles = []\n            var itemValues = []\n            for (j = 0; j < items.length; j++) {\n              var item = items[j]\n\n              // Rendered value\n              if (this.enumSource[i].value) {\n                itemValues[j] = this.typecast(this.enumSource[i].value({\n                  i: j,\n                  item: item\n                }))\n              // Use value directly\n              } else {\n                itemValues[j] = items[j]\n              }\n\n              // Rendered title\n              if (this.enumSource[i].title) {\n                itemTitles[j] = this.enumSource[i].title({\n                  i: j,\n                  item: item\n                })\n              // Use value as the title also\n              } else {\n                itemTitles[j] = itemValues[j]\n              }\n            }\n\n            if (this.enumSource[i].sort) {\n              (function (itemValues, itemTitles, order) {\n                itemValues.map(function (v, i) {\n                  return { v: v, t: itemTitles[i] }\n                }).sort(function (a, b) {\n                  return ((a.v < b.v) ? -order : ((a.v === b.v) ? 0 : order))\n                }).forEach(function (v, i) {\n                  itemValues[i] = v.v\n                  itemTitles[i] = v.t\n                })\n              }.bind(null, itemValues, itemTitles, this.enumSource[i].sort === 'desc' ? 1 : -1))()\n            }\n\n            selectOptions = selectOptions.concat(itemValues)\n            selectTitles = selectTitles.concat(itemTitles)\n          }\n        }\n      }\n\n      var prevValue = this.value\n\n      this.theme.setSelectOptions(this.input, selectOptions, selectTitles)\n      this.enum_options = selectOptions\n      this.enum_display = selectTitles\n      this.enum_values = selectOptions\n\n      // If the previous value is still in the new select options\n      // or if global option \"enum_source_value_auto_select\" is true, stick with it\n      if (selectOptions.indexOf(prevValue) !== -1 || this.jsoneditor.options.enum_source_value_auto_select !== false) {\n        this.input.value = prevValue\n        this.value = prevValue\n      // Otherwise, set the value to the first select option\n      } else {\n        this.input.value = selectOptions[0]\n        this.value = this.typecast(selectOptions[0] || '')\n        if (this.parent && !this.watchLoop) this.parent.onChildEditorChange(this)\n        else this.jsoneditor.onChange()\n        this.jsoneditor.notifyWatchers(this.path)\n      }\n    }\n\n    this._super()\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false\n    }\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    this.input.disabled = true\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n\n    this._super()\n  },\n  showValidationErrors: function (errors) {\n    var self = this\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors\n\n    var messages = []\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message)\n      }\n    })\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.')\n    } else {\n      this.theme.removeInputError(this.input)\n    }\n  }\n})\n","import { SelectEditor } from './select'\nimport { $extend } from '../utilities'\nexport var Select2Editor = SelectEditor.extend({\n\n  setValue: function (value, initial) {\n    if (this.select2_instance) {\n      if (initial) this.is_dirty = false\n      else if (this.jsoneditor.options.show_errors === 'change') this.is_dirty = true\n\n      var sanitized = this.updateValue(value) // Sets this.value to sanitized value\n\n      this.input.value = sanitized\n\n      if (this.select2v4) this.select2_instance.val(sanitized).trigger('change')\n      else this.select2_instance.select2('val', sanitized)\n\n      this.onChange(true)\n    } else this._super(value, initial)\n  },\n  afterInputReady: function () {\n    if (window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && !this.select2_instance) {\n      // Get options, either global options from \"this.defaults.options.select2\" or\n      // single property options from schema \"options.select2\"\n      var self = this; var options = this.expandCallbacks('select2', $extend({}, this.defaults.options.select2 || {}, this.options.select2 || {}))\n\n      // New items are allowed if option \"tags\" is true and type is \"string\"\n      this.newEnumAllowed = options.tags = !!options.tags && this.schema.type === 'string'\n\n      this.select2_instance = window.jQuery(this.input).select2(options)\n      this.select2v4 = this.select2_instance.select2.hasOwnProperty('amd')\n\n      // Create change handler\n      this.selectChangeHandler = function () {\n        var value = self.select2v4 ? self.select2_instance.val() : self.select2_instance.select2('val')\n        self.updateValue(value)\n        self.onChange(true)\n      }\n\n      // Add event handler.\n      // Note: Must use the \"on()\" method and not addEventListener()\n      this.select2_instance.on('change', this.selectChangeHandler)\n      this.select2_instance.on('select2-blur', this.selectChangeHandler)\n    }\n    this._super()\n  },\n  updateValue: function (value) {\n    var sanitized = this.enum_values[0]\n    value = this.typecast(value || '')\n    if (this.enum_values.indexOf(value) === -1) {\n      if (this.newEnumAllowed) {\n        sanitized = this.addNewOption(value) ? value : sanitized\n      }\n    } else sanitized = value\n    this.value = sanitized\n    return sanitized\n  },\n  addNewOption: function (value) {\n    var sanitized = this.typecast(value); var res = false; var optionTag\n\n    if (this.enum_values.indexOf(sanitized) < 0 && sanitized !== '') {\n      // Add to list of valid enum values\n      this.enum_options.push('' + sanitized)\n      this.enum_display.push('' + sanitized)\n      this.enum_values.push(sanitized)\n      // Update Schema enum to prevent triggering error\n      // \"Value must be one of the enumerated values\"\n      this.schema.enum.push(sanitized)\n\n      optionTag = this.input.querySelector('option[value=\"' + sanitized + '\"]')\n      if (optionTag) {\n        // Remove data attribute to make option tag permanent.\n        optionTag.removeAttribute('data-select2-tag')\n      } else {\n        // eslint-disable-next-line no-undef\n        this.input.appendChild(new Option(sanitized, sanitized, false, false)).trigger('change')\n      }\n\n      res = true\n    }\n    return res\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.select2_instance) {\n        if (this.select2v4) this.select2_instance.prop('disabled', false)\n        else this.select2_instance.select2('enable', true)\n      }\n    }\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.select2_instance) {\n      if (this.select2v4) this.select2_instance.prop('disabled', true)\n      else this.select2_instance.select2('enable', false)\n    }\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.select2_instance) {\n      this.select2_instance.select2('destroy')\n      this.select2_instance = null\n    }\n    this._super()\n  }\n})\n","import { SelectEditor } from './select'\nimport { $extend } from '../utilities'\nexport var SelectizeEditor = SelectEditor.extend({\n\n  setValue: function (value, initial) {\n    if (this.selectize_instance) {\n      if (initial) this.is_dirty = false\n      else if (this.jsoneditor.options.show_errors === 'change') this.is_dirty = true\n\n      var sanitized = this.updateValue(value) // Sets this.value to sanitized value\n\n      this.input.value = sanitized\n\n      this.selectize_instance.clear(true)\n      this.selectize_instance.setValue(sanitized)\n\n      this.onChange(true)\n    } else this._super(value, initial)\n  },\n  afterInputReady: function () {\n    if (window.jQuery && window.jQuery.fn && window.jQuery.fn.selectize && !this.selectize_instance) {\n      // Get options, either global options from \"this.defaults.options.selectize\" or\n      // single property options from schema \"options.selectize\"\n      var self = this; var options = this.expandCallbacks('selectize', $extend({}, this.defaults.options.selectize || {}, this.options.selectize || {}))\n\n      // New items are allowed if option \"create\" is true and type is \"string\"\n      this.newEnumAllowed = options.create = !!options.create && this.schema.type === 'string'\n\n      this.selectize_instance = (window.jQuery(this.input).selectize(options))[0].selectize\n\n      // Remove change handler set in parent class (src/multiselect.js)\n      this.control.removeEventListener('change', this.multiselectChangeHandler)\n\n      // Create a new change handler\n      this.multiselectChangeHandler = function (value) {\n        // var value = self.selectize_instance.getValue(true);\n        // self.value = value;\n        self.updateValue(value)\n        self.onChange(true)\n      }\n\n      // Add new event handler.\n      // Note: Must use the \"on()\" method and not addEventListener()\n      this.selectize_instance.on('change', this.multiselectChangeHandler)\n    }\n    this._super()\n  },\n  updateValue: function (value) {\n    var sanitized = this.enum_values[0]\n    value = this.typecast(value || '')\n    if (this.enum_values.indexOf(value) === -1) {\n      if (this.newEnumAllowed) {\n        sanitized = this.addNewOption(value) ? value : sanitized\n      }\n    } else sanitized = value\n    this.value = sanitized\n    return sanitized\n  },\n  addNewOption: function (value) {\n    var sanitized = this.typecast(value); var res = false\n\n    if (this.enum_values.indexOf(sanitized) < 0 && sanitized !== '') {\n      // Add to list of valid enum values\n      this.enum_options.push('' + sanitized)\n      this.enum_display.push('' + sanitized)\n      this.enum_values.push(sanitized)\n      // Update Schema enum to prevent triggering error\n      // \"Value must be one of the enumerated values\"\n      this.schema.enum.push(sanitized)\n\n      // Add selectize item\n      this.selectize_instance.addItem(sanitized)\n      this.selectize_instance.refreshOptions(false)\n\n      res = true\n    }\n    return res\n  },\n  onWatchedFieldChange: function () {\n    this._super()\n    if (this.selectize_instance) {\n      var self = this\n      this.selectize_instance.clear(true) // Clear selection\n      this.selectize_instance.clearOptions(true) // Remove all options\n      this.enum_options.forEach(function (value, i) {\n        self.selectize_instance.addOption({ value: value, text: self.enum_display[i] })\n      })\n      this.selectize_instance.addItem(this.value + '', true) // Set new selection\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled && this.selectize_instance) this.selectize_instance.unlock()\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.selectize_instance) this.selectize_instance.lock()\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.selectize_instance) {\n      this.selectize_instance.destroy()\n      this.selectize_instance = null\n    }\n    this._super()\n  }\n})\n","// This editor is using the signature pad editor from https://github.com/szimek/signature_pad\n// Credits for the pad itself go to https://github.com/szimek\n\nimport { StringEditor } from './string'\nimport { $each } from '../utilities'\n\nexport var SignatureEditor = StringEditor.extend({\n\n  build: function () {\n    var self = this\n\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    var formname = this.formname.replace(/\\W/g, '')\n\n    if (typeof SignaturePad === 'function') {\n      // Dynamically add the required CSS the first time this editor is used\n      this.input = this.theme.getFormInputField('hidden')\n      this.container.appendChild(this.input)\n\n      // Required to keep height\n      var signatureContainer = document.createElement('div')\n      signatureContainer.classList.add('signature-container')\n\n      // Create canvas for signature pad\n      var canvas = document.createElement('canvas')\n      canvas.setAttribute('name', formname)\n      canvas.classList.add('signature')\n      signatureContainer.appendChild(canvas)\n\n      self.signaturePad = new window.SignaturePad(canvas, {\n        onEnd: function () {\n          // check if the signature is not empty before setting a value\n          if (!self.signaturePad.isEmpty()) {\n            self.input.value = self.signaturePad.toDataURL()\n          } else {\n            self.input.value = ''\n          }\n\n          self.is_dirty = true\n          self.refreshValue()\n          self.watch_listener()\n          self.jsoneditor.notifyWatchers(self.path)\n          if (self.parent) self.parent.onChildEditorChange(self)\n          else self.jsoneditor.onChange()\n        }\n      })\n\n      // create button containers and add clear signature button\n      var buttons = document.createElement('div')\n      var clearButton = document.createElement('button')\n      clearButton.classList.add('tiny', 'button')\n      clearButton.innerHTML = 'Clear signature'\n      buttons.appendChild(clearButton)\n      signatureContainer.appendChild(buttons)\n\n      if (this.options.compact) this.container.setAttribute('class', this.container.getAttribute('class') + ' compact')\n\n      if (this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true\n        $each(this.inputs, function (i, input) {\n          canvas.setAttribute('readOnly', 'readOnly')\n          input.disabled = true\n        })\n      }\n      // add listener to the clear button. when clicked, trigger a canvas change after emptying the canvas\n      clearButton.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        self.signaturePad.clear()\n        // trigger stroke end to let signaturePad update the dataURL\n        self.signaturePad.strokeEnd()\n      })\n\n      this.control = this.theme.getFormControl(this.label, signatureContainer, this.description)\n      this.container.appendChild(this.control)\n      this.refreshValue()\n\n      // signature canvas will stretch to signatureContainer width\n      canvas.width = signatureContainer.offsetWidth\n      if (self.options && self.options.canvas_height) {\n        canvas.height = self.options.canvas_height\n      } else {\n        canvas.height = '300' // Set to default height of 300px;\n      }\n    } else {\n      var message = document.createElement('p')\n      message.innerHTML = 'Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad'\n      this.container.appendChild(message)\n    }\n  },\n  setValue: function (val) {\n    var self = this\n    if (typeof SignaturePad === 'function') {\n      var sanitized = this.sanitize(val)\n      if (this.value === sanitized) {\n        return\n      }\n      self.value = sanitized\n      self.input.value = self.value\n      self.signaturePad.clear()\n      // only set contents if value != ''\n      if (val && val !== '') {\n        self.signaturePad.fromDataURL(val)\n      }\n      self.watch_listener()\n      self.jsoneditor.notifyWatchers(self.path)\n      return false\n    }\n  },\n  destroy: function () {\n    var self = this\n    self.signaturePad.off()\n    delete self.signaturePad\n  }\n})\n","import { StringEditor } from './string'\nimport { $extend } from '../utilities'\nexport var SimplemdeEditor = StringEditor.extend({\n\n  setValue: function (value, initial, fromTemplate) {\n    var res = this._super(value, initial, fromTemplate)\n    if (res !== undefined && res.changed && this.simplemde_instance) this.simplemde_instance.value(res.value)\n  },\n  build: function () {\n    this.options.format = 'textarea' // Force format into \"textarea\"\n    this._super()\n    this.input_type = this.schema.format // Restore original format\n    this.input.setAttribute('data-schemaformat', this.input_type)\n  },\n  afterInputReady: function () {\n    var self = this; var options\n\n    if (window.SimpleMDE) {\n      // Get options, either global options from \"this.defaults.options.simplemde\" or\n      // single property options from schema \"options.simplemde\"\n      options = this.expandCallbacks('simplemde', $extend({}, {\n        height: 300\n      }, this.defaults.options.simplemde || {}, this.options.simplemde || {}, {\n        element: this.input\n      }))\n\n      this.simplemde_instance = new window.SimpleMDE(options)\n\n      if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n        this.simplemde_instance.codemirror.options.readOnly = true\n      }\n\n      // Listen for changes\n      this.simplemde_instance.codemirror.on('change', function () {\n        self.value = self.simplemde_instance.value()\n        self.is_dirty = true\n        self.onChange(true)\n      })\n\n      // This will prevent SimpleMDE content from being hidden until focus in Chrome\n      // if SimpleMDE is not visible (Like when placed inside Tabs)\n      if (options.autorefresh) {\n        this.startListening(this.simplemde_instance.codemirror, this.simplemde_instance.codemirror.state.autoRefresh = { delay: 250 })\n      }\n\n      this.theme.afterInputReady(self.input)\n    } else this._super() // Library not loaded, so just treat this as a string\n  },\n  getNumColumns: function () {\n    return 6\n  },\n  enable: function () {\n    if (!this.always_disabled && this.simplemde_instance) this.simplemde_instance.codemirror.options.readOnly = false\n    this._super()\n  },\n  disable: function (alwaysDisabled) {\n    if (this.simplemde_instance) this.simplemde_instance.codemirror.options.readOnly = true\n    this._super(alwaysDisabled)\n  },\n  destroy: function () {\n    if (this.simplemde_instance) {\n      this.simplemde_instance.toTextArea()\n      this.simplemde_instance = null\n    }\n    this._super()\n  },\n  // Ported from https://codemirror.net/addon/display/autorefresh.js\n  startListening: function (cm, state) {\n    var self = this\n    function check () {\n      if (cm.display.wrapper.offsetHeight) {\n        self.stopListening(cm, state)\n        if (cm.display.lastWrapHeight !== cm.display.wrapper.clientHeight) {\n          cm.refresh()\n        }\n      } else {\n        state.timeout = window.setTimeout(check, state.delay)\n      }\n    }\n    state.timeout = window.setTimeout(check, state.delay)\n    state.hurry = function () {\n      window.clearTimeout(state.timeout)\n      state.timeout = window.setTimeout(check, 50)\n    }\n    cm.on(window, 'mouseup', state.hurry)\n    cm.on(window, 'keyup', state.hurry)\n  },\n  stopListening: function (cm, state) {\n    window.clearTimeout(state.timeout)\n    cm.off(window, 'mouseup', state.hurry)\n    cm.off(window, 'keyup', state.hurry)\n  }\n})\n","import { StringEditor } from './string'\n\nexport var StarratingEditor = StringEditor.extend({\n\n  build: function () {\n    var self = this\n\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n    if (this.options.compact) this.container.classList.add('compact')\n\n    this.ratingContainer = document.createElement('div')\n    this.ratingContainer.classList.add('starrating')\n\n    // Emulate the old \"rating\" editor parameters\n    if (this.schema.enum === undefined) {\n      var max = this.schema.maximum ? this.schema.maximum : 5\n      if (this.schema.exclusiveMaximum) max--\n      this.enum_values = []\n      for (var k = 0; k < max; k++) this.enum_values.push(k + 1)\n    } else this.enum_values = this.schema.enum\n\n    this.radioGroup = []\n\n    var radioInputEventhandler = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      self.setValue(this.value)\n      self.onChange(true)\n    }\n\n    for (var i = this.enum_values.length - 1; i > -1; i--) {\n      var id = this.formname + (i + 1)\n\n      // form radio elements\n      var radioInput = this.theme.getFormInputField('radio')\n      radioInput.name = this.formname + '[starrating]'\n      radioInput.value = this.enum_values[i]\n      radioInput.id = id\n      radioInput.addEventListener('change', radioInputEventhandler, false)\n      this.radioGroup.push(radioInput)\n\n      // form-label for radio elements\n      var radioLabel = document.createElement('label')\n      radioLabel.htmlFor = id\n      radioLabel.title = this.enum_values[i]\n      if (this.options.displayValue) {\n        radioLabel.classList.add('starrating-display-enabled')\n      }\n\n      this.ratingContainer.appendChild(radioInput)\n      this.ratingContainer.appendChild(radioLabel)\n    }\n\n    if (this.options.displayValue) {\n      this.displayRating = document.createElement('div')\n      this.displayRating.classList.add('starrating-display')\n      this.displayRating.innerText = this.enum_values[0]\n      this.ratingContainer.appendChild(this.displayRating)\n    }\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true\n      for (var j = 0; j < this.radioGroup.length; j++) {\n        this.radioGroup[j].disabled = true\n      }\n      this.ratingContainer.classList.add('readonly')\n    }\n\n    var ratingsContainerWrapper = this.theme.getContainer()\n    ratingsContainerWrapper.appendChild(this.ratingContainer)\n\n    this.input = ratingsContainerWrapper\n\n    this.control = this.theme.getFormControl(this.label, ratingsContainerWrapper, this.description, this.infoButton)\n    this.container.appendChild(this.control)\n\n    this.refreshValue()\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      for (var i = 0; i < this.radioGroup.length; i++) {\n        this.radioGroup[i].disabled = false\n      }\n      this.ratingContainer.classList.remove('readonly')\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    for (var i = 0; i < this.radioGroup.length; i++) {\n      this.radioGroup[i].disabled = true\n    }\n    this.ratingContainer.classList.add('readonly')\n    this._super()\n  },\n  destroy: function () {\n    if (this.ratingContainer.parentNode && this.ratingContainer.parentNode.parentNode) this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode)\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n    this._super()\n  },\n  getNumColumns: function () {\n    return 2\n  },\n  getValue: function () {\n    if (!this.dependenciesFulfilled) {\n      return undefined\n    }\n    if (this.schema.type === 'integer') {\n      return this.value === '' ? undefined : this.value * 1\n    }\n    return this.value\n  },\n  setValue: function (val) {\n    for (var i = 0; i < this.radioGroup.length; i++) {\n      // eslint-disable-next-line eqeqeq\n      if (this.radioGroup[i].value == val) {\n        this.radioGroup[i].checked = true\n        this.value = val\n        if (this.options.displayValue) {\n          this.displayRating.innerHTML = this.value\n        }\n        this.onChange(true)\n        break\n      }\n    }\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $extend, $each } from '../utilities'\nexport var StringEditor = AbstractEditor.extend({\n  register: function () {\n    this._super()\n    if (!this.input) return\n    this.input.setAttribute('name', this.formname)\n  },\n  unregister: function () {\n    this._super()\n    if (!this.input) return\n    this.input.removeAttribute('name')\n  },\n  setValue: function (value, initial, fromTemplate) {\n    if (this.template && !fromTemplate) {\n      return\n    }\n\n    if (value === null || typeof value === 'undefined') value = ''\n    else if (typeof value === 'object') value = JSON.stringify(value)\n    else if (typeof value !== 'string') value = '' + value\n\n    if (value === this.serialized) return\n\n    // Sanitize value before setting it\n    var sanitized = this.sanitize(value)\n\n    if (this.input.value === sanitized) {\n      return\n    }\n\n    this.input.value = sanitized\n\n    var changed = fromTemplate || this.getValue() !== value\n\n    this.refreshValue()\n\n    if (initial) this.is_dirty = false\n    else if (this.jsoneditor.options.show_errors === 'change') this.is_dirty = true\n\n    if (this.adjust_height) this.adjust_height(this.input)\n\n    // Bubble this setValue to parents if the value changed\n    this.onChange(changed)\n\n    // Return object with changed state and sanitized value for use in editors that extend this\n    return { changed: changed, value: sanitized }\n  },\n  getNumColumns: function () {\n    var min = Math.ceil(Math.max(this.getTitle().length, this.schema.maxLength || 0, this.schema.minLength || 0) / 5)\n    var num\n\n    if (this.input_type === 'textarea') num = 6\n    else if (['text', 'email'].indexOf(this.input_type) >= 0) num = 4\n    else num = 2\n\n    return Math.min(12, Math.max(min, num))\n  },\n  build: function () {\n    var self = this\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n\n    this.format = this.schema.format\n    if (!this.format && this.schema.media && this.schema.media.type) {\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g, '')\n    }\n    if (!this.format && this.options.default_format) {\n      this.format = this.options.default_format\n    }\n    if (this.options.format) {\n      this.format = this.options.format\n    }\n\n    // Specific format\n    if (this.format) {\n      // Text Area\n      if (this.format === 'textarea') {\n        this.input_type = 'textarea'\n        this.input = this.theme.getTextareaInput()\n      // Range Input\n      } else if (this.format === 'range') {\n        this.input_type = 'range'\n        var min = this.schema.minimum || 0\n        var max = this.schema.maximum || Math.max(100, min + 1)\n        var step = 1\n        if (this.schema.multipleOf) {\n          if (min % this.schema.multipleOf) min = Math.ceil(min / this.schema.multipleOf) * this.schema.multipleOf\n          if (max % this.schema.multipleOf) max = Math.floor(max / this.schema.multipleOf) * this.schema.multipleOf\n          step = this.schema.multipleOf\n        }\n\n        this.input = this.theme.getRangeInput(min, max, step)\n      // HTML5 Input type\n      } else {\n        this.input_type = 'text'\n        if (['button', 'checkbox', 'color', 'date', 'datetime-local', 'email', 'file', 'hidden', 'image', 'month', 'number', 'password', 'radio', 'reset', 'search', 'submit', 'tel', 'text', 'time', 'url', 'week'].indexOf(this.format) > -1) {\n          this.input_type = this.format\n        }\n        this.input = this.theme.getFormInputField(this.input_type)\n      }\n    // Normal text input\n    } else {\n      this.input_type = 'text'\n      this.input = this.theme.getFormInputField(this.input_type)\n    }\n\n    // minLength, maxLength, and pattern\n    if (typeof this.schema.maxLength !== 'undefined') this.input.setAttribute('maxlength', this.schema.maxLength)\n    if (typeof this.schema.pattern !== 'undefined') this.input.setAttribute('pattern', this.schema.pattern)\n    else if (typeof this.schema.minLength !== 'undefined') this.input.setAttribute('pattern', '.{' + this.schema.minLength + ',}')\n\n    if (this.options.compact) {\n      this.container.classList.add('compact')\n    } else {\n      if (this.options.input_width) this.input.style.width = this.options.input_width\n    }\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true\n      this.input.setAttribute('readonly', 'true')\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes(['maxlength', 'pattern', 'readonly', 'min', 'max', 'step'])\n\n    this.input\n      .addEventListener('change', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        // Don't allow changing if this field is a template\n        if (self.schema.template) {\n          this.value = self.value\n          return\n        }\n\n        var val = this.value\n\n        // sanitize value\n        var sanitized = self.sanitize(val)\n        if (val !== sanitized) {\n          this.value = sanitized\n        }\n\n        self.is_dirty = true\n\n        self.refreshValue()\n        self.onChange(true)\n      })\n\n    if (this.options.input_height) this.input.style.height = this.options.input_height\n    if (this.options.expand_height) {\n      this.adjust_height = function (el) {\n        if (!el) return\n        var i; var ch = el.offsetHeight\n        // Input too short\n        if (el.offsetHeight < el.scrollHeight) {\n          i = 0\n          while (el.offsetHeight < el.scrollHeight + 3) {\n            if (i > 100) break\n            i++\n            ch++\n            el.style.height = ch + 'px'\n          }\n        } else {\n          i = 0\n          while (el.offsetHeight >= el.scrollHeight + 3) {\n            if (i > 100) break\n            i++\n            ch--\n            el.style.height = ch + 'px'\n          }\n          el.style.height = (ch + 1) + 'px'\n        }\n      }\n\n      this.input.addEventListener('keyup', function (e) {\n        self.adjust_height(this)\n      })\n      this.input.addEventListener('change', function (e) {\n        self.adjust_height(this)\n      })\n      this.adjust_height()\n    }\n\n    if (this.format) this.input.setAttribute('data-schemaformat', this.format)\n\n    var input = this.input\n    if (this.format === 'range') {\n      input = this.theme.getRangeControl(this.input, this.theme.getRangeOutput(this.input, this.schema.default || Math.max(this.schema.minimum || 0, 0)))\n    }\n\n    this.control = this.theme.getFormControl(this.label, input, this.description, this.infoButton)\n    this.container.appendChild(this.control)\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      // Skip in case the input is only a temporary editor,\n      // otherwise, in the case of an ace_editor creation,\n      // it will generate an error trying to append it to the missing parentNode\n      if (self.input.parentNode) self.afterInputReady()\n      if (self.adjust_height) self.adjust_height(self.input)\n    })\n\n    // Compile and store the template\n    if (this.schema.template) {\n      var callback = this.expandCallbacks('template', { template: this.schema.template })\n      if (typeof callback.template === 'function') this.template = callback.template\n      else this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine)\n      this.refreshValue()\n    } else {\n      this.refreshValue()\n    }\n  },\n  setupCleave: function (el) {\n    // Enable cleave.js support if library is loaded and config is available\n    var options = this.expandCallbacks('cleave', $extend({}, this.defaults.options.cleave || {}, this.options.cleave || {}))\n    if (typeof options === 'object' && Object.keys(options).length > 0) {\n      this.cleave_instance = new window.Cleave(el, options)\n    }\n  },\n  setupImask: function (el) {\n    // Enable imask.js support if library is loaded and config is available\n    var options = this.expandCallbacks('imask', $extend({}, this.defaults.options.imask || {}, this.options.imask || {}))\n    if (typeof options === 'object' && Object.keys(options).length > 0) {\n      this.imask_instance = window.IMask(el, this.ajustIMaskOptions(options))\n    }\n  },\n  ajustIMaskOptions: function (obj) {\n    // iMask config format is not JSON friendly, so function and regex based mask\n    // properties have to be adjusted from string to the correct format\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        if (obj[prop] === Object(obj[prop])) obj[prop] = this.ajustIMaskOptions(obj[prop])\n        else if (prop === 'mask') {\n          if (obj[prop].substr(0, 6) === 'regex:') {\n            var regExMatch = obj[prop].match(/^regex:\\/(.*)\\/([gimsuy]*)$/)\n            if (regExMatch !== null) {\n              try {\n                obj[prop] = new RegExp(regExMatch[1], regExMatch[2])\n              } catch (e) { }\n            }\n          } else obj[prop] = this.getGlobalPropertyFromString(obj[prop])\n        }\n      }\n    }\n    return obj\n  },\n  getGlobalPropertyFromString: function (strValue) {\n    if (strValue.indexOf('.') === -1) {\n      if (typeof window[strValue] !== 'undefined') {\n        return window[strValue]\n      }\n    } else {\n      var arrParts = strValue.split('.')\n      var obj = arrParts[0]\n      var prop = arrParts[1]\n\n      if (typeof window[obj] !== 'undefined' && typeof window[obj][prop] !== 'undefined') {\n        return window[obj][prop]\n      }\n    }\n    // just a string\n    return strValue\n  },\n  getValue: function () {\n    if (this.imask_instance && this.dependenciesFulfilled && this.options.imask.returnUnmasked) {\n      return this.imask_instance.unmaskedValue\n    } else return this._super()\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    this.input.disabled = true\n    this._super()\n  },\n  afterInputReady: function () {\n    var self = this\n    self.theme.afterInputReady(self.input)\n    if (window.Cleave && !self.cleave_instance) self.setupCleave(self.input)\n    else if (window.IMask && !self.imask_instance) self.setupImask(self.input)\n  },\n  refreshValue: function () {\n    this.value = this.input.value\n    if (typeof this.value !== 'string') this.value = ''\n    this.serialized = this.value\n  },\n  destroy: function () {\n    if (this.cleave_instance) this.cleave_instance.destroy()\n    if (this.imask_instance) this.imask_instance.destroy()\n\n    this.template = null\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n\n    this._super()\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var vars\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues()\n      this.setValue(this.template(vars), false, true)\n    }\n\n    this._super()\n  },\n  showValidationErrors: function (errors) {\n    var self = this\n\n    if (this.jsoneditor.options.show_errors === 'always') {} else if (!this.is_dirty && this.previous_error_setting === this.jsoneditor.options.show_errors) return\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors\n\n    var messages = []\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message)\n      }\n    })\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.')\n    } else {\n      this.theme.removeInputError(this.input)\n    }\n  }\n})\n","import { ArrayEditor } from './array'\nimport { $extend, $each, $trigger } from '../utilities'\nexport var TableEditor = ArrayEditor.extend({\n\n  register: function () {\n    this._super()\n    if (this.rows) {\n      for (var i = 0; i < this.rows.length; i++) {\n        this.rows[i].register()\n      }\n    }\n  },\n  unregister: function () {\n    this._super()\n    if (this.rows) {\n      for (var i = 0; i < this.rows.length; i++) {\n        this.rows[i].unregister()\n      }\n    }\n  },\n  getNumColumns: function () {\n    return Math.max(Math.min(12, this.width), 3)\n  },\n  preBuild: function () {\n    var itemSchema = this.jsoneditor.expandRefs(this.schema.items || {})\n\n    this.item_title = itemSchema.title || 'row'\n    this.item_default = itemSchema['default'] || null\n    this.item_has_child_editors = itemSchema.properties || itemSchema.items\n    this.width = 12\n    this._super()\n  },\n  build: function () {\n    var self = this\n    this.table = this.theme.getTable()\n    this.container.appendChild(this.table)\n    this.thead = this.theme.getTableHead()\n    this.table.appendChild(this.thead)\n    this.header_row = this.theme.getTableRow()\n    this.thead.appendChild(this.header_row)\n    this.row_holder = this.theme.getTableBody()\n    this.table.appendChild(this.row_holder)\n\n    // Determine the default value of array element\n    var tmp = this.getElementEditor(0, true)\n    this.item_default = tmp.getDefault()\n    this.width = tmp.getNumColumns() + 2\n\n    if (!this.options.compact) {\n      this.header = document.createElement('label')\n      this.header.textContent = this.getTitle()\n      this.title = this.theme.getHeader(this.header)\n      this.container.appendChild(this.title)\n      this.title_controls = this.theme.getHeaderButtonHolder()\n      this.title.appendChild(this.title_controls)\n      if (this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description)\n        this.container.appendChild(this.description)\n      }\n      this.panel = this.theme.getIndentedPanel()\n      this.container.appendChild(this.panel)\n      this.error_holder = document.createElement('div')\n      this.panel.appendChild(this.error_holder)\n    } else {\n      this.panel = document.createElement('div')\n      this.container.appendChild(this.panel)\n    }\n\n    this.panel.appendChild(this.table)\n    this.controls = this.theme.getButtonHolder()\n    this.panel.appendChild(this.controls)\n\n    if (this.item_has_child_editors) {\n      var ce = tmp.getChildEditors()\n      var order = tmp.property_order || Object.keys(ce)\n      for (var i = 0; i < order.length; i++) {\n        var th = self.theme.getTableHeaderCell(ce[order[i]].getTitle())\n        if (ce[order[i]].options.hidden) th.style.display = 'none'\n        self.header_row.appendChild(th)\n      }\n    } else {\n      self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title))\n    }\n\n    tmp.destroy()\n    this.row_holder.innerHTML = ''\n\n    // Row Controls column\n    this.controls_header_cell = self.theme.getTableHeaderCell(' ')\n    self.header_row.appendChild(this.controls_header_cell)\n\n    // Add controls\n    this.addControls()\n  },\n  onChildEditorChange: function (editor) {\n    this.refreshValue()\n    this._super()\n  },\n  getItemDefault: function () {\n    return $extend({}, { 'default': this.item_default })['default']\n  },\n  getItemTitle: function () {\n    return this.item_title\n  },\n  getElementEditor: function (i, ignore) {\n    var schemaCopy = $extend({}, this.schema.items)\n    var editor = this.jsoneditor.getEditorClass(schemaCopy, this.jsoneditor)\n    var row = this.row_holder.appendChild(this.theme.getTableRow())\n    var holder = row\n    if (!this.item_has_child_editors) {\n      holder = this.theme.getTableCell()\n      row.appendChild(holder)\n    }\n\n    var ret = this.jsoneditor.createEditor(editor, {\n      jsoneditor: this.jsoneditor,\n      schema: schemaCopy,\n      container: holder,\n      path: this.path + '.' + i,\n      parent: this,\n      compact: true,\n      table_row: true\n    })\n\n    ret.preBuild()\n    if (!ignore) {\n      ret.build()\n      ret.postBuild()\n\n      ret.controls_cell = row.appendChild(this.theme.getTableCell())\n      ret.row = row\n      ret.table_controls = this.theme.getButtonHolder()\n      ret.controls_cell.appendChild(ret.table_controls)\n      ret.table_controls.style.margin = 0\n      ret.table_controls.style.padding = 0\n    }\n\n    return ret\n  },\n  destroy: function () {\n    this.innerHTML = ''\n    if (this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title)\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description)\n    if (this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder)\n    if (this.table && this.table.parentNode) this.table.parentNode.removeChild(this.table)\n    if (this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel)\n\n    this.rows = this.title = this.description = this.row_holder = this.table = this.panel = null\n\n    this._super()\n  },\n  setValue: function (value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || []\n\n    // Make sure value has between minItems and maxItems items in it\n    if (this.schema.minItems) {\n      while (value.length < this.schema.minItems) {\n        value.push(this.getItemDefault())\n      }\n    }\n    if (this.schema.maxItems && value.length > this.schema.maxItems) {\n      value = value.slice(0, this.schema.maxItems)\n    }\n\n    var serialized = JSON.stringify(value)\n    if (serialized === this.serialized) return\n\n    var numrowsChanged = false\n\n    var self = this\n    $each(value, function (i, val) {\n      if (self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val)\n      } else {\n        self.addRow(val)\n        numrowsChanged = true\n      }\n    })\n\n    for (var j = value.length; j < self.rows.length; j++) {\n      var holder = self.rows[j].container\n      if (!self.item_has_child_editors) {\n        self.rows[j].row.parentNode.removeChild(self.rows[j].row)\n      }\n      self.rows[j].destroy()\n      if (holder.parentNode) holder.parentNode.removeChild(holder)\n      self.rows[j] = null\n      numrowsChanged = true\n    }\n    self.rows = self.rows.slice(0, value.length)\n\n    self.refreshValue()\n    if (numrowsChanged || initial) self.refreshRowButtons()\n\n    self.onChange()\n\n    // TODO: sortable\n  },\n  refreshRowButtons: function () {\n    var self = this\n\n    // If we currently have minItems items in the array\n    var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length\n\n    var needRowButtons = false\n    $each(this.rows, function (i, editor) {\n      // Hide the move down button for the last row\n      if (editor.movedown_button) {\n        if (i === self.rows.length - 1) {\n          editor.movedown_button.style.display = 'none'\n        } else {\n          needRowButtons = true\n          editor.movedown_button.style.display = ''\n        }\n      }\n\n      // Hide the delete button if we have minItems items\n      if (editor.delete_button) {\n        if (minItems) {\n          editor.delete_button.style.display = 'none'\n        } else {\n          needRowButtons = true\n          editor.delete_button.style.display = ''\n        }\n      }\n\n      if (editor.moveup_button) {\n        needRowButtons = true\n      }\n    })\n\n    // Show/hide controls column in table\n    $each(this.rows, function (i, editor) {\n      if (needRowButtons) {\n        editor.controls_cell.style.display = ''\n      } else {\n        editor.controls_cell.style.display = 'none'\n      }\n    })\n    if (needRowButtons) {\n      this.controls_header_cell.style.display = ''\n    } else {\n      this.controls_header_cell.style.display = 'none'\n    }\n\n    var controlsNeeded = false\n\n    if (!this.value.length) {\n      this.delete_last_row_button.style.display = 'none'\n      this.remove_all_rows_button.style.display = 'none'\n      this.table.style.display = 'none'\n    } else if (this.value.length === 1) {\n      this.table.style.display = ''\n      this.remove_all_rows_button.style.display = 'none'\n\n      // If there are minItems items in the array, or configured to hide the delete_last_row button, hide the delete button beneath the rows\n      if (minItems || this.hide_delete_last_row_buttons) {\n        this.delete_last_row_button.style.display = 'none'\n      } else {\n        this.delete_last_row_button.style.display = ''\n        controlsNeeded = true\n      }\n    } else {\n      this.table.style.display = ''\n\n      if (minItems || this.hide_delete_last_row_buttons) {\n        this.delete_last_row_button.style.display = 'none'\n      } else {\n        this.delete_last_row_button.style.display = ''\n        controlsNeeded = true\n      }\n\n      if (minItems || this.hide_delete_all_rows_buttons) {\n        this.remove_all_rows_button.style.display = 'none'\n      } else {\n        this.remove_all_rows_button.style.display = ''\n        controlsNeeded = true\n      }\n    }\n\n    // If there are maxItems in the array, hide the add button beneath the rows\n    if ((this.schema.maxItems && this.schema.maxItems <= this.rows.length) || this.hide_add_button) {\n      this.add_row_button.style.display = 'none'\n    } else {\n      this.add_row_button.style.display = ''\n      controlsNeeded = true\n    }\n\n    if (!controlsNeeded) {\n      this.controls.style.display = 'none'\n    } else {\n      this.controls.style.display = ''\n    }\n  },\n  refreshValue: function () {\n    var self = this\n    this.value = []\n\n    $each(this.rows, function (i, editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue()\n    })\n    this.serialized = JSON.stringify(this.value)\n  },\n  addRow: function (value) {\n    var self = this\n    var i = this.rows.length\n\n    self.rows[i] = this.getElementEditor(i)\n\n    var controlsHolder = self.rows[i].table_controls\n\n    // Buttons to delete row, move row up, and move row down\n    if (!this.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton('', 'delete', this.translate('button_delete_row_title_short'))\n      self.rows[i].delete_button.classList.add('delete', 'json-editor-btntype-delete')\n      self.rows[i].delete_button.setAttribute('data-i', i)\n      self.rows[i].delete_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        if (!self.askConfirmation()) {\n          return false\n        }\n\n        var i = this.getAttribute('data-i') * 1\n\n        var value = self.getValue()\n\n        var newval = []\n        $each(value, function (j, row) {\n          if (j === i) return // If this is the one we're deleting\n          newval.push(row)\n        })\n        self.setValue(newval)\n        self.onChange(true)\n        self.jsoneditor.trigger('deleteRow', self.rows[i])\n      })\n      controlsHolder.appendChild(self.rows[i].delete_button)\n    }\n\n    if (i && !this.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('', 'moveup', this.translate('button_move_up_title'))\n      self.rows[i].moveup_button.classList.add('moveup', 'json-editor-btntype-move')\n      self.rows[i].moveup_button.setAttribute('data-i', i)\n      self.rows[i].moveup_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        var i = this.getAttribute('data-i') * 1\n\n        if (i <= 0) return\n        var rows = self.getValue()\n        var tmp = rows[i - 1]\n        rows[i - 1] = rows[i]\n        rows[i] = tmp\n\n        self.setValue(rows)\n        self.onChange(true)\n        self.jsoneditor.trigger('moveRow', self.rows[i - 1])\n      })\n      controlsHolder.appendChild(self.rows[i].moveup_button)\n    }\n\n    if (!this.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('', 'movedown', this.translate('button_move_down_title'))\n      self.rows[i].movedown_button.classList.add('movedown', 'json-editor-btntype-move')\n      self.rows[i].movedown_button.setAttribute('data-i', i)\n      self.rows[i].movedown_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        var i = this.getAttribute('data-i') * 1\n        var rows = self.getValue()\n        if (i >= rows.length - 1) return\n        var tmp = rows[i + 1]\n        rows[i + 1] = rows[i]\n        rows[i] = tmp\n\n        self.setValue(rows)\n        self.onChange(true)\n        self.jsoneditor.trigger('moveRow', self.rows[i + 1])\n      })\n      controlsHolder.appendChild(self.rows[i].movedown_button)\n    }\n\n    if (value) self.rows[i].setValue(value)\n  },\n  addControls: function () {\n    var self = this\n\n    this.collapsed = false\n    this.toggle_button = this.getButton('', 'collapse', this.translate('button_collapse'))\n    this.toggle_button.classList.add('json-editor-btntype-toggle')\n    this.toggle_button.style.margin = '0 10px 0 0'\n    if (this.title_controls) {\n      this.title.insertBefore(this.toggle_button, this.title.childNodes[0])\n      this.toggle_button.addEventListener('click', function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        if (self.collapsed) {\n          self.collapsed = false\n          self.panel.style.display = ''\n          self.setButtonText(this, '', 'collapse', self.translate('button_collapse'))\n        } else {\n          self.collapsed = true\n          self.panel.style.display = 'none'\n          self.setButtonText(this, '', 'expand', self.translate('button_expand'))\n        }\n      })\n\n      // If it should start collapsed\n      if (this.options.collapsed) {\n        $trigger(this.toggle_button, 'click')\n      }\n\n      // Collapse button disabled\n      if (this.schema.options && typeof this.schema.options.disable_collapse !== 'undefined') {\n        if (this.schema.options.disable_collapse) this.toggle_button.style.display = 'none'\n      } else if (this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none'\n      }\n    }\n\n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(), 'add', this.translate('button_add_row_title', [this.getItemTitle()]))\n    this.add_row_button.classList.add('json-editor-btntype-add')\n    this.add_row_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      var editor = self.addRow()\n      self.refreshValue()\n      self.refreshRowButtons()\n      self.onChange(true)\n      self.jsoneditor.trigger('addRow', editor)\n    })\n    self.controls.appendChild(this.add_row_button)\n\n    this.delete_last_row_button = this.getButton(this.translate('button_delete_last', [this.getItemTitle()]), 'subtract', this.translate('button_delete_last_title', [this.getItemTitle()]))\n    this.delete_last_row_button.classList.add('json-editor-btntype-deletelast')\n    this.delete_last_row_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      if (!self.askConfirmation()) {\n        return false\n      }\n\n      var rows = self.getValue()\n      var editor = rows.pop()\n      self.setValue(rows)\n      self.onChange(true)\n      self.jsoneditor.trigger('deleteRow', editor)\n    })\n    self.controls.appendChild(this.delete_last_row_button)\n\n    this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'), 'delete', this.translate('button_delete_all_title'))\n    this.remove_all_rows_button.classList.add('json-editor-btntype-deleteall')\n    this.remove_all_rows_button.addEventListener('click', function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      if (!self.askConfirmation()) {\n        return false\n      }\n\n      self.setValue([])\n      self.onChange(true)\n      self.jsoneditor.trigger('deleteAllRows')\n    })\n    self.controls.appendChild(this.remove_all_rows_button)\n  }\n})\n","import { AbstractEditor } from '../editor'\nimport { $extend } from '../utilities'\n\nexport var UploadEditor = AbstractEditor.extend({\n\n  getNumColumns: function () {\n    return 4\n  },\n  build: function () {\n    var self = this\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(), this.isRequired())\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description)\n    if (this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText)\n\n    // Editor options\n    this.options = this.expandCallbacks('upload', $extend({}, {\n      'title': 'Browse',\n      'icon': '',\n      'auto_upload': false, // Trigger file upload button automatically\n      'hide_input': false, // Hide the Browse button and name display (Only works if 'enable_drag_drop' is true)\n      'enable_drag_drop': false, // Enable Drag&Drop uploading\n      'drop_zone_text': 'Drag & Drop file here', // Text displayed in dropzone box\n      'drop_zone_top': false, // Position of dropzone. true=before button input, false=after button input\n      'alt_drop_zone': '', // Alternate DropZone DOM selector (Can be created inside another property)\n      'mime_type': '', // If set, restricts to mime type(s). Can be either a string or an array\n      'max_upload_size': 0, // Maximum file size allowed. 0 = no limit\n      'upload_handler': function (jseditor, type, file, cbs) {\n        // Default dummy test upload handler\n        window.alert('No upload_handler defined for \"' + jseditor.path + '\". You must create your own handler to enable upload to server')\n      }.bind(null, this)\n    }, this.defaults.options.upload || {}, this.options.upload || {}))\n\n    this.options.mime_type = this.options.mime_type ? [].concat(this.options.mime_type) : []\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden')\n    this.container.appendChild(this.input)\n\n    // Don't show uploader if this is readonly\n    if (!this.schema.readOnly && !this.schema.readonly) {\n      if (typeof this.options.upload_handler !== 'function') throw new Error('Upload handler required for upload editor')\n\n      // File uploader\n      this.uploader = this.theme.getFormInputField('file')\n      this.uploader.style.display = 'none'\n      if (this.options.mime_type.length) this.uploader.setAttribute('accept', this.options.mime_type)\n\n      if (!(this.options.enable_drag_drop === true && this.options.hide_input === true)) {\n        // Pass click to this.uploader element\n        this.clickHandler = function (e) {\n          self.uploader.dispatchEvent(new window.MouseEvent('click', {\n            'view': window,\n            'bubbles': true,\n            'cancelable': false\n          }))\n        }\n\n        // Browse button\n        this.browseButton = this.getButton(this.options.title, this.options.icon, this.options.title)\n        this.browseButton.addEventListener('click', this.clickHandler)\n\n        // Display field\n        this.fileDisplay = this.theme.getFormInputField('input')\n        this.fileDisplay.setAttribute('readonly', true)\n        this.fileDisplay.value = 'No file selected.'\n        this.fileDisplay.addEventListener('dblclick', this.clickHandler)\n\n        this.fileUploadGroup = this.theme.getInputGroup(this.fileDisplay, [this.browseButton])\n        if (!this.fileUploadGroup) {\n          // Themes that doesn't support input grouping\n          this.fileUploadGroup = document.createElement('div')\n          this.fileUploadGroup.appendChild(this.fileDisplay)\n          this.fileUploadGroup.appendChild(this.browseButton)\n        }\n      }\n\n      // Drag&Drop upload enabled\n      if (this.options.enable_drag_drop === true) {\n        // Alternate DropZone defined\n        if (this.options.alt_drop_zone !== '') {\n          this.altDropZone = document.querySelector(this.options.alt_drop_zone)\n          if (this.altDropZone) this.dropZone = this.altDropZone\n          else throw new Error('Error: alt_drop_zone selector \"' + this.options.alt_drop_zone + '\" not found!')\n        } else this.dropZone = this.theme.getDropZone(this.options.drop_zone_text)\n\n        if (this.dropZone) {\n          this.dropZone.classList.add('upload-dropzone')\n          this.dropZone.addEventListener('dblclick', this.clickHandler)\n        }\n      }\n\n      // Triggered after file have been selected\n      this.uploadHandler = function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        var files = e.target.files || e.dataTransfer.files\n        if (files && files.length) {\n          if (self.options.max_upload_size !== 0 && files[0].size > self.options.max_upload_size) {\n            self.theme.addInputError(self.uploader, 'Filesize too large. Max size is ' + self.options.max_upload_size)\n          } else if (self.options.mime_type.length !== 0 && !self.isValidMimeType(files[0].type, self.options.mime_type)) {\n            self.theme.addInputError(self.uploader, 'Wrong file format. Allowed format(s): ' + self.options.mime_type.toString())\n          } else {\n            if (self.fileDisplay) self.fileDisplay.value = files[0].name\n            var fr = new window.FileReader()\n            fr.onload = function (evt) {\n              self.preview_value = evt.target.result\n              self.refreshPreview(e)\n              self.onChange(true)\n              fr = null\n            }\n            fr.readAsDataURL(files[0])\n          }\n        }\n      }\n\n      this.uploader.addEventListener('change', this.uploadHandler)\n\n      // Drag&Drop Event Handler\n      this.dragHandler = function (e) {\n        var files = e.dataTransfer.items || e.dataTransfer.files\n        var validType = files && files.length && (self.options.mime_type.length === 0 || self.isValidMimeType(files[0].type, self.options.mime_type))\n        var validZone = e.currentTarget.classList && e.currentTarget.classList.contains('upload-dropzone') && validType\n        switch ((this === window ? 'w_' : 'e_') + e.type) {\n          case 'w_drop':\n          case 'w_dragover':\n            // prevent default browser action if dropped outside dropzone\n            if (!validZone) e.dataTransfer.dropEffect = 'none'\n            break\n          case 'e_dragenter': {\n            if (validZone) {\n              self.dropZone.classList.add('valid-dropzone')\n              e.dataTransfer.dropEffect = 'copy'\n            } else self.dropZone.classList.add('invalid-dropzone')\n            break\n          }\n          case 'e_dragover': {\n            if (validZone) e.dataTransfer.dropEffect = 'copy'\n            break\n          }\n          case 'e_dragleave':\n            self.dropZone.classList.remove('valid-dropzone', 'invalid-dropzone')\n            break\n          case 'e_drop': {\n            self.dropZone.classList.remove('valid-dropzone', 'invalid-dropzone')\n            if (validZone) self.uploadHandler(e)\n            break\n          }\n        }\n        if (!validZone) e.preventDefault()\n      }\n\n      // Set Drag'n'Drop handlers\n      if (this.options.enable_drag_drop === true) {\n        ['dragover', 'drop'].forEach(function (ev) {\n          window.addEventListener(ev, self.dragHandler, true)\n        });\n        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(function (ev) {\n          self.dropZone.addEventListener(ev, self.dragHandler, true)\n        })\n      }\n    }\n\n    this.preview = document.createElement('div')\n\n    this.control = this.input.controlgroup = this.theme.getFormControl(this.label, this.uploader || this.input, this.description, this.infoButton)\n    if (this.uploader) this.uploader.controlgroup = this.control\n    var inputNode = this.uploader || this.input\n    var elements = document.createElement('div')\n\n    if (this.dropZone && !this.altDropZone && this.options.drop_zone_top === true) elements.appendChild(this.dropZone)\n    if (this.fileUploadGroup) elements.appendChild(this.fileUploadGroup)\n    if (this.dropZone && !this.altDropZone && this.options.drop_zone_top !== true) elements.appendChild(this.dropZone)\n    elements.appendChild(this.preview)\n    inputNode.parentNode.insertBefore(elements, inputNode.nextSibling)\n\n    this.container.appendChild(this.control)\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      self.afterInputReady()\n    })\n  },\n  afterInputReady: function () {\n    var self = this\n    if (self.value) {\n      var img = document.createElement('img')\n      img.style.maxWidth = '100%'\n      img.style.maxHeight = '100px'\n      img.onload = function (event) {\n        self.preview.appendChild(img)\n      }\n      img.onerror = function (error) {\n        console.error('upload error', error, this)\n      }\n      img.src = self.container.querySelector('a').href\n    }\n    self.theme.afterInputReady(self.input)\n  },\n  refreshPreview: function (e) {\n    if (this.last_preview === this.preview_value) return\n    this.last_preview = this.preview_value\n\n    this.preview.innerHTML = ''\n\n    if (!this.preview_value) return\n\n    var self = this\n\n    var files = e.target.files || e.dataTransfer.files\n    var file = files[0]\n\n    // mime type extracted from file data. More exact than the one in the file object\n    var mime = this.preview_value.match(/^data:([^;,]+)[;,]/)\n    file.mimeType = mime ? mime[1] : 'unknown'\n\n    if (file.size > 0) {\n      // Format bytes as KB/MB etc. with 2 decimals\n      var i = Math.floor(Math.log(file.size) / Math.log(1024))\n      file.formattedSize = parseFloat((file.size / Math.pow(1024, i)).toFixed(2)) + ' ' + ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i]\n    } else file.formattedSize = '0 Bytes'\n\n    var uploadButton = this.getButton('Upload', 'upload', 'Upload')\n    uploadButton.addEventListener('click', function (event) {\n      event.preventDefault()\n\n      uploadButton.setAttribute('disabled', 'disabled')\n      self.theme.removeInputError(self.uploader)\n\n      if (self.theme.getProgressBar) {\n        self.progressBar = self.theme.getProgressBar()\n        self.preview.appendChild(self.progressBar)\n      }\n\n      self.options.upload_handler(self.path, file, {\n        success: function (url) {\n          self.setValue(url)\n\n          if (self.parent) self.parent.onChildEditorChange(self)\n          else self.jsoneditor.onChange()\n\n          if (self.progressBar) self.preview.removeChild(self.progressBar)\n          uploadButton.removeAttribute('disabled')\n        },\n        failure: function (error) {\n          self.theme.addInputError(self.uploader, error)\n          if (self.progressBar) self.preview.removeChild(self.progressBar)\n          uploadButton.removeAttribute('disabled')\n        },\n        updateProgress: function (progress) {\n          if (self.progressBar) {\n            if (progress) self.theme.updateProgressBar(self.progressBar, progress)\n            else self.theme.updateProgressBarUnknown(self.progressBar)\n          }\n        }\n      })\n    })\n\n    this.preview.appendChild(this.theme.getUploadPreview(file, uploadButton, this.preview_value))\n\n    if (this.options.auto_upload) {\n      uploadButton.dispatchEvent(new window.MouseEvent('click'))\n      this.preview.removeChild(uploadButton)\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      if (this.uploader) this.uploader.disabled = false\n      this._super()\n    }\n  },\n  disable: function (alwaysDisabled) {\n    if (alwaysDisabled) this.always_disabled = true\n    if (this.uploader) this.uploader.disabled = true\n    this._super()\n  },\n  setValue: function (val) {\n    if (this.value !== val) {\n      this.value = val\n      this.input.value = this.value\n      this.onChange()\n    }\n  },\n  destroy: function () {\n    var self = this\n    // Remove Drag'n'Drop handlers\n    if (this.options.enable_drag_drop === true) {\n      ['dragover', 'drop'].forEach(function (ev) {\n        window.removeEventListener(ev, self.dragHandler, true)\n      });\n      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(function (ev) {\n        self.dropZone.removeEventListener(ev, self.dragHandler, true)\n      })\n      this.dropZone.removeEventListener('dblclick', this.clickHandler)\n      if (this.dropZone && this.dropZone.parentNode) this.dropZone.parentNode.removeChild(this.dropZone)\n    }\n\n    if (this.uploader && this.uploader.parentNode) {\n      this.uploader.removeEventListener('change', this.uploadHandler)\n      this.uploader.parentNode.removeChild(this.uploader)\n    }\n    if (this.browseButton && this.browseButton.parentNode) {\n      this.browseButton.removeEventListener('click', this.clickHandler)\n      this.browseButton.parentNode.removeChild(this.browseButton)\n    }\n    if (this.fileDisplay && this.fileDisplay.parentNode) {\n      this.fileDisplay.removeEventListener('dblclick', this.clickHandler)\n      this.fileDisplay.parentNode.removeChild(this.fileDisplay)\n    }\n    if (this.fileUploadGroup && this.fileUploadGroup.parentNode) this.fileUploadGroup.parentNode.removeChild(this.fileUploadGroup)\n    if (this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview)\n    if (this.header && this.header.parentNode) this.header.parentNode.removeChild(this.header)\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input)\n\n    this._super()\n  },\n  isValidMimeType: function (mimeType, mimeTypesList) {\n    return mimeTypesList.reduce(function (a, v) {\n      return a || new RegExp(v.replace(/\\*/g, '.*'), 'gi').test(mimeType)\n    }, false)\n  }\n})\n","import { AbstractEditor } from '../editor'\n\nexport var UuidEditor = AbstractEditor.extend({\n\n  preBuild: function () {\n    this._super()\n\n    // Use Schema \"default\" for setting autogenerated uuid\n    this.schema['default'] = this.uuid = this.getUuid()\n\n    // Force pattern validation\n    this.jsoneditor.validator.schema.properties[this.key].pattern = this.schema.pattern = '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$'\n\n    // Set cleave options if no existing options is present\n    if (!this.schema.options) this.schema.options = {}\n    if (!this.schema.options.cleave) {\n      this.schema.options.cleave = {\n        delimiters: ['-'],\n        blocks: [8, 4, 4, 4, 12]\n      }\n    }\n\n    // Set field to readonly and hide field, label and description\n    // this.schema.readonly = this.options.compact = this.options.hidden = true;\n  },\n  sanitize: function (value) {\n    if (!this.testUuid(value)) value = this.uuid\n    return value\n  },\n  setValue: function (value, initial, fromTemplate) {\n    if (!this.testUuid(value)) value = this.uuid\n    this.uuid = value\n    this._super(value, initial, fromTemplate)\n  },\n  getUuid: function () {\n    // https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n    var d = new Date().getTime()\n    // eslint-disable-next-line no-undef\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n      // eslint-disable-next-line no-undef\n      d += performance.now() // use high-precision timer if available\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = (d + Math.random() * 16) % 16 | 0\n      d = Math.floor(d / 16)\n      return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16)\n    })\n  },\n  testUuid: function (value) {\n    return (/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(value))\n  }\n})\n","import { Class } from './class'\n\nexport var AbstractIconLib = Class.extend({\n  mapping: {\n    collapse: '',\n    expand: '',\n    'delete': '',\n    edit: '',\n    add: '',\n    cancel: '',\n    save: '',\n    moveup: '',\n    movedown: ''\n  },\n  icon_prefix: '',\n  getIconClass: function (key) {\n    if (this.mapping[key]) return this.icon_prefix + this.mapping[key]\n    else return null\n  },\n  getIcon: function (key) {\n    var iconclass = this.getIconClass(key)\n\n    if (!iconclass) return null\n\n    var i = document.createElement('i')\n    i.classList.add.apply(i.classList, iconclass.split(' '))\n\n    return i\n  }\n})\n","import { AbstractIconLib } from '../iconlib'\n\nexport var fontawesome3Iconlib = AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    'delete': 'trash',\n    edit: 'pencil',\n    add: 'plus',\n    subtract: 'minus',\n    cancel: 'ban-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    moveright: 'arrow-right',\n    movedown: 'arrow-down',\n    moveleft: 'arrow-left',\n    copy: 'copy',\n    clear: 'remove-circle',\n    time: 'time',\n    calendar: 'calendar',\n    edit_properties: 'list'\n  },\n  icon_prefix: 'icon-'\n})\n","import { AbstractIconLib } from '../iconlib'\n\nexport var fontawesome4Iconlib = AbstractIconLib.extend({\n  mapping: {\n    collapse: 'caret-square-o-down',\n    expand: 'caret-square-o-right',\n    'delete': 'times',\n    edit: 'pencil',\n    add: 'plus',\n    subtract: 'minus',\n    cancel: 'ban',\n    save: 'save',\n    moveup: 'arrow-up',\n    moveright: 'arrow-right',\n    movedown: 'arrow-down',\n    moveleft: 'arrow-left',\n    copy: 'files-o',\n    clear: 'times-circle-o',\n    time: 'clock-o',\n    calendar: 'calendar',\n    edit_properties: 'list'\n  },\n  icon_prefix: 'fa fa-'\n})\n","import { AbstractIconLib } from '../iconlib'\n\nexport var fontawesome5Iconlib = AbstractIconLib.extend({\n  mapping: {\n    collapse: 'caret-down',\n    expand: 'caret-right',\n    'delete': 'trash',\n    edit: 'pen',\n    add: 'plus',\n    subtract: 'minus',\n    cancel: 'ban',\n    save: 'save',\n    moveup: 'arrow-up',\n    moveright: 'arrow-right',\n    movedown: 'arrow-down',\n    moveleft: 'arrow-left',\n    copy: 'copy',\n    clear: 'times-circle',\n    time: 'clock',\n    calendar: 'calendar',\n    edit_properties: 'list'\n  },\n  icon_prefix: 'fas fa-'\n})\n","import { AbstractIconLib } from '../iconlib'\n\nexport var jqueryuiIconlib = AbstractIconLib.extend({\n  mapping: {\n    collapse: 'triangle-1-s',\n    expand: 'triangle-1-e',\n    'delete': 'trash',\n    edit: 'pencil',\n    add: 'plusthick',\n    subtract: 'minusthick',\n    cancel: 'closethick',\n    save: 'disk',\n    moveup: 'arrowthick-1-n',\n    moveright: 'arrowthick-1-e',\n    movedown: 'arrowthick-1-s',\n    moveleft: 'arrowthick-1-w',\n    copy: 'copy',\n    clear: 'circle-close',\n    time: 'time',\n    calendar: 'calendar',\n    edit_properties: 'note'\n  },\n  icon_prefix: 'ui-icon ui-icon-'\n})\n","import { AbstractIconLib } from '../iconlib'\n\nexport var spectreIconlib = AbstractIconLib.extend({\n  mapping: {\n    collapse: 'arrow-down',\n    expand: 'arrow-right',\n    'delete': 'delete',\n    edit: 'edit',\n    add: 'plus',\n    subtract: 'minus',\n    cancel: 'cross',\n    save: 'check',\n    moveup: 'upward',\n    moveright: 'forward',\n    movedown: 'downward',\n    moveleft: 'back',\n    copy: 'copy',\n    clear: 'close',\n    time: 'time',\n    calendar: 'bookmark',\n    edit_properties: 'menu'\n  },\n  icon_prefix: 'icon icon-'\n})\n","import { Class } from './class'\nimport { $extend } from './utilities'\n\nexport const SchemaLoader = Class.extend({\n  init: function (options) {\n    this.options = options || {}\n    this.refs = this.options.refs || {}\n    this.refs_with_info = {}\n    this.refs_prefix = '#/counter/'\n    this.refs_counter = 1\n  },\n\n  load: function (schema, callback, fetchUrl, location) {\n    this._loadExternalRefs(schema, () => {\n      this._getDefinitions(schema, fetchUrl + '#/definitions/')\n      callback(this.expandRefs(schema))\n    }, fetchUrl, this._getFileBase(location))\n  },\n  expandRefs: function (schema, recurseAllOf) {\n    const _schema = $extend({}, schema)\n    if (!_schema.$ref) return _schema\n\n    const refObj = this.refs_with_info[_schema.$ref]\n    delete _schema.$ref\n    const fetchUrl = refObj.$ref.startsWith('#')\n      ? refObj.fetchUrl\n      : ''\n    const ref = this._getRef(fetchUrl, refObj)\n    if (!this.refs[ref]) { // if reference not found\n      console.warn(\"reference:'\" + ref + \"' not found!\")\n    } else if (recurseAllOf && this.refs[ref].hasOwnProperty('allOf')) {\n      const allOf = this.refs[ref].allOf\n      Object.keys(allOf).forEach(key => {\n        allOf[key] = this.expandRefs(allOf[key], true)\n      })\n    }\n    return this.extendSchemas(_schema, this.expandSchema(this.refs[ref]))\n  },\n  expandSchema: function (schema, fileBase) {\n    Object.entries(this._subSchema1).forEach(([key, func]) => {\n      if (schema[key]) {\n        func.call(this, schema)\n      }\n    })\n\n    let extended = $extend({}, schema)\n\n    Object.entries(this._subSchema2).forEach(([key, func]) => {\n      if (schema[key]) {\n        extended = func.call(this, schema, extended)\n      }\n    })\n\n    return this.expandRefs(extended)\n  },\n  _subSchema1: {\n    // Version 3 `type`\n    type: function (schema) {\n      if (typeof schema.type === 'object') {\n        schema.type = this._expandSubSchema(schema.type)\n      }\n    },\n    // Version 3 `disallow`\n    disallow: function (schema) {\n      if (typeof schema.disallow === 'object') {\n        schema.disallow = this._expandSubSchema(schema.disallow)\n      }\n    },\n    // Version 4 `anyOf`\n    anyOf: function (schema) {\n      Object.entries(schema.anyOf).forEach(([key, value]) => {\n        schema.anyOf[key] = this.expandSchema(value)\n      })\n    },\n    // Version 4 `dependencies` (schema dependencies)\n    dependencies: function (schema) {\n      Object.entries(schema.dependencies).forEach(([key, value]) => {\n        if (typeof value === 'object' && !(Array.isArray(value))) {\n          schema.dependencies[key] = this.expandSchema(value)\n        }\n      })\n    },\n    // Version 4 `not`\n    not: function (schema) {\n      schema.not = this.expandSchema(schema.not)\n    }\n  },\n  _subSchema2: {\n    // allOf schemas should be merged into the parent\n    allOf: function (schema, extended) {\n      let _extended = $extend({}, extended)\n      Object.entries(schema.allOf).forEach(([key, value]) => {\n        schema.allOf[key] = this.expandRefs(value, true)\n        _extended = this.extendSchemas(_extended, this.expandSchema(value))\n      })\n      delete _extended.allOf\n      return _extended\n    },\n    // extends schemas should be merged into parent\n    extends: function (schema, extended) {\n      let _extended\n      // If extends is a schema\n      if (!(Array.isArray(schema.extends))) {\n        _extended = this.extendSchemas(extended, this.expandSchema(schema.extends))\n      } else {\n        // If extends is an array of schemas\n        _extended = schema.extends.reduce((e, s, i) => {\n          return this.extendSchemas(e, this.expandSchema(s))\n        }, extended)\n      }\n      delete _extended.extends\n      return _extended\n    },\n    // parent should be merged into oneOf schemas\n    oneOf: function (schema, extended) {\n      const tmp = $extend({}, extended)\n      delete tmp.oneOf\n      schema.oneOf.reduce((e, s, i) => {\n        e.oneOf[i] = this.extendSchemas(this.expandSchema(s), tmp)\n        return e\n      }, extended)\n      return extended\n    }\n  },\n  _getRef: function (fetchUrl, refObj) {\n    const ref = fetchUrl + refObj\n    return this.refs[ref]\n      ? ref\n      : fetchUrl + decodeURIComponent(refObj.$ref)\n  },\n  _expandSubSchema: function (subschema) {\n    // Array of types\n    if (Array.isArray(subschema)) {\n      return subschema.map(m =>\n        typeof value === 'object'\n          ? this.expandSchema(m)\n          : m)\n    } else {\n      // Schema\n      return this.expandSchema(subschema)\n    }\n  },\n  _getDefinitions: function (schema, path) {\n    if (schema.definitions) {\n      Object.keys(schema.definitions).forEach(i => {\n        this.refs[path + i] = schema.definitions[i]\n        if (schema.definitions[i].definitions) {\n          this._getDefinitions(schema.definitions[i], path + i + '/definitions/')\n        }\n      })\n    }\n  },\n  _getExternalRefs: function (schema, fetchUrl) {\n    const refs = {}\n    const mergeRefs = newrefs => {\n      Object.keys(newrefs).forEach(i => {\n        refs[i] = true\n      })\n    }\n\n    if (schema.$ref && typeof schema.$ref !== 'object') {\n      const refCounter = this.refs_prefix + this.refs_counter++\n      if (schema.$ref.substr(0, 1) !== '#' && !this.refs[schema.$ref]) {\n        refs[schema.$ref] = true\n      }\n      this.refs_with_info[refCounter] = { fetchUrl: fetchUrl, $ref: schema.$ref }\n      schema.$ref = refCounter\n    }\n\n    Object.values(schema).forEach(value => {\n      if (!value || typeof value !== 'object') return\n      if (Array.isArray(value)) {\n        Object.values(value).forEach(e => {\n          if (e && typeof e === 'object') {\n            mergeRefs(this._getExternalRefs(e, fetchUrl))\n          }\n        })\n      } else {\n        mergeRefs(this._getExternalRefs(value, fetchUrl))\n      }\n    })\n    return refs\n  },\n  _getFileBase: function (location) {\n    let fileBase = this.options.ajaxBase\n    if (typeof fileBase === 'undefined') {\n      fileBase = this._getFileBaseFromFileLocation(location)\n    }\n    return fileBase\n  },\n  _getFileBaseFromFileLocation: function (fileLocationString) {\n    const pathItems = fileLocationString.split('/')\n    pathItems.pop()\n    return pathItems.join('/') + '/'\n  },\n  _isLocalUrl: function (url, fileBase) {\n    return fileBase !== url.substr(0, fileBase.length) &&\n      url.substr(0, 4) !== 'http' &&\n      url.substr(0, 1) !== '/'\n  },\n  _loadExternalRefs: function (schema, callback, fetchUrl, fileBase) {\n    const refs = this._getExternalRefs(schema, fetchUrl)\n    let done = 0; let waiting = 0; let callbackFired = false\n\n    Object.keys(refs).forEach(url => {\n      if (this.refs[url]) return\n      if (!this.options.ajax) throw new Error('Must set ajax option to true to load external ref ' + url)\n      this.refs[url] = 'loading'\n      waiting++\n\n      const fetchUrl = this._isLocalUrl(fileBase, url) ? fileBase + url : url\n\n      // eslint-disable-next-line no-undef\n      const r = new XMLHttpRequest()\n      r.overrideMimeType('application/json')\n      r.open('GET', fetchUrl, true)\n      if (this.options.ajaxCredentials) r.withCredentials = this.options.ajaxCredentials\n      r.onreadystatechange = () => {\n        if (r.readyState !== 4) return\n        // Request succeeded\n        if (r.status === 200) {\n          let response\n          try {\n            response = JSON.parse(r.responseText)\n          } catch (e) {\n            window.console.log(e)\n            throw new Error('Failed to parse external ref ' + fetchUrl)\n          }\n          if (!(typeof response === 'boolean' || typeof response === 'object') || response === null || Array.isArray(response)) {\n            throw new Error('External ref does not contain a valid schema - ' + fetchUrl)\n          }\n\n          this.refs[url] = response\n          const fileBase = this._getFileBaseFromFileLocation(fetchUrl)\n          this._getDefinitions(response, fetchUrl + '#/definitions/')\n          this._loadExternalRefs(response, () => {\n            done++\n            if (done >= waiting && !callbackFired) {\n              callbackFired = true\n              callback()\n            }\n          }, fetchUrl, fileBase)\n        } else {\n          // Request failed\n          window.console.log(r)\n          throw new Error('Failed to fetch ref via ajax- ' + url)\n        }\n      }\n      r.send()\n    })\n\n    if (!waiting) {\n      callback()\n    }\n  },\n  extendSchemas: function (obj1, obj2) {\n    obj1 = $extend({}, obj1)\n    obj2 = $extend({}, obj2)\n\n    const extended = {}\n    const isRequiredOrDefaultProperties = (prop, val) => (prop === 'required' || prop === 'defaultProperties') && typeof val === 'object' && Array.isArray(val)\n    const merge = (prop, val) => {\n      // Required and defaultProperties arrays should be unioned together\n      if (isRequiredOrDefaultProperties(prop, val)) {\n        // Union arrays and unique\n        extended[prop] = val.concat(obj2[prop]).reduce((p, c) => {\n          if (p.indexOf(c) < 0) p.push(c)\n          return p\n        }, [])\n      } else if (prop === 'type' && (typeof val === 'string' || Array.isArray(val))) {\n        mergeType(val)\n      } else if (typeof val === 'object' && !Array.isArray(val) && val !== null) {\n        // Objects should be recursively merged\n        extended[prop] = this.extendSchemas(val, obj2[prop])\n      } else {\n        // Otherwise, use the first value\n        extended[prop] = val\n      }\n    }\n    const mergeType = (val) => {\n      // Type should be intersected and is either an array or string\n      // Make sure we're dealing with arrays\n      if (typeof val === 'string') val = [val]\n      if (typeof obj2.type === 'string') obj2.type = [obj2.type]\n\n      // If type is only defined in the first schema, keep it\n      if (!obj2.type || !obj2.type.length) {\n        extended.type = val\n      } else {\n        // If type is defined in both schemas, do an intersect\n        extended.type = val.filter(n => obj2.type.indexOf(n) !== -1)\n      }\n\n      // If there's only 1 type and it's a primitive, use a string instead of array\n      if (extended.type.length === 1 && typeof extended.type[0] === 'string') {\n        extended.type = extended.type[0]\n      } else if (extended.type.length === 0) {\n        // Remove the type property if it's empty\n        delete extended.type\n      }\n    }\n    Object.entries(obj1).forEach(([prop, val]) => {\n      // If this key is also defined in obj2, merge them\n      if (typeof obj2[prop] !== 'undefined') {\n        merge(prop, val)\n      } else {\n        // Otherwise, just use the one in obj1\n        extended[prop] = val\n      }\n    })\n    // Properties in obj2 that aren't in obj1\n    Object.entries(obj2).forEach(([prop, val]) => {\n      if (typeof obj1[prop] === 'undefined') {\n        extended[prop] = val\n      }\n    })\n    return extended\n  }\n})\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./choices.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./starrating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","export var defaultTemplate = function () {\n  return {\n    compile: function (template) {\n      var matches = template.match(/{{\\s*([a-zA-Z0-9\\-_ .]+)\\s*}}/g)\n      var l = matches && matches.length\n\n      // Shortcut if the template contains no variables\n      if (!l) return function () { return template }\n\n      // Pre-compute the search/replace functions\n      // This drastically speeds up template execution\n      var replacements = []\n      var getReplacement = function (i) {\n        var p = matches[i].replace(/[{}]+/g, '').trim().split('.')\n        var n = p.length\n        var func\n\n        if (n > 1) {\n          var cur\n          func = function (vars) {\n            cur = vars\n            for (i = 0; i < n; i++) {\n              cur = cur[p[i]]\n              if (!cur) break\n            }\n            return cur\n          }\n        } else {\n          p = p[0]\n          func = function (vars) {\n            return vars[p]\n          }\n        }\n\n        replacements.push({\n          s: matches[i],\n          r: func\n        })\n      }\n      for (var i = 0; i < l; i++) {\n        getReplacement(i)\n      }\n\n      // The compiled function\n      return function (vars) {\n        var ret = template + ''\n        var r\n        for (i = 0; i < l; i++) {\n          r = replacements[i]\n          ret = ret.replace(r.s, r.r(vars))\n        }\n        return ret\n      }\n    }\n  }\n}\n","export var ejsTemplate = function () {\n  if (!window.EJS) return false\n\n  return {\n    compile: function (template) {\n      var compiled = new window.EJS({\n        text: template\n      })\n\n      return function (context) {\n        return compiled.render(context)\n      }\n    }\n  }\n}\n","export var handlebarsTemplate = function () {\n  return window.Handlebars\n}\n","export var hoganTemplate = function () {\n  if (!window.Hogan) return false\n\n  return {\n    compile: function (template) {\n      var compiled = window.Hogan.compile(template)\n      return function (context) {\n        return compiled.render(context)\n      }\n    }\n  }\n}\n","export var lodashTemplate = function () {\n  if (!window._) return false\n\n  return {\n    compile: function (template) {\n      return function (context) {\n        return window._.template(template)(context)\n      }\n    }\n  }\n}\n","export var markupTemplate = function () {\n  if (!window.Mark || !window.Mark.up) return false\n\n  return {\n    compile: function (template) {\n      return function (context) {\n        return window.Mark.up(template, context)\n      }\n    }\n  }\n}\n","export var mustacheTemplate = function () {\n  if (!window.Mustache) return false\n\n  return {\n    compile: function (template) {\n      return function (view) {\n        return window.Mustache.render(template, view)\n      }\n    }\n  }\n}\n","export var swigTemplate = function () {\n  return window.swig\n}\n","export var underscoreTemplate = function () {\n  if (!window._) return false\n\n  return {\n    compile: function (template) {\n      return function (context) {\n        return window._.template(template)(context)\n      }\n    }\n  }\n}\n","\nimport { Class } from './class'\n\nvar matchKey = (function () {\n  var elem = document.documentElement\n\n  if (elem.matches) return 'matches'\n  else if (elem.webkitMatchesSelector) return 'webkitMatchesSelector'\n  else if (elem.mozMatchesSelector) return 'mozMatchesSelector'\n  else if (elem.msMatchesSelector) return 'msMatchesSelector'\n  else if (elem.oMatchesSelector) return 'oMatchesSelector'\n})()\n\nexport var AbstractTheme = Class.extend({\n\n  init: function (jsoneditor) {\n    this.jsoneditor = jsoneditor\n  },\n\n  /* Theme config options that allows changing various aspects of the output */\n  options: {\n    'disable_theme_rules': false\n  },\n  /* Custom stylesheet rules. format: \"selector\" : \"CSS rules\" */\n  rules: {\n    '.je-upload-preview img': 'float:left;margin:0 0.5rem 0.5rem 0;max-width:100%;max-height:100px'\n  },\n  getContainer: function () {\n    return document.createElement('div')\n  },\n  getFloatRightLinkHolder: function () {\n    var el = document.createElement('div')\n    el.style = el.style || {}\n    el.style.cssFloat = 'right'\n    el.style.marginLeft = '10px'\n    return el\n  },\n  getModal: function () {\n    var el = document.createElement('div')\n    el.style.backgroundColor = 'white'\n    el.style.border = '1px solid black'\n    el.style.boxShadow = '3px 3px black'\n    el.style.position = 'absolute'\n    el.style.zIndex = '10'\n    el.style.display = 'none'\n    return el\n  },\n  getGridContainer: function () {\n    var el = document.createElement('div')\n    return el\n  },\n  getGridRow: function () {\n    var el = document.createElement('div')\n    el.classList.add('row')\n    return el\n  },\n  getGridColumn: function () {\n    var el = document.createElement('div')\n    return el\n  },\n  setGridColumnSize: function (el, size) {\n\n  },\n  getLink: function (text) {\n    var el = document.createElement('a')\n    el.setAttribute('href', '#')\n    el.appendChild(document.createTextNode(text))\n    return el\n  },\n  disableHeader: function (header) {\n    header.style.color = '#ccc'\n  },\n  disableLabel: function (label) {\n    label.style.color = '#ccc'\n  },\n  enableHeader: function (header) {\n    header.style.color = ''\n  },\n  enableLabel: function (label) {\n    label.style.color = ''\n  },\n  getInfoButton: function (text) {\n    var icon = document.createElement('span')\n    icon.innerText = ''\n    icon.style.fontSize = '16px'\n    icon.style.fontWeight = 'bold'\n    icon.style.padding = '.25rem'\n    icon.style.position = 'relative'\n    icon.style.display = 'inline-block'\n\n    var tooltip = document.createElement('span')\n    tooltip.style.fontSize = '12px'\n    icon.style.fontWeight = 'normal'\n    tooltip.style['font-family'] = 'sans-serif'\n    tooltip.style.visibility = 'hidden'\n    tooltip.style['background-color'] = 'rgba(50, 50, 50, .75)'\n    tooltip.style.margin = '0 .25rem'\n    tooltip.style.color = '#FAFAFA'\n    tooltip.style.padding = '.5rem 1rem'\n    tooltip.style['border-radius'] = '.25rem'\n    tooltip.style.width = '20rem'\n    tooltip.style.position = 'absolute'\n    tooltip.innerText = text\n    icon.onmouseover = function () {\n      tooltip.style.visibility = 'visible'\n    }\n    icon.onmouseleave = function () {\n      tooltip.style.visibility = 'hidden'\n    }\n\n    icon.appendChild(tooltip)\n\n    return icon\n  },\n  getFormInputLabel: function (text, req) {\n    var el = document.createElement('label')\n    el.appendChild(document.createTextNode(text))\n    if (req) el.classList.add('required')\n    return el\n  },\n  getHeader: function (text) {\n    var el = document.createElement('h3')\n    if (typeof text === 'string') {\n      el.textContent = text\n    } else {\n      el.appendChild(text)\n    }\n\n    return el\n  },\n  getCheckbox: function () {\n    var el = this.getFormInputField('checkbox')\n    el.style.display = 'inline-block'\n    el.style.width = 'auto'\n    return el\n  },\n  getCheckboxLabel: function (text, req) {\n    var el = document.createElement('label')\n    el.appendChild(document.createTextNode('\\u00A0' + text))\n    if (req) el.classList.add('required')\n    return el\n  },\n  getMultiCheckboxHolder: function (controls, label, description, infoText) {\n    var el = document.createElement('div')\n    el.classList.add('control-group')\n\n    if (label) {\n      label.style.display = 'block'\n      el.appendChild(label)\n      if (infoText) label.appendChild(infoText)\n    }\n\n    for (var i in controls) {\n      if (!controls.hasOwnProperty(i)) continue\n      controls[i].style.display = 'inline-block'\n      controls[i].style.marginRight = '20px'\n      el.appendChild(controls[i])\n    }\n\n    if (description) el.appendChild(description)\n\n    return el\n  },\n  getFormCheckboxControl: function (label, input, compact) {\n    var el = document.createElement('div')\n    el.appendChild(label)\n    input.style.width = 'auto'\n    label.insertBefore(input, label.firstChild)\n    if (compact) {\n      this.applyStyles(el, {\n        display: 'inline-block',\n        marginRight: '1rem'\n      })\n    }\n\n    return el\n  },\n\n  getFormRadio: function (attributes) {\n    var el = this.getFormInputField('radio')\n    for (var key in attributes) {\n      el.setAttribute(key, attributes[key])\n    }\n    el.style.display = 'inline-block'\n    el.style.width = 'auto'\n    return el\n  },\n  getFormRadioLabel: function (text, req) {\n    var el = document.createElement('label')\n    el.appendChild(document.createTextNode('\\u00A0' + text))\n    if (req) el.classList.add('required')\n    return el\n  },\n  getFormRadioControl: function (label, input, compact) {\n    var el = document.createElement('div')\n    el.appendChild(label)\n    input.style.width = 'auto'\n    label.insertBefore(input, label.firstChild)\n    if (compact) {\n      this.applyStyles(el, {\n        display: 'inline-block',\n        marginRight: '1rem'\n      })\n    }\n\n    return el\n  },\n  getSelectInput: function (options, multiple) {\n    var select = document.createElement('select')\n    if (options) this.setSelectOptions(select, options)\n    return select\n  },\n  getSwitcher: function (options) {\n    var switcher = this.getSelectInput(options, false)\n    switcher.style.backgroundColor = 'transparent'\n    switcher.style.display = 'inline-block'\n    switcher.style.fontStyle = 'italic'\n    switcher.style.fontWeight = 'normal'\n    switcher.style.height = 'auto'\n    switcher.style.marginBottom = 0\n    switcher.style.marginLeft = '5px'\n    switcher.style.padding = '0 0 0 3px'\n    switcher.style.width = 'auto'\n    return switcher\n  },\n  getSwitcherOptions: function (switcher) {\n    return switcher.getElementsByTagName('option')\n  },\n  setSwitcherOptions: function (switcher, options, titles) {\n    this.setSelectOptions(switcher, options, titles)\n  },\n  setSelectOptions: function (select, options, titles) {\n    titles = titles || []\n    select.innerHTML = ''\n    for (var i = 0; i < options.length; i++) {\n      var option = document.createElement('option')\n      option.setAttribute('value', options[i])\n      option.textContent = titles[i] || options[i]\n      select.appendChild(option)\n    }\n  },\n  getTextareaInput: function () {\n    var el = document.createElement('textarea')\n    el.style = el.style || {}\n    el.style.width = '100%'\n    el.style.height = '300px'\n    el.style.boxSizing = 'border-box'\n    return el\n  },\n  getRangeInput: function (min, max, step) {\n    var el = this.getFormInputField('range')\n    el.setAttribute('min', min)\n    el.setAttribute('max', max)\n    el.setAttribute('step', step)\n    return el\n  },\n  getRangeOutput: function (input, startvalue) {\n    var output = document.createElement('output')\n    output.value = startvalue || 0\n\n    var updateOutput = function () { output.value = this.value }\n    input.addEventListener('change', updateOutput, false)\n    input.addEventListener('input', updateOutput, false)\n    return output\n  },\n  getRangeControl: function (input, output) {\n    var el = document.createElement('div')\n    el.style.textAlign = 'center'\n    if (output) el.appendChild(output)\n    el.appendChild(input)\n    return el\n  },\n  getFormInputField: function (type) {\n    var el = document.createElement('input')\n    el.setAttribute('type', type)\n    return el\n  },\n  afterInputReady: function (input) {\n\n  },\n  getFormControl: function (label, input, description, infoText) {\n    var el = document.createElement('div')\n    el.classList.add('form-control')\n    if (label) el.appendChild(label)\n    if ((input.type === 'checkbox' || input.type === 'radio') && label) {\n      input.style.width = 'auto'\n      label.insertBefore(input, label.firstChild)\n      if (infoText) label.appendChild(infoText)\n    } else {\n      if (infoText && label) label.appendChild(infoText)\n      el.appendChild(input)\n    }\n\n    if (description) el.appendChild(description)\n    return el\n  },\n  getIndentedPanel: function () {\n    var el = document.createElement('div')\n    el.style = el.style || {}\n    el.style.paddingLeft = '10px'\n    el.style.marginLeft = '10px'\n    el.style.borderLeft = '1px solid #ccc'\n    return el\n  },\n  getTopIndentedPanel: function () {\n    var el = document.createElement('div')\n    el.style = el.style || {}\n    el.style.paddingLeft = '10px'\n    el.style.marginLeft = '10px'\n    return el\n  },\n  getChildEditorHolder: function () {\n    return document.createElement('div')\n  },\n  getDescription: function (text) {\n    var el = document.createElement('p')\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text)\n    else el.textContent = this.cleanText(text)\n    return el\n  },\n  getCheckboxDescription: function (text) {\n    return this.getDescription(text)\n  },\n  getFormInputDescription: function (text) {\n    return this.getDescription(text)\n  },\n  getButtonHolder: function () {\n    return document.createElement('span')\n  },\n  getHeaderButtonHolder: function () {\n    return this.getButtonHolder()\n  },\n  getFormButtonHolder: function (buttonAlign) {\n    return this.getButtonHolder()\n  },\n  getButton: function (text, icon, title) {\n    var el = document.createElement('button')\n    el.type = 'button'\n    this.setButtonText(el, text, icon, title)\n    return el\n  },\n  getFormButton: function (text, icon, title) {\n    return this.getButton(text, icon, title)\n  },\n  setButtonText: function (button, text, icon, title) {\n    // Clear previous contents. https://jsperf.com/innerhtml-vs-removechild/37\n    while (button.firstChild) {\n      button.removeChild(button.firstChild)\n    }\n    if (icon) {\n      button.appendChild(icon)\n      text = ' ' + text\n    }\n    if (!this.jsoneditor.options.iconlib || !this.jsoneditor.options.remove_button_labels || !icon) {\n      var spanEl = document.createElement('span')\n      spanEl.appendChild(document.createTextNode(text))\n      button.appendChild(spanEl)\n    }\n    if (title) button.setAttribute('title', title)\n  },\n\n  // Table functions\n  getTable: function () {\n    return document.createElement('table')\n  },\n  getTableRow: function () {\n    return document.createElement('tr')\n  },\n  getTableHead: function () {\n    return document.createElement('thead')\n  },\n  getTableBody: function () {\n    return document.createElement('tbody')\n  },\n  getTableHeaderCell: function (text) {\n    var el = document.createElement('th')\n    el.textContent = text\n    return el\n  },\n  getTableCell: function () {\n    var el = document.createElement('td')\n    return el\n  },\n  getErrorMessage: function (text) {\n    var el = document.createElement('p')\n    el.style = el.style || {}\n    el.style.color = 'red'\n    el.appendChild(document.createTextNode(text))\n    return el\n  },\n  addInputError: function (input, text) {\n  },\n  removeInputError: function (input) {\n  },\n  addTableRowError: function (row) {\n  },\n  removeTableRowError: function (row) {\n  },\n  getTabHolder: function (propertyName) {\n    var pName = (typeof propertyName === 'undefined') ? '' : propertyName\n    var el = document.createElement('div')\n    el.innerHTML = \"<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 120px;' id='\" + pName + \"'></div><div style='clear:both;'></div>\"\n    return el\n  },\n  getTopTabHolder: function (propertyName) {\n    var pName = (typeof propertyName === 'undefined') ? '' : propertyName\n    var el = document.createElement('div')\n    el.innerHTML = \"<div class='tabs' style='margin-left: 10px;'></div><div style='clear:both;'></div><div class='content' id='\" + pName + \"'></div>\"\n    return el\n  },\n  applyStyles: function (el, styles) {\n    for (var i in styles) {\n      if (!styles.hasOwnProperty(i)) continue\n      el.style[i] = styles[i]\n    }\n  },\n  closest: function (elem, selector) {\n    while (elem && elem !== document) {\n      if (elem[matchKey]) {\n        if (elem[matchKey](selector)) {\n          return elem\n        } else {\n          elem = elem.parentNode\n        }\n      } else {\n        return false\n      }\n    }\n    return false\n  },\n  insertBasicTopTab: function (tab, newTabsHolder) {\n    newTabsHolder.firstChild.insertBefore(tab, newTabsHolder.firstChild.firstChild)\n  },\n  getTab: function (span, tabId) {\n    var el = document.createElement('div')\n    el.appendChild(span)\n    el.id = tabId\n    el.style = el.style || {}\n    this.applyStyles(el, {\n      border: '1px solid #ccc',\n      borderWidth: '1px 0 1px 1px',\n      textAlign: 'center',\n      lineHeight: '30px',\n      borderRadius: '5px',\n      borderBottomRightRadius: 0,\n      borderTopRightRadius: 0,\n      fontWeight: 'bold',\n      cursor: 'pointer'\n    })\n    return el\n  },\n  getTopTab: function (span, tabId) {\n    var el = document.createElement('div')\n    el.id = tabId\n    el.appendChild(span)\n    el.style = el.style || {}\n    this.applyStyles(el, {\n      float: 'left',\n      border: '1px solid #ccc',\n      borderWidth: '1px 1px 0px 1px',\n      textAlign: 'center',\n      lineHeight: '30px',\n      borderRadius: '5px',\n      paddingLeft: '5px',\n      paddingRight: '5px',\n      borderBottomRightRadius: 0,\n      borderBottomLeftRadius: 0,\n      fontWeight: 'bold',\n      cursor: 'pointer'\n    })\n    return el\n  },\n  getTabContentHolder: function (tabHolder) {\n    return tabHolder.children[1]\n  },\n  getTopTabContentHolder: function (tabHolder) {\n    return tabHolder.children[1]\n  },\n  getTabContent: function () {\n    return this.getIndentedPanel()\n  },\n  getTopTabContent: function () {\n    return this.getTopIndentedPanel()\n  },\n  markTabActive: function (row) {\n    this.applyStyles(row.tab, {\n      opacity: 1,\n      background: 'white'\n    })\n    if (typeof row.rowPane !== 'undefined') {\n      row.rowPane.style.display = ''\n    } else {\n      row.container.style.display = ''\n    }\n  },\n  markTabInactive: function (row) {\n    this.applyStyles(row.tab, {\n      opacity: 0.5,\n      background: ''\n    })\n    if (typeof row.rowPane !== 'undefined') {\n      row.rowPane.style.display = 'none'\n    } else {\n      row.container.style.display = 'none'\n    }\n  },\n  addTab: function (holder, tab) {\n    holder.children[0].appendChild(tab)\n  },\n  addTopTab: function (holder, tab) {\n    holder.children[0].appendChild(tab)\n  },\n  getBlockLink: function () {\n    var link = document.createElement('a')\n    link.style.display = 'block'\n    return link\n  },\n  getBlockLinkHolder: function () {\n    var el = document.createElement('div')\n    return el\n  },\n  getLinksHolder: function () {\n    var el = document.createElement('div')\n    return el\n  },\n  createMediaLink: function (holder, link, media) {\n    holder.appendChild(link)\n    media.style.width = '100%'\n    holder.appendChild(media)\n  },\n  createImageLink: function (holder, link, image) {\n    holder.appendChild(link)\n    link.appendChild(image)\n  },\n  getFirstTab: function (holder) {\n    return holder.firstChild.firstChild\n  },\n  getInputGroup: function (input, buttons) {\n    return undefined\n  },\n  cleanText: function (txt) {\n    // Clean out HTML tags from txt\n    var tmp = document.createElement('div')\n    tmp.innerHTML = txt\n    return (tmp.textContent || tmp.innerText)\n  },\n  getDropZone: function (text) {\n    var el = document.createElement('div')\n    el.setAttribute('data-text', text)\n    el.classList.add('je-dropzone')\n    return el\n  },\n  // file is an object with properties: name, type, mimeType, size amd formattedSize\n  getUploadPreview: function (file, uploadButton, data) {\n    var preview = document.createElement('div')\n    preview.classList.add('je-upload-preview')\n\n    if (file.mimeType.substr(0, 5) === 'image') {\n      var img = document.createElement('img')\n      img.src = data\n      preview.appendChild(img)\n    }\n    var info = document.createElement('div')\n    info.innerHTML += '<strong>Name:</strong> ' + file.name + '<br><strong>Type:</strong> ' + file.type + '<br><strong>Size:</strong> ' + file.formattedSize\n    preview.appendChild(info)\n\n    preview.appendChild(uploadButton)\n\n    var clear = document.createElement('div')\n    clear.style.clear = 'left'\n    preview.appendChild(clear)\n\n    return preview\n  },\n  getProgressBar: function () {\n    var max = 100; var start = 0\n\n    var progressBar = document.createElement('progress')\n    progressBar.setAttribute('max', max)\n    progressBar.setAttribute('value', start)\n    return progressBar\n  },\n  updateProgressBar: function (progressBar, progress) {\n    if (!progressBar) return\n    progressBar.setAttribute('value', progress)\n  },\n  updateProgressBarUnknown: function (progressBar) {\n    if (!progressBar) return\n    progressBar.removeAttribute('value')\n  }\n})\n","import { AbstractTheme } from '../theme'\nimport rules from './barebones.json'\n\nexport var barebonesTheme = AbstractTheme.extend({\n  /* Theme config options that allows changing various aspects of the output */\n  options: {\n    'disable_theme_rules': false\n  },\n  /* Custom stylesheet rules. format: \"selector\" : \"CSS rules\" */\n  rules: rules,\n  addInputError: function (input, text) {\n    if (!input.errmsg) {\n      var group = this.closest(input, '.form-control')\n      input.errmsg = document.createElement('div')\n      input.errmsg.setAttribute('class', 'errmsg')\n      group.appendChild(input.errmsg)\n    } else {\n      input.errmsg.style.display = 'block'\n    }\n\n    input.errmsg.innerHTML = ''\n    input.errmsg.appendChild(document.createTextNode(text))\n  },\n  removeInputError: function (input) {\n    if (input.style) {\n      input.style.borderColor = ''\n    }\n    if (input.errmsg) input.errmsg.style.display = 'none'\n  }\n})\n","import { AbstractTheme } from '../theme'\nimport rules from './bootstrap4.json'\n\nexport var bootstrap4Theme = AbstractTheme.extend({\n  /* Theme config options that allows changing various aspects of the output */\n  options: {\n    disable_theme_rules: false,\n    input_size: 'normal', // Size of input and select elements. \"small\", \"normal\", \"large\"\n    custom_forms: false, // use twbs custom form stylings\n    object_indent: true, // Indent nested object elements (use nested .card layout)\n    object_background: 'bg-light', // Bootstrap 4 card background modifier class (https://getbootstrap.com/docs/4.1/getting-started/introduction/)\n    object_text: '', // Bootstrap 4 card tect color modifier class (https://getbootstrap.com/docs/4.1/getting-started/introduction/)\n    table_border: false, // Add border to array \"table\" row and cells\n    table_zebrastyle: false, // Add \"zebra style\" to array \"table\" rows\n    tooltip: 'bootstrap' // how to display tooltips (infoText). Can be `browser` for native `title`, `css` for simple CSS Styling, or `bootstrap` for TWBS/Popper.js handling\n  },\n  /* Custom stylesheet rules. format: \"selector\" : \"CSS rules\" */\n  rules: rules,\n\n  getSelectInput: function (options, multiple) {\n    var el = this._super(options)\n    el.classList.add('form-control')\n\n    if (this.options.custom_forms === false) {\n      if (this.options.input_size === 'small') el.classList.add('form-control-sm')\n      if (this.options.input_size === 'large') el.classList.add('form-control-lg')\n    } else {\n      el.classList.remove('form-control')\n      el.classList.add('custom-select')\n      if (this.options.input_size === 'small') el.classList.add('custom-select-sm')\n      if (this.options.input_size === 'large') el.classList.add('custom-select-lg')\n    }\n\n    return el\n  },\n\n  getContainer: function () {\n    var el = document.createElement('div')\n    if (!this.options.object_indent) el.classList.add('je-noindent')\n    return el\n  },\n\n  setGridColumnSize: function (el, size, offset) {\n    el.classList.add('col-md-' + size)\n\n    if (offset) {\n      el.classList.add('offset-md-' + offset)\n    }\n  },\n\n  afterInputReady: function (input) {\n    if (input.controlgroup) return\n\n    // set id/for\n    // is not working for: [type=file], [type=checkbox]\n    var id = input.name\n    input.id = id\n    // 2x parentNode, b/c range input has an <div> wrapper\n    var label = input.parentNode.parentNode.getElementsByTagName('label')[0]\n    if (label) {\n      label.htmlFor = id\n    }\n\n    input.controlgroup = this.closest(input, '.form-group')\n  },\n\n  getTextareaInput: function () {\n    var el = document.createElement('textarea')\n    el.classList.add('form-control')\n    if (this.options.input_size === 'small') el.classList.add('form-control-sm')\n    if (this.options.input_size === 'large') el.classList.add('form-control-lg')\n    return el\n  },\n\n  getRangeInput: function (min, max, step) {\n    var el = this._super(min, max, step)\n\n    if (this.options.custom_forms === true) {\n      el.classList.remove('form-control')\n      el.classList.add('custom-range')\n    }\n\n    return el\n  },\n\n  getFormInputField: function (type) {\n    var el = this._super(type)\n    if (type !== 'checkbox' && type !== 'radio' && type !== 'file') {\n      el.classList.add('form-control')\n      if (this.options.input_size === 'small') el.classList.add('form-control-sm')\n      if (this.options.input_size === 'large') el.classList.add('form-control-lg')\n    }\n\n    if (type === 'file') {\n      // custom_form is not used on files, would be a bit ticky since we need more\n      // markup. Also it contains language strings which would need be translateable?\n      // and most of all, w/o JavaScript teh name of the file can't be displayed.\n      el.classList.add('form-control-file')\n    }\n\n    return el\n  },\n\n  getFormControl: function (label, input, description, infoText) {\n    var group = document.createElement('div')\n    group.classList.add('form-group')\n\n    if (label && (input.type === 'checkbox' || input.type === 'radio')) {\n      var check = document.createElement('div')\n\n      if (this.options.custom_forms === false) {\n        check.classList.add('form-check')\n        input.classList.add('form-check-input')\n        label.classList.add('form-check-label')\n      } else {\n        check.classList.add('custom-control')\n        input.classList.add('custom-control-input')\n        label.classList.add('custom-control-label')\n\n        if (input.type === 'checkbox') {\n          check.classList.add('custom-checkbox')\n        } else {\n          check.classList.add('custom-radio')\n        }\n      }\n\n      check.appendChild(input)\n      check.appendChild(label)\n      if (infoText) check.appendChild(infoText)\n\n      group.appendChild(check)\n    } else {\n      if (label) {\n        group.appendChild(label)\n\n        if (infoText) group.appendChild(infoText)\n      }\n\n      group.appendChild(input)\n    }\n\n    if (description) {\n      group.appendChild(description)\n    }\n\n    return group\n  },\n\n  getInfoButton: function (text) {\n    var button = document.createElement('button') // shoud be a <button> but no fitting tbws style...\n    button.type = 'button'\n    button.classList.add('ml-3', 'jsoneditor-twbs4-text-button')\n    button.setAttribute('data-toggle', 'tooltip')\n    button.setAttribute('data-placement', 'auto')\n    button.title = text\n\n    var icon = document.createTextNode('')\n    button.appendChild(icon)\n\n    if (this.options.tooltip === 'bootstrap') {\n      if (window.jQuery && window.jQuery().tooltip) {\n        window.jQuery(button).tooltip()\n      } else {\n        console.warn('Could not find popper jQuery plugin of Bootstrap.')\n      }\n    } else if (this.options.tooltip === 'css') {\n      button.classList.add('je-tooltip')\n    } // else -> nothing todo for native [title] handling\n\n    return button\n  },\n\n  /**\n   * Generates a checkbox...\n   *\n   * Overwriten from master theme to get rid of inline styles.\n   */\n  getCheckbox: function () {\n    var el = this.getFormInputField('checkbox')\n    return el\n  },\n\n  /**\n   * Multiple checkboxes in a row.\n   *\n   */\n  getMultiCheckboxHolder: function (controls, label, description, infoText) {\n    var el = document.createElement('div')\n    el.classList.add('form-group')\n\n    if (label) {\n      el.appendChild(label)\n\n      if (infoText) {\n        label.appendChild(infoText)\n      }\n    }\n\n    // for inline view we need an container so it doesnt wrap in the \"row\" of the <label>\n    var container = document.createElement('div')\n\n    for (var i in controls) {\n      if (!controls.hasOwnProperty(i)) {\n        continue\n      }\n\n      // controls are already parsed by getFormControl() so they have an .form-group\n      // wrapper we need to get rid of...\n      var ctrl = controls[i].firstChild\n\n      // we don't know if this should be an normal / compact view\n      /* if (this.options.custom_forms === false) {\n        ctrl.classList.add('form-check-inline')\n      } else {\n        ctrl.classList.add('custom-control-inline')\n      } */\n\n      container.appendChild(ctrl)\n    }\n\n    el.appendChild(container)\n\n    if (description) el.appendChild(description)\n\n    return el\n  },\n\n  /**\n   * Single radio element\n   */\n  getFormRadio: function (attributes) {\n    var el = this.getFormInputField('radio')\n\n    for (var key in attributes) {\n      el.setAttribute(key, attributes[key])\n    }\n\n    if (this.options.custom_forms === false) {\n      el.classList.add('form-check-input')\n    } else {\n      el.classList.add('custom-control-input')\n    }\n\n    return el\n  },\n\n  /**\n   * Add the <label> for the single radio from getFormRadio()\n   *\n   */\n  getFormRadioLabel: function (text, req) {\n    var el = document.createElement('label')\n\n    if (this.options.custom_forms === false) {\n      el.classList.add('form-check-label')\n    } else {\n      el.classList.add('custom-control-label')\n    }\n\n    el.appendChild(document.createTextNode(text))\n    return el\n  },\n\n  /**\n   * Stack the radios from getFormRadio()/getFormRadioLabel()\n   *\n   */\n  getFormRadioControl: function (label, input, compact) {\n    var el = document.createElement('div')\n\n    if (this.options.custom_forms === false) {\n      el.classList.add('form-check')\n    } else {\n      el.classList.add('custom-control', 'custom-radio')\n    }\n\n    el.appendChild(input)\n    el.appendChild(label)\n\n    if (compact) {\n      if (this.options.custom_forms === false) {\n        el.classList.add('form-check-inline')\n      } else {\n        el.classList.add('custom-control-inline')\n      }\n    }\n\n    return el\n  },\n\n  getIndentedPanel: function () {\n    var el = document.createElement('div')\n    el.classList.add('card', 'card-body', 'mb-3')\n\n    if (this.options.object_background) {\n      el.classList.add(this.options.object_background)\n    }\n\n    if (this.options.object_text) {\n      el.classList.add(this.options.object_text)\n    }\n\n    // for better twbs card styling we should be able to return a nested div\n\n    return el\n  },\n\n  getFormInputDescription: function (text) {\n    var el = document.createElement('small')\n    el.classList.add('form-text')\n\n    if (window.DOMPurify) {\n      el.innerHTML = window.DOMPurify.sanitize(text)\n    } else {\n      el.textContent = this.cleanText(text)\n    }\n\n    return el\n  },\n\n  getHeader: function (text) {\n    // var cardHeader = document.createElement('div')\n    // cardHeader.classList.add('card-header')\n\n    var el = document.createElement('h3')\n    el.classList.add('card-title')\n\n    if (typeof text === 'string') {\n      el.textContent = text\n    } else {\n      el.appendChild(text)\n    }\n\n    // cardHeader.appendChild(el)\n\n    return el\n  },\n\n  getHeaderButtonHolder: function () {\n    var el = this.getButtonHolder()\n\n    return el\n  },\n  getButtonHolder: function () {\n    var el = document.createElement('span')\n    el.classList.add('btn-group')\n    return el\n  },\n\n  getFormButtonHolder: function (buttonAlign) {\n    var el = this.getButtonHolder()\n    el.classList.add('d-block')\n\n    if (buttonAlign === 'center') el.classList.add('text-center')\n    else if (buttonAlign === 'right') el.classList.add('text-right')\n\n    return el\n  },\n\n  getButton: function (text, icon, title) {\n    var el = this._super(text, icon, title)\n    el.classList.add('btn', 'btn-secondary', 'btn-sm')\n    return el\n  },\n\n  getTable: function () {\n    var el = document.createElement('table')\n    el.classList.add('table', 'table-sm')\n\n    if (this.options.table_border) {\n      el.classList.add('table-bordered')\n    }\n\n    if (this.options.table_zebrastyle) {\n      el.classList.add('table-striped')\n    }\n\n    return el\n  },\n\n  getErrorMessage: function (text) {\n    var el = document.createElement('div')\n    el.classList.add('alert', 'alert-danger')\n    el.setAttribute('role', 'alert')\n    el.appendChild(document.createTextNode(text))\n    return el\n  },\n\n  /**\n   * input validation on <input>\n   */\n  addInputError: function (input, text) {\n    if (!input.controlgroup) return\n\n    input.classList.add('is-invalid')\n\n    if (!input.errmsg) {\n      input.errmsg = document.createElement('p')\n      input.errmsg.classList.add('invalid-feedback')\n      input.controlgroup.appendChild(input.errmsg)\n    } else {\n      input.errmsg.style.display = ''\n    }\n\n    input.errmsg.textContent = text\n  },\n  removeInputError: function (input) {\n    if (!input.errmsg) return\n    input.errmsg.style.display = 'none'\n    input.classList.remove('is-invalid')\n  },\n\n  getTabHolder: function (propertyName) {\n    var el = document.createElement('div')\n    var pName = (typeof propertyName === 'undefined') ? '' : propertyName\n    el.innerHTML = \"<div class='col-md-2' id='\" + pName + \"'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='\" + pName + \"'></div></div>\"\n    el.classList.add('row')\n    return el\n  },\n  addTab: function (holder, tab) {\n    holder.children[0].children[0].appendChild(tab)\n  },\n  getTabContentHolder: function (tabHolder) {\n    return tabHolder.children[1].children[0]\n  },\n\n  getTopTabHolder: function (propertyName) {\n    var pName = (typeof propertyName === 'undefined') ? '' : propertyName\n\n    var el = document.createElement('div')\n    el.classList.add('card')\n\n    el.innerHTML = \"<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='\" + pName + \"'></ul></div><div class='card-body'><div class='tab-content' id='\" + pName + \"'></div></div>\"\n\n    return el\n  },\n  getTab: function (text, tabId) {\n    var liel = document.createElement('li')\n    liel.classList.add('nav-item')\n\n    var ael = document.createElement('a')\n    ael.classList.add('nav-link')\n    ael.setAttribute('href', '#' + tabId)\n    ael.setAttribute('data-toggle', 'tab')\n    ael.appendChild(text)\n\n    liel.appendChild(ael)\n\n    return liel\n  },\n  getTopTab: function (text, tabId) {\n    var el = document.createElement('li')\n    el.classList.add('nav-item')\n\n    var a = document.createElement('a')\n    a.classList.add('nav-link')\n    a.setAttribute('href', '#' + tabId)\n    a.setAttribute('data-toggle', 'tab')\n    a.appendChild(text)\n\n    el.appendChild(a)\n\n    return el\n  },\n  getTabContent: function () {\n    var el = document.createElement('div')\n    el.classList.add('tab-pane')\n    el.setAttribute('role', 'tabpanel')\n    return el\n  },\n  getTopTabContent: function () {\n    var el = document.createElement('div')\n    el.classList.add('tab-pane')\n    el.setAttribute('role', 'tabpanel')\n    return el\n  },\n  markTabActive: function (row) {\n    row.tab.firstChild.classList.add('active')\n\n    if (typeof row.rowPane !== 'undefined') {\n      row.rowPane.classList.add('active')\n    } else {\n      row.container.classList.add('active')\n    }\n  },\n  markTabInactive: function (row) {\n    row.tab.firstChild.classList.remove('active')\n\n    if (typeof row.rowPane !== 'undefined') {\n      row.rowPane.classList.remove('active')\n    } else {\n      row.container.classList.remove('active')\n    }\n  },\n\n  insertBasicTopTab: function (tab, newTabsHolder) {\n    newTabsHolder.children[0].children[0].insertBefore(tab, newTabsHolder.children[0].children[0].firstChild)\n  },\n\n  addTopTab: function (holder, tab) {\n    holder.children[0].children[0].appendChild(tab)\n  },\n\n  getTopTabContentHolder: function (tabHolder) {\n    return tabHolder.children[1].children[0]\n  },\n\n  getProgressBar: function () {\n    var min = 0\n    var max = 100\n    var start = 0\n\n    var container = document.createElement('div')\n    container.classList.add('progress')\n\n    var bar = document.createElement('div')\n    bar.classList.add('progress-bar')\n    bar.setAttribute('role', 'progressbar')\n    bar.setAttribute('aria-valuenow', start)\n    bar.setAttribute('aria-valuemin', min)\n    bar.setAttribute('aria-valuenax', max)\n    bar.innerHTML = start + '%'\n    container.appendChild(bar)\n\n    return container\n  },\n  updateProgressBar: function (progressBar, progress) {\n    if (!progressBar) return\n\n    var bar = progressBar.firstChild\n    var percentage = progress + '%'\n    bar.setAttribute('aria-valuenow', progress)\n    bar.style.width = percentage\n    bar.innerHTML = percentage\n  },\n  updateProgressBarUnknown: function (progressBar) {\n    if (!progressBar) return\n\n    var bar = progressBar.firstChild\n    progressBar.classList.add('progress', 'progress-striped', 'active')\n    bar.removeAttribute('aria-valuenow')\n    bar.style.width = '100%'\n    bar.innerHTML = ''\n  },\n\n  getBlockLink: function () {\n    var link = document.createElement('a')\n    link.classList.add('mb-3', 'd-inline-block')\n    return link\n  },\n\n  /**\n   * Link after successfull upload\n   */\n  getLinksHolder: function () {\n    var el = document.createElement('div')\n    return el\n  },\n\n  getInputGroup: function (input, buttons) {\n    if (!input) return\n\n    var inputGroupContainer = document.createElement('div')\n    inputGroupContainer.classList.add('input-group')\n\n    inputGroupContainer.appendChild(input)\n\n    var inputGroup = document.createElement('div')\n    inputGroup.classList.add('input-group-append')\n    inputGroupContainer.appendChild(inputGroup)\n\n    for (var i = 0; i < buttons.length; i++) {\n      // this uses the getButton() wrapper, so we have to remove the panel/ctrl spacing for this case\n      buttons[i].classList.remove('mr-2', 'btn-secondary')\n      buttons[i].classList.add('btn-outline-secondary')\n\n      inputGroup.appendChild(buttons[i])\n    }\n\n    return inputGroupContainer\n  }\n})\n","import { AbstractTheme } from '../theme'\nimport rules from './html.json'\n\nexport var htmlTheme = AbstractTheme.extend({\n  /* Theme config options that allows changing various aspects of the output */\n  options: {\n    'disable_theme_rules': false\n  },\n  /* Custom stylesheet rules. format: \"selector\" : \"CSS rules\" */\n  rules: rules,\n  getFormInputLabel: function (text, req) {\n    var el = this._super(text, req)\n    el.classList.add('je-form-input-label')\n    return el\n  },\n  getFormInputDescription: function (text) {\n    var el = this._super(text)\n    el.classList.add('je-form-input-label')\n    return el\n  },\n  getIndentedPanel: function () {\n    var el = this._super()\n    el.classList.add('je-indented-panel')\n    return el\n  },\n  getTopIndentedPanel: function () {\n    return this.getIndentedPanel()\n  },\n  getChildEditorHolder: function () {\n    var el = this._super()\n    el.classList.add('je-child-editor-holder')\n    return el\n  },\n  getHeaderButtonHolder: function () {\n    var el = this.getButtonHolder()\n    el.classList.add('je-header-button-holder')\n    return el\n  },\n  getTable: function () {\n    var el = this._super()\n    el.classList.add('je-table')\n    return el\n  },\n  addInputError: function (input, text) {\n    input.style.borderColor = 'red'\n\n    if (!input.errmsg) {\n      var group = this.closest(input, '.form-control')\n      input.errmsg = document.createElement('div')\n      input.errmsg.setAttribute('class', 'errmsg')\n      input.errmsg.style = input.errmsg.style || {}\n      input.errmsg.style.color = 'red'\n      group.appendChild(input.errmsg)\n    } else {\n      input.errmsg.style.display = 'block'\n    }\n\n    input.errmsg.innerHTML = ''\n    input.errmsg.appendChild(document.createTextNode(text))\n  },\n  removeInputError: function (input) {\n    if (input.style) {\n      input.style.borderColor = ''\n    }\n    if (input.errmsg) input.errmsg.style.display = 'none'\n  }\n})\n","import { AbstractTheme } from '../theme'\n\nexport var jqueryuiTheme = AbstractTheme.extend({\n  /* Theme config options that allows changing various aspects of the output */\n  options: {\n    'disable_theme_rules': false\n  },\n  /* Custom stylesheet rules. format: \"selector\" : \"CSS rules\" */\n  rules: {\n    'div[data-schemaid=\"root\"]:after': 'position:relative;color:red;margin:10px 0;font-weight:600;display:block;width:100%;text-align:center;content:\"This is an old JSON-Editor 1.x Theme and might not display elements correctly when used with the 2.x version\"'\n  },\n  getTable: function () {\n    var el = this._super()\n    el.setAttribute('cellpadding', 5)\n    el.setAttribute('cellspacing', 0)\n    return el\n  },\n  getTableHeaderCell: function (text) {\n    var el = this._super(text)\n    el.classList.add('ui-state-active')\n    el.style.fontWeight = 'bold'\n    return el\n  },\n  getTableCell: function () {\n    var el = this._super()\n    el.classList.add('ui-widget-content')\n    return el\n  },\n  getHeaderButtonHolder: function () {\n    var el = this.getButtonHolder()\n    el.style.marginLeft = '10px'\n    el.style.fontSize = '.6em'\n    el.style.display = 'inline-block'\n    return el\n  },\n  getFormInputDescription: function (text) {\n    var el = this.getDescription(text)\n    el.style.marginLeft = '10px'\n    el.style.display = 'inline-block'\n    return el\n  },\n  getFormControl: function (label, input, description, infoText) {\n    var el = this._super(label, input, description, infoText)\n    if (input.type === 'checkbox') {\n      el.style.lineHeight = '25px'\n\n      el.style.padding = '3px 0'\n    } else {\n      el.style.padding = '4px 0 8px 0'\n    }\n    return el\n  },\n  getDescription: function (text) {\n    var el = document.createElement('span')\n    el.style.fontSize = '.8em'\n    el.style.fontStyle = 'italic'\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text)\n    else el.textContent = this.cleanText(text)\n    return el\n  },\n  getButtonHolder: function () {\n    var el = document.createElement('div')\n    el.classList.add('ui-buttonset')\n    el.style.fontSize = '.7em'\n    return el\n  },\n  getFormInputLabel: function (text, req) {\n    var el = document.createElement('label')\n    el.style.fontWeight = 'bold'\n    el.style.display = 'block'\n    el.textContent = text\n    if (req) el.classList.add('required')\n    return el\n  },\n  getButton: function (text, icon, title) {\n    var button = document.createElement('button')\n    button.classList.add('ui-button', 'ui-widget', 'ui-state-default', 'ui-corner-all')\n\n    // Icon only\n    if (icon && !text) {\n      button.classList.add('ui-button-icon-only')\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary')\n      button.appendChild(icon)\n    // Icon and Text\n    } else if (icon) {\n      button.classList.add('ui-button-text-icon-primary')\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary')\n      button.appendChild(icon)\n    // Text only\n    } else {\n      button.classList.add('ui-button-text-only')\n    }\n\n    var el = document.createElement('span')\n    el.classList.add('ui-button-text')\n    el.textContent = text || title || '.'\n    button.appendChild(el)\n\n    button.setAttribute('title', title)\n\n    return button\n  },\n  setButtonText: function (button, text, icon, title) {\n    button.innerHTML = ''\n    button.classList.add('ui-button', 'ui-widget', 'ui-state-default', 'ui-corner-all')\n\n    // Icon only\n    if (icon && !text) {\n      button.classList.add('ui-button-icon-only')\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary')\n      button.appendChild(icon)\n    // Icon and Text\n    } else if (icon) {\n      button.classList.add('ui-button-text-icon-primary')\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary')\n      button.appendChild(icon)\n    // Text only\n    } else {\n      button.classList.add('ui-button-text-only')\n    }\n\n    var el = document.createElement('span')\n    el.classList.add('ui-button-text')\n    el.textContent = text || title || '.'\n    button.appendChild(el)\n\n    button.setAttribute('title', title)\n  },\n  getIndentedPanel: function () {\n    var el = document.createElement('div')\n    el.classList.add('ui-widget-content', 'ui-corner-all')\n    el.style.padding = '1em 1.4em'\n    el.style.marginBottom = '20px'\n    return el\n  },\n  afterInputReady: function (input) {\n    if (input.controls) return\n    input.controls = this.closest(input, '.form-control')\n    if (this.queuedInputErrorText) {\n      var text = this.queuedInputErrorText\n      delete this.queuedInputErrorText\n      this.addInputError(input, text)\n    }\n  },\n  addInputError: function (input, text) {\n    if (!input.controls) {\n      this.queuedInputErrorText = text\n      return\n    }\n    if (!input.errmsg) {\n      input.errmsg = document.createElement('div')\n      input.errmsg.classList.add('ui-state-error')\n      input.controls.appendChild(input.errmsg)\n    } else {\n      input.errmsg.style.display = ''\n    }\n\n    input.errmsg.textContent = text\n  },\n  removeInputError: function (input) {\n    if (!input.controls) {\n      delete this.queuedInputErrorText\n    }\n    if (!input.errmsg) return\n    input.errmsg.style.display = 'none'\n  },\n  markTabActive: function (row) {\n    row.tab.classList.remove('ui-widget-header')\n    row.tab.classList.add('ui-state-active')\n\n    if (typeof row.rowPane !== 'undefined') {\n      row.rowPane.style.display = ''\n    } else {\n      row.container.style.display = ''\n    }\n  },\n  markTabInactive: function (row) {\n    row.tab.classList.add('ui-widget-header')\n    row.tab.classList.remove('ui-state-active')\n\n    if (typeof row.rowPane !== 'undefined') {\n      row.rowPane.style.display = 'none'\n    } else {\n      row.container.style.display = 'none'\n    }\n  }\n})\n","// Spectre Theme using Spectre CSS framework. <https://picturepan2.github.io/spectre/index.html>\nimport { AbstractTheme } from '../theme'\n\nimport { $each } from '../utilities'\nimport rules from './spectre.json'\n\nexport var spectreTheme = AbstractTheme.extend({\n  // Config options that allows changing various aspects of the output\n  options: {\n    disable_theme_rules: false, // Disable creation of Inline Style Rules\n    label_bold: true, // Element labels bold\n    align_bottom: false, // Align elements to bottom of flex container\n    object_indent: false, // Indent nested object elements\n    object_border: false, // Add border around object elements\n    table_border: false, // Add border to array \"table\" row and cells\n    table_zebrastyle: false, // Add \"zebra style\" to array \"table\" rows\n    input_size: 'normal' // Size of input and select elements. \"small\", \"normal\", \"large\"\n  },\n  // Custom stylesheet rules. (Does not suppert comma separated selectors)\n  //  Will create a stylesheet in document head with the id \"theme-spectre\" if not exists.\n  rules: rules,\n  // Functions for setting up the grid container, row and columns\n  setGridColumnSize: function (el, size, offset) {\n    el.classList.add('col-' + size)\n    if (offset) el.classList.add('col-mx-auto')\n  },\n  getGridContainer: function () {\n    var el = document.createElement('div')\n    el.classList.add('container')\n    if (!this.options.object_indent) el.classList.add('je-noindent')\n    return el\n  },\n  getGridRow: function () {\n    var el = document.createElement('div')\n    el.classList.add('columns')\n    return el\n  },\n  getGridColumn: function () {\n    var el = document.createElement('div')\n    el.classList.add('column')\n    if (this.options.align_bottom) el.classList.add('je-align-bottom')\n    return el\n  },\n\n  // Used for \"type: object\" or \"type: array\" (except if \"format: tabs-top\")\n  getIndentedPanel: function () {\n    var el = document.createElement('div')\n    el.classList.add('je-panel')\n    if (this.options.object_border) el.classList.add('je-border')\n    return el\n  },\n\n  // Used for \"type: array\" with \"format: tabs-top\"\n  getTopIndentedPanel: function () {\n    var el = document.createElement('div')\n    el.classList.add('je-panel-top')\n    if (this.options.object_border) el.classList.add('je-border')\n    return el\n  },\n\n  // Button functions\n  getHeaderButtonHolder: function () {\n    var el = this.getButtonHolder()\n    return el\n  },\n  // Button holder for the buttons\n  getButtonHolder: function () {\n    var el = this._super()\n    el.classList.add('btn-group')\n    return el\n  },\n  getFormButtonHolder: function (buttonAlign) {\n    var el = this._super()\n    el.classList.remove('btn-group')\n    el.classList.add('d-block')\n    if (buttonAlign === 'center') el.classList.add('text-center')\n    else if (buttonAlign === 'right') el.classList.add('text-right')\n    else el.classList.add('text-left')\n    return el\n  },\n  getFormButton: function (text, icon, title) {\n    var el = this._super(text, icon, title)\n    el.classList.add('btn', 'btn-primary', 'mx-2', 'my-1')\n    if (this.options.input_size !== 'small') el.classList.remove('btn-sm')\n    if (this.options.input_size === 'large') el.classList.add('btn-lg')\n    return el\n  },\n  getButton: function (text, icon, title) {\n    var el = this._super(text, icon, title)\n    el.classList.add('btn', 'btn-sm', 'btn-primary', 'mr-2', 'my-1')\n    return el\n  },\n\n  getHeader: function (text) {\n    var el = document.createElement('h4')\n    if (typeof text === 'string') {\n      el.textContent = text\n    } else {\n      el.appendChild(text)\n    }\n\n    return el\n  },\n\n  getFormInputDescription: function (text) {\n    var el = this._super(text)\n    el.classList.add('je-desc', 'hide-sm')\n    return el\n  },\n\n  /* Label for all elements except checkbox and radio */\n  getFormInputLabel: function (text, req) {\n    var el = this._super(text, req)\n    if (this.options.label_bold) el.classList.add('je-label')\n    return el\n  },\n\n  // Checkbox elements\n  // ToDo: Rename function names for consistency\n  getCheckbox: function () {\n    var el = this.getFormInputField('checkbox')\n    return el\n  },\n  getCheckboxLabel: function (text, req) {\n    var el = this._super(text, req); var icon = document.createElement('i')\n    icon.classList.add('form-icon')\n    el.classList.add('form-checkbox', 'mr-5')\n    el.insertBefore(icon, el.firstChild)\n    return el\n  },\n  getFormCheckboxControl: function (label, input, compact) {\n    label.insertBefore(input, label.firstChild) // Move input into label element\n    if (compact) label.classList.add('form-inline')\n    return label\n  },\n  getMultiCheckboxHolder: function (controls, label, description, infoText) {\n    console.log('mul')\n    return this._super(controls, label, description, infoText)\n  },\n  // Radio elements\n  getFormRadio: function (attributes) {\n    var el = this.getFormInputField('radio')\n    for (var key in attributes) {\n      el.setAttribute(key, attributes[key])\n    }\n    return el\n  },\n  getFormRadioLabel: function (text, req) {\n    var el = this._super(text, req); var icon = document.createElement('i')\n    icon.classList.add('form-icon')\n    el.classList.add('form-radio')\n    el.insertBefore(icon, el.firstChild)\n    return el\n  },\n  getFormRadioControl: function (label, input, compact) {\n    label.insertBefore(input, label.firstChild) // Move input into label element\n    if (compact) label.classList.add('form-inline')\n    return label\n  },\n\n  // Create input field\n  getFormInputField: function (type) {\n    var el = this._super(type)\n    if (['checkbox', 'radio'].indexOf(type) < 0) {\n      el.classList.add('form-input')\n    }\n    return el\n  },\n  // Create input field for type=\"range\"\n  getRangeInput: function (min, max, step) {\n    var el = this.getFormInputField('range')\n    el.classList.add('slider')\n    el.classList.remove('form-input')\n    el.setAttribute('oninput', 'this.setAttribute(\"value\", this.value)')\n    el.setAttribute('min', min)\n    el.setAttribute('max', max)\n    el.setAttribute('step', step)\n    return el\n  },\n  getRangeControl: function (input, output) {\n    var el = this._super(input, output)\n    el.classList.add('text-center')\n    return el\n  },\n\n  // Create select box field\n  getSelectInput: function (options, multiple) {\n    var el = this._super(options)\n    el.classList.add('form-select')\n    return el\n  },\n  // Create textarea field\n  getTextareaInput: function () {\n    var el = document.createElement('textarea')\n    el.classList.add('form-input')\n    return el\n  },\n\n  getFormControl: function (label, input, description, infoText) {\n    var group = document.createElement('div')\n    group.classList.add('form-group')\n\n    if (label) {\n      if (input.type === 'checkbox') {\n        label = this.getFormCheckboxControl(label, input, false)\n      }\n      label.classList.add('form-label')\n      group.appendChild(label)\n      if (infoText) group.insertBefore(infoText, group.firstChild)\n    }\n\n    if (this.options.input_size === 'small') input.classList.add('input-sm', 'select-sm')\n    else if (this.options.input_size === 'large') input.classList.add('input-lg', 'select-lg')\n    if (input.type !== 'checkbox') group.appendChild(input)\n\n    if (description) group.appendChild(description)\n\n    return group\n  },\n\n  // Create input group (input field with buttons)\n  getInputGroup: function (input, buttons) {\n    if (!input) return\n\n    var inputGroup = document.createElement('div')\n    inputGroup.classList.add('input-group')\n    inputGroup.appendChild(input)\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.add('input-group-btn')\n      buttons[i].classList.remove('btn-sm', 'mr-2', 'my-1')\n      inputGroup.appendChild(buttons[i])\n    }\n\n    return inputGroup\n  },\n\n  // Create button for displaying infotext tooltip\n  getInfoButton: function (text) {\n    var popover = document.createElement('div')\n    popover.classList.add('popover', 'popover-left', 'float-right')\n\n    var button = document.createElement('button')\n    button.classList.add('btn', 'btn-secondary', 'btn-info', 'btn-action', 's-circle')\n    button.setAttribute('tabindex', '-1') // exclude element from tab order\n    popover.appendChild(button)\n\n    var icon = document.createTextNode('I')\n    button.appendChild(icon)\n\n    var container = document.createElement('div')\n    container.classList.add('popover-container')\n    popover.appendChild(container)\n\n    var card = document.createElement('div')\n    card.classList.add('card')\n    container.appendChild(card)\n\n    var cardbody = document.createElement('div')\n    cardbody.classList.add('card-body')\n    cardbody.innerHTML = text\n    card.appendChild(cardbody)\n\n    return popover\n  },\n\n  // Functions for rendering array with format: \"table\"\n  getTable: function () {\n    var el = this._super()\n    el.classList.add('table', 'table-scroll')\n    if (this.options.table_border) el.classList.add('je-table-border')\n    if (this.options.table_zebrastyle) el.classList.add('table-striped')\n    return el\n  },\n  // Function for rendering progressbar\n  getProgressBar: function () {\n    var progressBar = this._super()\n    progressBar.classList.add('progress')\n    return progressBar\n  },\n  // Containers for array with format: \"tab\"\n  getTabHolder: function (propertyName) {\n    var pName = typeof propertyName === 'undefined' ? '' : propertyName\n    var el = document.createElement('div')\n    el.classList.add('columns')\n    el.innerHTML = '<div class=\"column col-2\"></div><div class=\"column col-10 content\" id=\"' + pName + '\"></div>'\n    return el\n  },\n  // Containers for array with format: \"tab-top\"\n  getTopTabHolder: function (propertyName) {\n    var pName = typeof propertyName === 'undefined' ? '' : propertyName\n    var el = document.createElement('div')\n    el.innerHTML = '<ul class=\"tab\"></ul><div class=\"content\" id=\"' + pName + '\"></div>'\n    return el\n  },\n  // Tab button for array with format: \"tab\"\n  getTab: function (span, tabId) {\n    var el = document.createElement('a')\n    el.classList.add('btn', 'btn-secondary', 'btn-block')\n    el.id = tabId\n    el.innerHTML = span.innerHTML\n\n    return el\n  },\n  // Tab button for array with format: \"tab-top\"\n  getTopTab: function (span, tabId) {\n    var el = document.createElement('li')\n    el.id = tabId\n    el.classList.add('tab-item')\n\n    // Spectre needs an a tag inside the tab item, not a span\n    var a = document.createElement('a')\n    a.href = '#'\n    a.innerHTML = span.innerHTML\n    el.appendChild(a)\n    return el\n  },\n  markTabActive: function (row) {\n    row.tab.classList.add('active')\n    if (typeof row.rowPane !== 'undefined') row.rowPane.style.display = ''\n    else row.container.style.display = ''\n  },\n  markTabInactive: function (row) {\n    row.tab.classList.remove('active')\n    if (typeof row.rowPane !== 'undefined') row.rowPane.style.display = 'none'\n    else row.container.style.display = 'none'\n  },\n  afterInputReady: function (input) {\n    if (input.localName === 'select') {\n      // Selectize adjustments\n      if (input.classList.contains('selectized')) {\n        var selectized = input.nextSibling\n        if (selectized) {\n          // Remove Spectre class 'form-select' as this conflicts with Selectize styling\n          selectized.classList.remove('form-select')\n          $each(selectized.querySelectorAll('.form-select'), function (i, el) {\n            el.classList.remove('form-select')\n          })\n        }\n      // Select2 ajustments\n      } else if (input.classList.contains('select2-hidden-accessible')) {\n        var select2 = input.nextSibling\n        var single = select2 && select2.querySelector('.select2-selection--single')\n        // Add Spectre 'form-select' to single-select2 elements\n        if (single) select2.classList.add('form-select')\n      }\n    }\n\n    if (input.controlgroup) return\n    input.controlgroup = this.closest(input, '.form-group')\n    if (this.closest(input, '.compact')) {\n      input.controlgroup.style.marginBottom = 0\n    }\n  },\n  // Controls output of errormessages displayed in form\n  addInputError: function (input, text) {\n    if (!input.controlgroup) return\n    input.controlgroup.classList.add('has-error')\n    if (!input.errmsg) {\n      input.errmsg = document.createElement('p')\n      input.errmsg.classList.add('form-input-hint')\n      input.controlgroup.appendChild(input.errmsg)\n    }\n    input.errmsg.classList.remove('d-hide')\n    input.errmsg.textContent = text\n  },\n  removeInputError: function (input) {\n    if (!input.errmsg) return\n    input.errmsg.classList.add('d-hide')\n    input.controlgroup.classList.remove('has-error')\n  }\n\n})\n","import { AbstractTheme } from '../theme'\nimport rules from './tailwind.json'\n\nexport var tailwindTheme = AbstractTheme.extend({\n  // Config options that allows changing various aspects of the output\n  options: {\n    disable_theme_rules: false, // Disable creation of Inline Style Rules\n    label_bold: false, // Element labels bold\n    object_panel_default: true, // Indicates whether to use rules as default or alternate style\n    object_indent: true, // Indent nested object elements\n    object_border: false, // Add border around object elements\n    table_border: false, // Add border to array \"table\" row and cells\n    table_hdiv: false, // Add bottom-border to array \"table\" cells\n    table_zebrastyle: false, // Add \"zebra style\" to array \"table\" rows\n    input_size: 'small', // Size of input and select elements. \"small\", \"normal\", \"large\"\n    enable_compact: false\n  },\n  // Custom stylesheet rules. (Does not suppert comma separated selectors)\n  //  Will create a stylesheet in document head with the id \"theme-spectre\" if not exists.\n  rules: rules,\n\n  getGridContainer: function () {\n    var el = document.createElement('div')\n    el.classList.add('flex', 'flex-col', 'w-full')\n    if (!this.options.object_indent) el.classList.add('je-noindent')\n    return el\n  },\n  getGridRow: function () {\n    var el = document.createElement('div')\n    el.classList.add('flex', 'flex-wrap', 'w-full')\n    return el\n  },\n  getGridColumn: function () {\n    var el = document.createElement('div')\n    el.classList.add('flex', 'flex-col')\n    return el\n  },\n  setGridColumnSize: function (el, size, offset) {\n    if (size > 0 && size < 12) { el.classList.add('w-' + size + '/12', 'px-1') } else el.classList.add('w-full', 'px-1')\n\n    if (offset) el.style.marginLeft = (100 / 12) * offset + '%'\n  },\n  getIndentedPanel: function () {\n    var el = document.createElement('div')\n    if (this.options.object_panel_default) { el.classList.add('w-full', 'p-1') } else { el.classList.add('relative', 'flex', 'flex-col', 'rounded', 'break-words', 'border', 'bg-white', 'border-0', 'border-blue-400', 'p-1', 'shadow-md') }\n    if (this.options.object_border) el.classList.add('je-border')\n    return el\n  },\n  // Used for \"type: array\" with \"format: tabs-top\"\n  getTopIndentedPanel: function () {\n    var el = document.createElement('div')\n    if (this.options.object_panel_default) { el.classList.add('w-full', 'm-2') } else { el.classList.add('relative', 'flex', 'flex-col', 'rounded', 'break-words', 'border', 'bg-white', 'border-0', 'border-blue-400', 'p-1', 'shadow-md') }\n    if (this.options.object_border) el.classList.add('je-border')\n    return el\n  },\n  getTitle: function () {\n    return this.schema.title\n  },\n  getSelectInput: function (options, multiple) {\n    var el = this._super(options)\n    if (multiple) el.classList.add('form-multiselect', 'block', 'py-0', 'h-auto', 'w-full', 'px-1', 'text-sm', 'text-black', 'leading-normal', 'bg-white', 'border', 'border-grey', 'rounded')\n    else el.classList.add('form-select', 'block', 'py-0', 'h-6', 'w-full', 'px-1', 'text-sm', 'text-black', 'leading-normal', 'bg-white', 'border', 'border-grey', 'rounded')\n    if (this.options.enable_compact) el.classList.add('compact')\n    return el\n  },\n  afterInputReady: function (input) {\n    if (input.controlgroup) return\n    input.controlgroup = this.closest(input, '.form-group')\n    if (this.closest(input, '.compact')) {\n      input.controlgroup.style.marginBottom = 0\n    }\n  },\n  getTextareaInput: function () {\n    var el = this._super()\n    el.classList.add('block', 'w-full', 'px-1', 'text-sm', 'leading-normal', 'bg-white', 'text-black', 'border', 'border-grey', 'rounded')\n    if (this.options.enable_compact) el.classList.add('compact')\n    el.style.height = 0\n    return el\n  },\n  // Create input field for type=\"range\"\n  getRangeInput: function (min, max, step) {\n    var el = this.getFormInputField('range')\n    el.classList.add('slider')\n    if (this.options.enable_compact) el.classList.add('compact')\n    el.setAttribute('oninput', 'this.setAttribute(\"value\", this.value)')\n    el.setAttribute('min', min)\n    el.setAttribute('max', max)\n    el.setAttribute('step', step)\n    return el\n  },\n  getRangeControl: function (input, output) {\n    var el = this._super(input, output)\n    el.classList.add('text-center', 'text-black')\n    return el\n  },\n  // Checkbox elements\n  getCheckbox: function () {\n    var el = this.getFormInputField('checkbox')\n    el.classList.add('form-checkbox', 'text-red-600')\n    return el\n  },\n  getCheckboxLabel: function (text, req) {\n    var el = this._super(text, req)\n    el.classList.add('inline-flex', 'items-center')\n    return el\n  },\n  getFormCheckboxControl: function (label, input, compact) {\n    label.insertBefore(input, label.firstChild) // Move input into label element\n    if (compact) label.classList.add('inline-flex flex-row')\n    return label\n  },\n  getMultiCheckboxHolder: function (controls, label, description, infoText) {\n    var el = this._super(controls, label, description, infoText)\n    el.classList.add('inline-flex', 'flex-col')\n    return el\n  },\n  // Radio elements\n  getFormRadio: function (attributes) {\n    var el = this.getFormInputField('radio')\n    el.classList.add('form-radio', 'text-red-600')\n    for (var key in attributes) {\n      el.setAttribute(key, attributes[key])\n    }\n    return el\n  },\n  getFormRadioLabel: function (text, req) {\n    var el = this._super(text, req)\n    el.classList.add('inline-flex', 'items-center', 'mr-2')\n    return el\n  },\n  getFormRadioControl: function (label, input, compact) {\n    label.insertBefore(input, label.firstChild) // Move input into label element\n    if (compact) label.classList.add('form-radio')\n    return label\n  },\n  getRadioHolder: function (schema, controls, label, description, infoText) {\n    var el = this._super(controls, label, description, infoText)\n    if (schema.options.layout === 'h') el.classList.add('inline-flex', 'flex-row')\n    else el.classList.add('inline-flex', 'flex-col')\n    return el\n  },\n  getFormInputLabel: function (text, req) {\n    var el = this._super(text, req)\n    if (this.options.label_bold) el.classList.add('font-bold')\n    else el.classList.add('required')\n    return el\n  },\n  getFormInputField: function (type) {\n    var el = this._super(type)\n    if (['checkbox', 'radio'].indexOf(type) < 0) el.classList.add('block', 'w-full', 'px-1', 'text-black', 'text-sm', 'leading-normal', 'bg-white', 'border', 'border-grey', 'rounded')\n    if (this.options.enable_compact) el.classList.add('compact')\n    return el\n  },\n  getFormInputDescription: function (text) {\n    var el = document.createElement('p')\n    el.classList.add('block', 'mt-1', 'text-xs')\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text)\n    else el.textContent = this.cleanText(text)\n    return el\n  },\n  getFormControl: function (label, input, description, infoText) {\n    var group = document.createElement('div')\n    group.classList.add('form-group', 'mb-1', 'w-full')\n    if (label) {\n      label.classList.add('text-xs')\n\n      if (input.type === 'checkbox') {\n        input.classList.add('form-checkbox', 'text-xs', 'text-red-600', 'mr-1')\n        label.classList.add('items-center', 'flex')\n        label = this.getFormCheckboxControl(label, input, false, infoText)\n      }\n\n      if (input.type === 'radio') {\n        input.classList.add('form-radio', 'text-red-600', 'mr-1')\n        label.classList.add('items-center', 'flex')\n        label = this.getFormRadioControl(label, input, false, infoText)\n      }\n      group.appendChild(label)\n\n      if (['checkbox', 'radio'].indexOf(input.type) < 0 && infoText) group.appendChild(infoText)\n    }\n    if (['checkbox', 'radio'].indexOf(input.type) < 0) {\n      if (this.options.input_size === 'small') input.classList.add('text-xs')\n      else if (this.options.input_size === 'normal') input.classList.add('text-base')\n      else if (this.options.input_size === 'large') input.classList.add('text-xl')\n      group.appendChild(input)\n    }\n\n    if (description) group.appendChild(description)\n\n    return group\n  },\n  getHeaderButtonHolder: function () {\n    var el = this.getButtonHolder()\n    el.classList.add('text-sm')\n    return el\n  },\n  getButtonHolder: function () {\n    var el = document.createElement('div')\n    el.classList.add('flex', 'relative', 'inline-flex', 'align-middle')\n    return el\n  },\n  getButton: function (text, icon, title) {\n    var el = this._super(text, icon, title)\n    el.classList.add('inline-block', 'align-middle', 'text-center', 'text-sm', 'bg-blue-700', 'text-white', 'py-1', 'pr-1', 'm-2', 'shadow', 'select-none', 'whitespace-no-wrap', 'rounded')\n    return el\n  },\n  // Button for displaying infotext tooltip\n  getInfoButton: function (text) {\n    var tooltip = document.createElement('a')\n    tooltip.classList.add('tooltips', 'float-right')\n    tooltip.innerHTML = ''\n    var span = document.createElement('span')\n    span.innerHTML = text\n    tooltip.appendChild(span)\n\n    return tooltip\n  },\n  getTable: function () {\n    var el = this._super()\n    if (this.options.table_border) el.classList.add('je-table-border')\n    else el.classList.add('table', 'border', 'p-0')\n    return el\n  },\n  getTableRow: function () {\n    var el = this._super()\n    if (this.options.table_border) el.classList.add('je-table-border')\n    if (this.options.table_zebrastyle) el.classList.add('je-table-zebra')\n    return el\n  },\n  getTableHeaderCell: function (text) {\n    var el = this._super(text)\n    if (this.options.table_border) el.classList.add('je-table-border')\n    else if (this.options.table_hdiv) el.classList.add('je-table-hdiv')\n    else el.classList.add('text-xs', 'border', 'p-0', 'm-0')\n    return el\n  },\n  getTableCell: function () {\n    var el = this._super()\n    if (this.options.table_border) el.classList.add('je-table-border')\n    else if (this.options.table_hdiv) el.classList.add('je-table-hdiv')\n    else el.classList.add('border-0', 'p-0', 'm-0')\n    return el\n  },\n  addInputError: function (input, text) {\n    if (!input.controlgroup) return\n    input.controlgroup.classList.add('has-error')\n    input.classList.add('bg-red-600')\n    if (!input.errmsg) {\n      input.errmsg = document.createElement('p')\n      input.errmsg.classList.add('block', 'mt-1', 'text-xs', 'text-red')\n      input.controlgroup.appendChild(input.errmsg)\n    } else {\n      input.errmsg.style.display = ''\n    }\n    input.errmsg.textContent = text\n  },\n  removeInputError: function (input) {\n    if (!input.errmsg) return\n    input.errmsg.style.display = 'none'\n    input.classList.remove('bg-red-600')\n    input.controlgroup.classList.remove('has-error')\n  },\n  getTabHolder: function (propertyName) {\n    var el = document.createElement('div')\n    var pName = typeof propertyName === 'undefined' ? '' : propertyName\n    el.innerHTML = \"<div class='w-2/12' id='\" + pName + \"'><ul class='list-reset pl-0 mb-0'></ul></div><div class='w-10/12' id='\" + pName + \"'></div>\"\n    el.classList.add('flex')\n    return el\n  },\n  addTab: function (holder, tab) {\n    holder.children[0].children[0].appendChild(tab)\n  },\n  getTopTabHolder: function (propertyName) {\n    var pName = typeof propertyName === 'undefined' ? '' : propertyName\n    var el = document.createElement('div')\n    el.innerHTML = \"<ul class='nav-tabs flex list-reset pl-0 mb-0 border-b border-grey-light' id='\" + pName + \"'></ul><div class='p-6 block' id='\" + pName + \"'></div>\"\n    return el\n  },\n  getTab: function (text, tabId) {\n    var liel = document.createElement('li')\n    liel.classList.add('nav-item', 'flex-col', 'text-center', 'text-white', 'bg-blue-500', 'shadow-md', 'border', 'p-2', 'mb-2', 'mr-2', 'hover:bg-blue-400', 'rounded')\n    var ael = document.createElement('a')\n    ael.classList.add('nav-link', 'text-center')\n    ael.setAttribute('href', '#' + tabId)\n    ael.setAttribute('data-toggle', 'tab')\n    ael.appendChild(text)\n    liel.appendChild(ael)\n    return liel\n  },\n  getTopTab: function (text, tabId) {\n    var el = document.createElement('li')\n    el.classList.add('nav-item', 'flex', 'border-l', 'border-t', 'border-r')\n    var a = document.createElement('a')\n    a.classList.add('nav-link', '-mb-px', 'flex-row', 'text-center', 'bg-white', 'p-2', 'hover:bg-blue-400', 'rounded-t')\n    a.setAttribute('href', '#' + tabId)\n    a.setAttribute('data-toggle', 'tab')\n    a.appendChild(text)\n    el.appendChild(a)\n    return el\n  },\n  getTabContent: function () {\n    var el = document.createElement('div')\n    el.setAttribute('role', 'tabpanel')\n    return el\n  },\n  getTopTabContent: function () {\n    var el = document.createElement('div')\n    el.setAttribute('role', 'tabpanel')\n    return el\n  },\n  markTabActive: function (row) {\n    row.tab.firstChild.classList.add('block')\n    if (row.tab.firstChild.classList.contains('border-b') === true) {\n      row.tab.firstChild.classList.add('border-b-0')\n      row.tab.firstChild.classList.remove('border-b')\n    } else {\n      row.tab.firstChild.classList.add('border-b-0')\n    }\n    if (row.container.classList.contains('hidden') === true) {\n      row.container.classList.remove('hidden')\n      row.container.classList.add('block')\n    } else {\n      row.container.classList.add('block')\n    }\n  },\n  markTabInactive: function (row) {\n    if (row.tab.firstChild.classList.contains('border-b-0') === true) {\n      row.tab.firstChild.classList.add('border-b')\n      row.tab.firstChild.classList.remove('border-b-0')\n    } else {\n      row.tab.firstChild.classList.add('border-b')\n    }\n    if (row.container.classList.contains('block') === true) {\n      row.container.classList.remove('block')\n      row.container.classList.add('hidden')\n    }\n  },\n  getProgressBar: function () {\n    var min = 0\n    var max = 100\n    var start = 0\n\n    var container = document.createElement('div')\n    container.classList.add('progress')\n\n    var bar = document.createElement('div')\n    bar.classList.add('bg-blue', 'leading-none', 'py-1', 'text-xs', 'text-center', 'text-white')\n    bar.setAttribute('role', 'progressbar')\n    bar.setAttribute('aria-valuenow', start)\n    bar.setAttribute('aria-valuemin', min)\n    bar.setAttribute('aria-valuenax', max)\n    bar.innerHTML = start + '%'\n    container.appendChild(bar)\n\n    return container\n  },\n  updateProgressBar: function (progressBar, progress) {\n    if (!progressBar) return\n\n    var bar = progressBar.firstChild\n    var percentage = progress + '%'\n    bar.setAttribute('aria-valuenow', progress)\n    bar.style.width = percentage\n    bar.innerHTML = percentage\n  },\n  updateProgressBarUnknown: function (progressBar) {\n    if (!progressBar) return\n\n    var bar = progressBar.firstChild\n    progressBar.classList.add('progress', 'bg-blue', 'leading-none', 'py-1', 'text-xs', 'text-center', 'text-white', 'block')\n    bar.removeAttribute('aria-valuenow')\n    bar.classList.add('w-full')\n    bar.innerHTML = ''\n  },\n  getInputGroup: function (input, buttons) {\n    if (!input) return\n\n    var inputGroupContainer = document.createElement('div')\n    inputGroupContainer.classList.add('relative', 'items-stretch', 'w-full')\n    inputGroupContainer.appendChild(input)\n\n    var inputGroup = document.createElement('div')\n    inputGroup.classList.add('-mr-1')\n    inputGroupContainer.appendChild(inputGroup)\n\n    for (var i = 0; i < buttons.length; i++) {\n      inputGroup.appendChild(buttons[i])\n    }\n\n    return inputGroupContainer\n  }\n})\n","/**\n * Taken from jQuery 2.1.3\n *\n * @param obj\n * @returns {boolean}\n */\nexport var $isplainobject = function (obj) {\n  // Not plain objects:\n  // - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n  // - DOM nodes\n  // - window\n\n  if (obj === null) {\n    return false\n  }\n\n  if (typeof obj !== 'object' || obj.nodeType || (obj === obj.window)) {\n    return false\n  }\n\n  if (obj.constructor && !Object.prototype.hasOwnProperty.call(obj.constructor.prototype, 'isPrototypeOf')) {\n    return false\n  }\n\n  // If the function hasn't returned already, we're confident that\n  // |obj| is a plain object, created by {} or constructed with new Object\n  return true\n}\n\nexport var deepcopy = function (target) {\n  return $isplainobject(target) ? $extend({}, target) : Array.isArray(target) ? target.map(deepcopy) : target\n}\n\nexport var $extend = function (destination) {\n  var source, i, property\n  for (i = 1; i < arguments.length; i++) {\n    source = arguments[i]\n    for (property in source) {\n      if (!source.hasOwnProperty(property)) continue\n      if (source[property] && $isplainobject(source[property])) {\n        if (!destination.hasOwnProperty(property)) destination[property] = {}\n        $extend(destination[property], source[property])\n      } else if (Array.isArray(source[property])) {\n        destination[property] = deepcopy(source[property])\n      } else {\n        destination[property] = source[property]\n      }\n    }\n  }\n  return destination\n}\n\nexport var $each = function (obj, callback) {\n  if (!obj || typeof obj !== 'object') return\n  var i\n  if (Array.isArray(obj) || (typeof obj.length === 'number' && obj.length > 0 && (obj.length - 1) in obj)) {\n    for (i = 0; i < obj.length; i++) {\n      if (callback(i, obj[i]) === false) return\n    }\n  } else {\n    if (Object.keys) {\n      var keys = Object.keys(obj)\n      for (i = 0; i < keys.length; i++) {\n        if (callback(keys[i], obj[keys[i]]) === false) return\n      }\n    } else {\n      for (i in obj) {\n        if (!obj.hasOwnProperty(i)) continue\n        if (callback(i, obj[i]) === false) return\n      }\n    }\n  }\n}\n\nexport var $trigger = function (el, event) {\n  var e = document.createEvent('HTMLEvents')\n  e.initEvent(event, true, true)\n  el.dispatchEvent(e)\n}\n","import { Class } from './class'\nimport { ipValidator } from './validators/ip-validator'\nimport { $extend } from './utilities'\n\nexport const Validator = Class.extend({\n  init: function (jsoneditor, schema, options, defaults) {\n    this.jsoneditor = jsoneditor\n    this.schema = schema || this.jsoneditor.schema\n    this.options = options || {}\n    this.translate = this.jsoneditor.translate || defaults.translate\n    this.defaults = defaults\n  },\n  fitTest: function (value, givenSchema, weight) {\n    weight = typeof weight === 'undefined' ? 10000000 : weight\n    const fit = { match: 0, extra: 0 }\n    if (typeof value === 'object' && value !== null) {\n      // Work on a copy of the schema\n      const properties = this._getSchema(givenSchema).properties\n\n      for (const i in properties) {\n        if (!properties.hasOwnProperty(i)) {\n          fit.extra += weight\n          continue\n        }\n        if (typeof value[i] === 'object' && typeof properties[i] === 'object' && typeof properties[i].properties === 'object') {\n          const result = this.fitTest(value[i], properties[i], weight / 100)\n          fit.match += result.match\n          fit.extra += result.extra\n        }\n        if (typeof value[i] !== 'undefined') {\n          fit.match += weight\n        }\n      }\n    }\n    return fit\n  },\n  _getSchema: function (schema) {\n    return typeof schema === 'undefined' ? $extend({}, this.jsoneditor.expandRefs(this.schema)) : schema\n  },\n  validate: function (value) {\n    return this._validateSchema(this.schema, value)\n  },\n  _validateSchema: function (schema, value, path) {\n    const errors = []\n    path = path || 'root'\n\n    // Work on a copy of the schema\n    schema = $extend({}, this.jsoneditor.expandRefs(schema))\n\n    /*\n     * Type Agnostic Validation\n     */\n    // Version 3 `required` and `required_by_default`\n    if (typeof value === 'undefined') {\n      return this._validateV3Required(schema, value, path)\n    }\n\n    Object.keys(schema).forEach(key => {\n      if (this._validateSubSchema[key]) {\n        errors.push(...this._validateSubSchema[key].call(this, schema, value, path))\n      }\n    })\n\n    /*\n     * Type Specific Validation\n     */\n    errors.push(...this._validateByValueType(schema, value, path))\n\n    if (schema.links) {\n      schema.links.forEach((s, m) => {\n        if (s.rel && s.rel.toLowerCase() === 'describedby') {\n          schema = this._expandSchemaLink(schema, m)\n          errors.push(...this._validateSchema(schema, value, path, this.translate))\n        }\n      })\n    }\n\n    // date, time and datetime-local validation\n    if (['date', 'time', 'datetime-local'].indexOf(schema.format) !== -1) {\n      errors.push(...this._validateDateTimeSubSchema(schema, value, path))\n    }\n\n    // custom validator\n    errors.push(...this._validateCustomValidator(schema, value, path))\n\n    // Remove duplicate errors and add \"errorcount\" property\n    return this._removeDuplicateErrors(errors)\n  },\n  _expandSchemaLink: function (schema, m) {\n    const href = schema.links[m].href\n    const data = this.jsoneditor.root.getValue()\n    const template = this.jsoneditor.compileTemplate(href, this.jsoneditor.template)\n    const ref = document.location.origin + document.location.pathname + template(data)\n\n    schema.links = schema.links.slice(0, m).concat(schema.links.slice(m + 1))\n    return $extend({}, schema, this.jsoneditor.refs[ref])\n  },\n  _validateV3Required: function (schema, value, path) {\n    if ((typeof schema.required !== 'undefined' && schema.required === true) || (typeof schema.required === 'undefined' && this.jsoneditor.options.required_by_default === true)) {\n      return [{\n        path: path,\n        property: 'required',\n        message: this.translate('error_notset')\n      }]\n    }\n    return []\n  },\n  _validateSubSchema: {\n    enum: function (schema, value, path) {\n      const stringified = JSON.stringify(value)\n      const valid = schema.enum.some(e => stringified === JSON.stringify(e))\n      if (!valid) {\n        return [{\n          path: path,\n          property: 'enum',\n          message: this.translate('error_enum')\n        }]\n      }\n      return []\n    },\n    extends: function (schema, value, path) {\n      const validate = (errors, e) => {\n        errors.push(...this._validateSchema(e, value, path))\n        return errors\n      }\n      return schema.extends.reduce(validate, [])\n    },\n    allOf: function (schema, value, path) {\n      const validate = (errors, e) => {\n        errors.push(...this._validateSchema(e, value, path))\n        return errors\n      }\n      return schema.allOf.reduce(validate, [])\n    },\n    anyOf: function (schema, value, path) {\n      const valid = schema.anyOf.some(e => !this._validateSchema(e, value, path).length)\n      if (!valid) {\n        return [{\n          path: path,\n          property: 'anyOf',\n          message: this.translate('error_anyOf')\n        }]\n      }\n      return []\n    },\n    oneOf: function (schema, value, path) {\n      let valid = 0\n      const oneofErrors = []\n      schema.oneOf.forEach((o, i) => {\n        // Set the error paths to be path.oneOf[i].rest.of.path\n        const tmp = this._validateSchema(o, value, path)\n        if (!tmp.length) {\n          valid++\n        }\n\n        tmp.forEach(e => {\n          e.path = `${path}.oneOf[${i}]${e.path.substr(path.length)}`\n        })\n        oneofErrors.push(...tmp)\n      })\n      const errors = []\n      if (valid !== 1) {\n        errors.push({\n          path: path,\n          property: 'oneOf',\n          message: this.translate('error_oneOf', [valid])\n        })\n        errors.push(...oneofErrors)\n      }\n      return errors\n    },\n    not: function (schema, value, path) {\n      if (!this._validateSchema(schema.not, value, path).length) {\n        return [{\n          path: path,\n          property: 'not',\n          message: this.translate('error_not')\n        }]\n      }\n      return []\n    },\n    type: function (schema, value, path) {\n      // Union type\n      if (Array.isArray(schema.type)) {\n        const valid = schema.type.some(e => this._checkType(e, value))\n        if (!valid) {\n          return [{\n            path: path,\n            property: 'type',\n            message: this.translate('error_type_union')\n          }]\n        }\n      } else {\n      // Simple type\n        if (['date', 'time', 'datetime-local'].indexOf(schema.format) !== -1 && schema.type === 'integer') {\n          // Hack to get validator to validate as string even if value is integer\n          // As validation of 'date', 'time', 'datetime-local' is done in separate validator\n          if (!this._checkType('string', '' + value)) {\n            return [{\n              path: path,\n              property: 'type',\n              message: this.translate('error_type', [schema.format])\n            }]\n          }\n        } else if (!this._checkType(schema.type, value)) {\n          return [{\n            path: path,\n            property: 'type',\n            message: this.translate('error_type', [schema.type])\n          }]\n        }\n      }\n      return []\n    },\n    disallow: function (schema, value, path) {\n      // Union type\n      if (Array.isArray(schema.disallow)) {\n        const invalid = schema.disallow.some(e => this._checkType(e, value))\n        if (invalid) {\n          return [{\n            path: path,\n            property: 'disallow',\n            message: this.translate('error_disallow_union')\n          }]\n        }\n      } else {\n        // Simple type\n        if (this._checkType(schema.disallow, value)) {\n          return [{\n            path: path,\n            property: 'disallow',\n            message: this.translate('error_disallow', [schema.disallow])\n          }]\n        }\n      }\n      return []\n    }\n  },\n  _validateByValueType: function (schema, value, path) {\n    const errors = []\n    const self = this\n    if (value === null) return errors\n    // Number Specific Validation\n    if (typeof value === 'number') {\n      // `multipleOf` and `divisibleBy`\n      // `maximum`\n      // `minimum`\n      Object.keys(schema).forEach(key => {\n        if (this._validateNumberSubSchema[key]) {\n          errors.push(...this._validateNumberSubSchema[key].call(self, schema, value, path))\n        }\n      })\n    // String specific validation\n    } else if (typeof value === 'string') {\n      // `maxLength`\n      // `minLength`\n      // `pattern`\n      Object.keys(schema).forEach(key => {\n        if (this._validateStringSubSchema[key]) {\n          errors.push(...this._validateStringSubSchema[key].call(self, schema, value, path))\n        }\n      })\n    // Array specific validation\n    } else if (Array.isArray(value)) {\n      // `items` and `additionalItems`\n      // `maxItems`\n      // `minItems`\n      // `uniqueItems`\n      Object.keys(schema).forEach(key => {\n        if (this._validateArraySubSchema[key]) {\n          errors.push(...this._validateArraySubSchema[key].call(self, schema, value, path))\n        }\n      })\n    // Object specific validation\n    } else if (typeof value === 'object') {\n      const validatedProperties = {}\n      // `maxProperties`\n      // `minProperties`\n      //  Version 4 `required`\n      // `properties`\n      // `patternProperties`\n      Object.keys(schema).forEach(key => {\n        if (this._validateObjectSubSchema[key]) {\n          errors.push(...this._validateObjectSubSchema[key].call(self, schema, value, path, validatedProperties))\n        }\n      })\n\n      // The no_additional_properties option currently doesn't work with extended schemas that use oneOf or anyOf\n      if (typeof schema.additionalProperties === 'undefined' && this.jsoneditor.options.no_additional_properties && !schema.oneOf && !schema.anyOf) {\n        schema.additionalProperties = false\n      }\n\n      // `additionalProperties`\n      // `dependencies`\n      Object.keys(schema).forEach(key => {\n        if (typeof this._validateObjectSubSchema2[key] !== 'undefined') {\n          errors.push(...this._validateObjectSubSchema2[key].call(self, schema, value, path, validatedProperties))\n        }\n      })\n    }\n    return errors\n  },\n  _validateNumberSubSchema: {\n    multipleOf: function (schema, value, path) { return this._validateNumberSubSchemaMultipleDivisible(schema, value, path) },\n    divisibleBy: function (schema, value, path) { return this._validateNumberSubSchemaMultipleDivisible(schema, value, path) },\n    maximum: function (schema, value, path) {\n      // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\n      let valid = schema.exclusiveMaximum ? (value < schema.maximum) : (value <= schema.maximum)\n\n      // Use math.js is available\n      if (window.math) {\n        valid = window.math[schema.exclusiveMaximum ? 'smaller' : 'smallerEq'](\n          window.math.bignumber(value),\n          window.math.bignumber(schema.maximum)\n        )\n      } else if (window.Decimal) {\n        // Use Decimal.js if available\n        valid = (new window.Decimal(value))[schema.exclusiveMaximum ? 'lt' : 'lte'](new window.Decimal(schema.maximum))\n      }\n\n      if (!valid) {\n        return [{\n          path: path,\n          property: 'maximum',\n          message: this.translate(\n            (schema.exclusiveMaximum ? 'error_maximum_excl' : 'error_maximum_incl'),\n            [schema.maximum]\n          )\n        }]\n      }\n      return []\n    },\n    minimum: function (schema, value, path) {\n      // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\n      let valid = schema.exclusiveMinimum ? (value > schema.minimum) : (value >= schema.minimum)\n\n      // Use math.js is available\n      if (window.math) {\n        valid = window.math[schema.exclusiveMinimum ? 'larger' : 'largerEq'](\n          window.math.bignumber(value),\n          window.math.bignumber(schema.minimum)\n        )\n        // Use Decimal.js if available\n      } else if (window.Decimal) {\n        valid = (new window.Decimal(value))[schema.exclusiveMinimum ? 'gt' : 'gte'](new window.Decimal(schema.minimum))\n      }\n\n      if (!valid) {\n        return [{\n          path: path,\n          property: 'minimum',\n          message: this.translate(\n            (schema.exclusiveMinimum ? 'error_minimum_excl' : 'error_minimum_incl'),\n            [schema.minimum]\n          )\n        }]\n      }\n      return []\n    }\n  },\n  _validateNumberSubSchemaMultipleDivisible: function (schema, value, path) {\n    const divisor = schema.multipleOf || schema.divisibleBy\n    // Vanilla JS, prone to floating point rounding errors (e.g. 1.14 / .01 == 113.99999)\n    let valid = (value / divisor === Math.floor(value / divisor))\n\n    // Use math.js is available\n    if (window.math) {\n      valid = window.math.mod(window.math.bignumber(value), window.math.bignumber(divisor)).equals(0)\n    } else if (window.Decimal) {\n      // Use decimal.js is available\n      valid = (new window.Decimal(value)).mod(new window.Decimal(divisor)).equals(0)\n    }\n\n    if (!valid) {\n      return [{\n        path: path,\n        property: schema.multipleOf ? 'multipleOf' : 'divisibleBy',\n        message: this.translate('error_multipleOf', [divisor])\n      }]\n    }\n    return []\n  },\n  _validateStringSubSchema: {\n    maxLength: function (schema, value, path) {\n      const errors = []\n      if ((value + '').length > schema.maxLength) {\n        errors.push({\n          path: path,\n          property: 'maxLength',\n          message: this.translate('error_maxLength', [schema.maxLength])\n        })\n      }\n      return errors\n    },\n    // `minLength`\n    minLength: function (schema, value, path) {\n      if ((value + '').length < schema.minLength) {\n        return [{\n          path: path,\n          property: 'minLength',\n          message: this.translate((schema.minLength === 1 ? 'error_notempty' : 'error_minLength'), [schema.minLength])\n        }]\n      }\n      return []\n    },\n    // `pattern`\n    pattern: function (schema, value, path) {\n      if (!(new RegExp(schema.pattern)).test(value)) {\n        return [{\n          path: path,\n          property: 'pattern',\n          message: (schema.options && schema.options.patternmessage) ? schema.options.patternmessage : this.translate('error_pattern', [schema.pattern])\n        }]\n      }\n      return []\n    }\n  },\n  _validateArraySubSchema: {\n    items: function (schema, value, path) {\n      const errors = []\n      if (Array.isArray(schema.items)) {\n        for (let i = 0; i < value.length; i++) {\n          // If this item has a specific schema tied to it\n          // Validate against it\n          if (schema.items[i]) {\n            errors.push(...this._validateSchema(schema.items[i], value[i], path + '.' + i))\n          // If all additional items are allowed\n          } else if (schema.additionalItems === true) {\n            break\n          // If additional items is a schema\n          // TODO: Incompatibility between version 3 and 4 of the spec\n          } else if (schema.additionalItems) {\n            errors.push(...this._validateSchema(schema.additionalItems, value[i], path + '.' + i))\n          // If no additional items are allowed\n          } else if (schema.additionalItems === false) {\n            errors.push({\n              path: path,\n              property: 'additionalItems',\n              message: this.translate('error_additionalItems')\n            })\n            break\n          // Default for `additionalItems` is an empty schema\n          } else {\n            break\n          }\n        }\n      // `items` is a schema\n      } else {\n        // Each item in the array must validate against the schema\n        value.forEach((e, i) => {\n          errors.push(...this._validateSchema(schema.items, e, path + '.' + i))\n        })\n      }\n      return errors\n    },\n    maxItems: function (schema, value, path) {\n      if (value.length > schema.maxItems) {\n        return [{\n          path: path,\n          property: 'maxItems',\n          message: this.translate('error_maxItems', [schema.maxItems])\n        }]\n      }\n      return []\n    },\n    minItems: function (schema, value, path) {\n      if (value.length < schema.minItems) {\n        return [{\n          path: path,\n          property: 'minItems',\n          message: this.translate('error_minItems', [schema.minItems])\n        }]\n      }\n      return []\n    },\n    uniqueItems: function (schema, value, path) {\n      const seen = {}\n      for (let i = 0; i < value.length; i++) {\n        const valid = JSON.stringify(value[i])\n        if (seen[valid]) {\n          return [{\n            path: path,\n            property: 'uniqueItems',\n            message: this.translate('error_uniqueItems')\n          }]\n        }\n        seen[valid] = true\n      }\n      return []\n    }\n  },\n  _validateObjectSubSchema: {\n    maxProperties: function (schema, value, path) {\n      if (Object.keys(value).length > schema.maxProperties) {\n        return [{\n          path: path,\n          property: 'maxProperties',\n          message: this.translate('error_maxProperties', [schema.maxProperties])\n        }]\n      }\n      return []\n    },\n    minProperties: function (schema, value, path) {\n      if (Object.keys(value).length < schema.minProperties) {\n        return [{\n          path: path,\n          property: 'minProperties',\n          message: this.translate('error_minProperties', [schema.minProperties])\n        }]\n      }\n      return []\n    },\n    required: function (schema, value, path) {\n      const errors = []\n      if (Array.isArray(schema.required)) {\n        schema.required.forEach(e => {\n          if (typeof value[e] !== 'undefined') return\n          const editor = this.jsoneditor.getEditor(path + '.' + e)\n          // Ignore required error if editor is of type \"button\" or \"info\"\n          if (editor && ['button', 'info'].indexOf(editor.schema.format || editor.schema.type) !== -1) return\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate('error_required', [e])\n          })\n        })\n      }\n      return errors\n    },\n    properties: function (schema, value, path, validatedProperties) {\n      const errors = []\n      Object.entries(schema.properties).forEach(([key, prop]) => {\n        validatedProperties[key] = true\n        errors.push(...this._validateSchema(prop, value[key], path + '.' + key))\n      })\n      return errors\n    },\n    patternProperties: function (schema, value, path, validatedProperties) {\n      const errors = []\n      Object.entries(schema.patternProperties).forEach(([i, prop]) => {\n        const regex = new RegExp(i)\n        // Check which properties match\n        Object.entries(value).forEach(([j, v]) => {\n          if (regex.test(j)) {\n            validatedProperties[j] = true\n            errors.push(...this._validateSchema(prop, v, path + '.' + j))\n          }\n        })\n      })\n      return errors\n    }\n  },\n  _validateObjectSubSchema2: {\n    additionalProperties: function (schema, value, path, validatedProperties) {\n      const errors = []\n      for (let i in value) {\n        if (!value.hasOwnProperty(i)) continue\n        if (!validatedProperties[i]) {\n          // No extra properties allowed\n          if (!schema.additionalProperties) {\n            errors.push({\n              path: path,\n              property: 'additionalProperties',\n              message: this.translate('error_additional_properties', [i])\n            })\n            break\n          // Allowed\n          } else if (schema.additionalProperties === true) {\n            break\n          // Must match schema\n          // TODO: incompatibility between version 3 and 4 of the spec\n          } else {\n            errors.push(...this._validateSchema(schema.additionalProperties, value[i], path + '.' + i))\n          }\n        }\n      }\n      return errors\n    },\n    dependencies: function (schema, value, path) {\n      const errors = []\n      Object.entries(schema.dependencies).forEach(([i, dep]) => {\n        // Doesn't need to meet the dependency\n        if (typeof value[i] === 'undefined') return\n\n        // Property dependency\n        if (Array.isArray(dep)) {\n          dep.forEach(d => {\n            if (typeof value[d] === 'undefined') {\n              errors.push({\n                path: path,\n                property: 'dependencies',\n                message: this.translate('error_dependency', [d])\n              })\n            }\n          })\n        // Schema dependency\n        } else {\n          errors.push(...this._validateSchema(dep, value, path))\n        }\n      })\n      return errors\n    }\n  },\n  _validateDateTimeSubSchema: function (schema, value, path) {\n    const _validateInteger = (schema, value, path) => {\n      // The value is a timestamp\n      if (value * 1 < 1) {\n        // If value is less than 1, then it's an invalid epoch date before 00:00:00 UTC Thursday, 1 January 1970\n        return [{\n          path: path,\n          property: 'format',\n          message: this.translate('error_invalid_epoch')\n        }]\n      } else if (value !== Math.abs(parseInt(value))) {\n        // not much to check for, so we assume value is ok if it's a positive number\n        return [{\n          path: path,\n          property: 'format',\n          message: this.translate('error_' + schema.format.replace(/-/g, '_'), [dateFormat])\n        }]\n      }\n      return []\n    }\n    const _validateFlatPicker = (schema, value, path, editor) => {\n      if (value !== '') {\n        let compareValue\n        if (editor.flatpickr.config.mode !== 'single') {\n          const seperator = editor.flatpickr.config.mode === 'range' ? editor.flatpickr.l10n.rangeSeparator : ', '\n          const selectedDates = editor.flatpickr.selectedDates.map(val =>\n            editor.flatpickr.formatDate(val, editor.flatpickr.config.dateFormat)\n          )\n          compareValue = selectedDates.join(seperator)\n        }\n\n        try {\n          if (compareValue) {\n            // Not the best validation method, but range and multiple mode are special\n            // Optimal solution would be if it is possible to change the return format from string/integer to array\n            if (compareValue !== value) throw new Error(editor.flatpickr.config.mode + ' mismatch')\n          } else if (editor.flatpickr.formatDate(editor.flatpickr.parseDate(value, editor.flatpickr.config.dateFormat), editor.flatpickr.config.dateFormat) !== value) {\n            throw new Error('mismatch')\n          }\n        } catch (err) {\n          const errorDateFormat = editor.flatpickr.config.errorDateFormat !== undefined ? editor.flatpickr.config.errorDateFormat : editor.flatpickr.config.dateFormat\n          return [{\n            path: path,\n            property: 'format',\n            message: this.translate('error_' + editor.format.replace(/-/g, '_'), [errorDateFormat])\n          }]\n        }\n      }\n      return []\n    }\n\n    const validatorRx = {\n      'date': /^(\\d{4}\\D\\d{2}\\D\\d{2})?$/,\n      'time': /^(\\d{2}:\\d{2}(?::\\d{2})?)?$/,\n      'datetime-local': /^(\\d{4}\\D\\d{2}\\D\\d{2}[ T]\\d{2}:\\d{2}(?::\\d{2})?)?$/\n    }\n    const format = {\n      'date': '\"YYYY-MM-DD\"',\n      'time': '\"HH:MM\"',\n      'datetime-local': '\"YYYY-MM-DD HH:MM\"'\n    }\n\n    const editor = this.jsoneditor.getEditor(path)\n    const dateFormat = (editor && editor.flatpickr) ? editor.flatpickr.config.dateFormat : format[schema.format]\n\n    if (schema.type === 'integer') {\n      return _validateInteger(schema, value, path)\n    } else if (!editor || !editor.flatpickr) {\n      // Standard string input, without flatpickr\n      if (!validatorRx[schema.format].test(value)) {\n        return [{\n          path: path,\n          property: 'format',\n          message: this.translate('error_' + schema.format.replace(/-/g, '_'), [dateFormat])\n        }]\n      }\n    } else if (editor) {\n      // Flatpickr validation\n      return _validateFlatPicker(schema, value, path, editor)\n    }\n    return []\n  },\n  _validateCustomValidator: function (schema, value, path) {\n    const errors = []\n    // Internal validators using the custom validator format\n    errors.push(...ipValidator.call(this, schema, value, path, this.translate))\n\n    const validate = validator => {\n      errors.push(...validator.call(this, schema, value, path))\n    }\n    // Custom type validation (global)\n    this.defaults.custom_validators.forEach(validate)\n    // Custom type validation (instance specific)\n    if (this.options.custom_validators) {\n      this.options.custom_validators.forEach(validate)\n    }\n    return errors\n  },\n  _removeDuplicateErrors: function (errors) {\n    return errors.reduce((err, obj) => {\n      let first = true\n      if (!err) err = []\n      err.forEach(a => {\n        if (a.message === obj.message && a.path === obj.path && a.property === obj.property) {\n          a.errorcount++\n          first = false\n        }\n      })\n      if (first) {\n        obj.errorcount = 1\n        err.push(obj)\n      }\n      return err\n    }, [])\n  },\n  _checkType: function (type, value) {\n    const types = {\n      string: value => typeof value === 'string',\n      number: value => typeof value === 'number',\n      integer: value => typeof value === 'number' && value === Math.floor(value),\n      boolean: value => typeof value === 'boolean',\n      array: value => Array.isArray(value),\n      object: value => value !== null && !(Array.isArray(value)) && typeof value === 'object',\n      null: value => value === null\n    }\n    // Simple types\n    if (typeof type === 'string') {\n      if (types[type]) {\n        return types[type](value)\n      } else return true\n    // Schema\n    } else {\n      return !this._validateSchema(type, value).length\n    }\n  }\n})\n","// Implements ipv4, ipv6 and hostname format validations as per https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-7.3.4\r\nvar validateIpv4 = function (value) {\r\n  var parts = value.split('.')\r\n  if (parts.length !== 4) {\r\n    throw new Error('error_ipv4')\r\n  }\r\n  parts.forEach(function (part) {\r\n    if (isNaN(+part) || +part < 0 || +part > 255) {\r\n      throw new Error('error_ipv4')\r\n    }\r\n  })\r\n}\r\n\r\nvar validateIpv6 = function (value) {\r\n  if (!value.match(\r\n    '^(?:(?:(?:[a-fA-F0-9]{1,4}:){6}|(?=(?:[a-fA-F0-9]{0,4}:){2,6}(?:[0-9]{1,3}.){3}[0-9]{1,3}$)(([0-9a-fA-F]{1,4}:){1,5}|:)((:[0-9a-fA-F]{1,4}){1,5}:|:)|::(?:[a-fA-F0-9]{1,4}:){5})(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]).){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])|(?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}|(?=(?:[a-fA-F0-9]{0,4}:){0,7}[a-fA-F0-9]{0,4}$)(([0-9a-fA-F]{1,4}:){1,7}|:)((:[0-9a-fA-F]{1,4}){1,7}|:)|(?:[a-fA-F0-9]{1,4}:){7}:|:(:[a-fA-F0-9]{1,4}){7})$'\r\n  )) {\r\n    throw new Error('error_ipv6')\r\n  }\r\n}\r\n\r\nvar validateHostname = function (value) {\r\n  if (!value.match(\r\n    '(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9].)+[a-zA-Z]{2,63}$)'\r\n  )) {\r\n    throw new Error('error_hostname')\r\n  }\r\n}\r\n\r\nexport function ipValidator (schema, value, path, translate) {\r\n  try {\r\n    switch (schema.format) {\r\n      case 'ipv4':\r\n        validateIpv4(value)\r\n        break\r\n      case 'ipv6':\r\n        validateIpv6(value)\r\n        break\r\n      case 'hostname':\r\n        validateHostname(value)\r\n        break\r\n    }\r\n    return []\r\n  } catch (err) {\r\n    return [{\r\n      path: path,\r\n      property: 'format',\r\n      message: translate(err.message)\r\n    }]\r\n  }\r\n}\r\n"],"sourceRoot":""}